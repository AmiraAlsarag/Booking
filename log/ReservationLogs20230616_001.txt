2023-06-16 02:45:59.951 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-16 02:46:01.407 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 02:46:02.277 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 02:47:33.050 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-16 02:47:34.738 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 02:47:34.796 +03:00 [DBG] Creating DbConnection.
2023-06-16 02:47:34.934 +03:00 [DBG] Created DbConnection. (130ms).
2023-06-16 02:47:34.941 +03:00 [DBG] Migrating using database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 02:47:34.979 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 02:47:37.220 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 02:47:37.231 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-16 02:47:37.244 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (10ms).
2023-06-16 02:47:37.248 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (20ms).
2023-06-16 02:47:37.260 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-16 02:47:37.296 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-16 02:47:37.298 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 02:47:37.309 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (6ms).
2023-06-16 02:47:37.313 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-06-16 02:47:37.313 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-06-16 02:47:37.313 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-06-16 02:47:37.313 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 02:47:37.314 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 02:47:37.315 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-16 02:47:37.372 +03:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-16 02:47:37.372 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 02:47:37.373 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 02:47:37.374 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 02:47:37.374 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 02:47:37.374 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-16 02:47:37.374 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-16 02:47:37.374 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-16 02:47:37.375 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-16 02:47:37.377 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-16 02:47:37.377 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 02:47:37.378 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 02:47:37.378 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-06-16 02:47:37.378 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-06-16 02:47:37.378 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-06-16 02:47:37.378 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 02:47:37.378 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 02:47:37.378 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-16 02:47:37.379 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-16 02:47:37.379 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 02:47:37.379 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 02:47:37.421 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 02:47:37.421 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-16 02:47:37.421 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-06-16 02:47:37.421 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 02:47:37.422 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 02:47:37.423 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-06-16 02:47:37.453 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-06-16 02:47:37.458 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 02:47:37.460 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 4ms reading results.
2023-06-16 02:47:37.461 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 02:47:37.461 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 02:47:37.482 +03:00 [INF] Applying migration '20230615234602_addforeignkeytotripinreservation'.
2023-06-16 02:47:37.602 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 02:47:37.603 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 02:47:37.607 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-06-16 02:47:37.667 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-06-16 02:47:37.668 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-16 02:47:37.668 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-16 02:47:37.670 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-06-16 02:47:37.670 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [Reservations]
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-06-16 02:47:38.007 +03:00 [INF] Executed DbCommand (337ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [Reservations]
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-06-16 02:47:38.008 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-16 02:47:38.008 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-16 02:47:38.008 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-16 02:47:38.008 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Reservations_Trip_Id] ON [Reservations] ([Trip_Id]);
2023-06-16 02:47:38.610 +03:00 [INF] Executed DbCommand (601ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Reservations_Trip_Id] ON [Reservations] ([Trip_Id]);
2023-06-16 02:47:38.610 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-16 02:47:38.610 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-16 02:47:38.610 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-16 02:47:38.610 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Reservations] ADD CONSTRAINT [FK_Reservations_Trips_Trip_Id] FOREIGN KEY ([Trip_Id]) REFERENCES [Trips] ([Id]) ON DELETE CASCADE;
2023-06-16 02:47:38.969 +03:00 [ERR] Failed executing DbCommand (357ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Reservations] ADD CONSTRAINT [FK_Reservations_Trips_Trip_Id] FOREIGN KEY ([Trip_Id]) REFERENCES [Trips] ([Id]) ON DELETE CASCADE;
2023-06-16 02:47:38.973 +03:00 [DBG] Disposing transaction.
2023-06-16 02:47:38.974 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 02:47:38.975 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 02:47:38.980 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 02:47:38.985 +03:00 [DBG] Disposing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 02:47:38.987 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
