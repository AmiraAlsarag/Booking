2023-06-16 03:02:21.464 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-16 03:02:21.569 +03:00 [DBG] Hosting starting
2023-06-16 03:02:21.671 +03:00 [INF] Now listening on: https://localhost:7042
2023-06-16 03:02:21.671 +03:00 [INF] Now listening on: http://localhost:5030
2023-06-16 03:02:21.671 +03:00 [DBG] Loaded hosting startup assembly Booking_ReservationAPI
2023-06-16 03:02:21.671 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-16 03:02:21.671 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-16 03:02:21.671 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 03:02:21.672 +03:00 [INF] Hosting environment: Development
2023-06-16 03:02:21.672 +03:00 [INF] Content root path: C:\Users\Mira\source\TestApis\Booking\Booking_ReservationAPI
2023-06-16 03:02:21.672 +03:00 [DBG] Hosting started
2023-06-16 03:02:22.125 +03:00 [DBG] Connection id "0HMRDVJQO6461" accepted.
2023-06-16 03:02:22.130 +03:00 [DBG] Connection id "0HMRDVJQO6461" started.
2023-06-16 03:02:22.204 +03:00 [DBG] Connection 0HMRDVJQO6461 established using the following protocol: "Tls12"
2023-06-16 03:02:22.254 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7042/swagger/index.html - -
2023-06-16 03:02:22.275 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-16 03:02:22.325 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-06-16 03:02:22.326 +03:00 [DBG] Request did not match any endpoints
2023-06-16 03:02:22.473 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-06-16 03:02:22.575 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-06-16 03:02:22.577 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7042/swagger/index.html - - - 200 - text/html;charset=utf-8 327.2554ms
2023-06-16 03:02:22.588 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7042/_framework/aspnetcore-browser-refresh.js - -
2023-06-16 03:02:22.588 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7042/_vs/browserLink - -
2023-06-16 03:02:22.593 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7042/_framework/aspnetcore-browser-refresh.js - - - 200 12014 application/javascript;+charset=utf-8 5.4378ms
2023-06-16 03:02:22.610 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7042/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 22.7227ms
2023-06-16 03:02:23.124 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7042/swagger/v1/swagger.json - -
2023-06-16 03:02:23.124 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-06-16 03:02:23.125 +03:00 [DBG] Request did not match any endpoints
2023-06-16 03:02:23.336 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7042/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 211.5212ms
2023-06-16 03:02:27.181 +03:00 [DBG] Connection id "0HMRDVJQO6461" received FIN.
2023-06-16 03:02:27.187 +03:00 [DBG] The connection queue processing loop for 0HMRDVJQO6461 completed.
2023-06-16 03:02:27.196 +03:00 [DBG] Connection id "0HMRDVJQO6461" is closed. The last processed stream ID was 7.
2023-06-16 03:02:27.201 +03:00 [DBG] Connection id "0HMRDVJQO6461" sending FIN because: "The client closed the connection."
2023-06-16 03:02:27.216 +03:00 [DBG] Connection id "0HMRDVJQO6461" stopped.
2023-06-16 04:22:52.395 +03:00 [DBG] Connection id "0HMRDVJQO6462" accepted.
2023-06-16 04:22:52.398 +03:00 [DBG] Connection id "0HMRDVJQO6462" started.
2023-06-16 04:22:52.405 +03:00 [DBG] Connection 0HMRDVJQO6462 established using the following protocol: "Tls12"
2023-06-16 04:22:54.674 +03:00 [DBG] Connection id "0HMRDVJQO6462" received FIN.
2023-06-16 04:22:54.674 +03:00 [DBG] Connection id "0HMRDVJQO6462" is closed. The last processed stream ID was 0.
2023-06-16 04:22:54.674 +03:00 [DBG] Connection id "0HMRDVJQO6462" sending FIN because: "The client closed the connection."
2023-06-16 04:22:54.675 +03:00 [DBG] The connection queue processing loop for 0HMRDVJQO6462 completed.
2023-06-16 04:22:54.676 +03:00 [DBG] Connection id "0HMRDVJQO6462" stopped.
2023-06-16 04:27:44.199 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-16 04:27:44.274 +03:00 [DBG] Hosting starting
2023-06-16 04:27:44.376 +03:00 [INF] Now listening on: https://localhost:7001
2023-06-16 04:27:44.377 +03:00 [INF] Now listening on: http://localhost:5030
2023-06-16 04:27:44.377 +03:00 [DBG] Loaded hosting startup assembly Booking_ReservationAPI
2023-06-16 04:27:44.377 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-16 04:27:44.377 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-16 04:27:44.377 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 04:27:44.378 +03:00 [INF] Hosting environment: Development
2023-06-16 04:27:44.378 +03:00 [INF] Content root path: C:\Users\Mira\source\TestApis\Booking\Booking_ReservationAPI
2023-06-16 04:27:44.378 +03:00 [DBG] Hosting started
2023-06-16 04:27:55.799 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-16 04:27:55.890 +03:00 [DBG] Hosting starting
2023-06-16 04:27:56.223 +03:00 [INF] Now listening on: https://localhost:7001
2023-06-16 04:27:56.223 +03:00 [INF] Now listening on: http://localhost:5030
2023-06-16 04:27:56.223 +03:00 [DBG] Loaded hosting startup assembly Booking_ReservationAPI
2023-06-16 04:27:56.223 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-16 04:27:56.223 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-16 04:27:56.223 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 04:27:56.225 +03:00 [INF] Hosting environment: Development
2023-06-16 04:27:56.225 +03:00 [INF] Content root path: C:\Users\Mira\source\TestApis\Booking\Booking_ReservationAPI
2023-06-16 04:27:56.225 +03:00 [DBG] Hosting started
2023-06-16 04:27:56.593 +03:00 [DBG] Connection id "0HMRE13KU952S" accepted.
2023-06-16 04:27:56.595 +03:00 [DBG] Connection id "0HMRE13KU952T" accepted.
2023-06-16 04:27:56.596 +03:00 [DBG] Connection id "0HMRE13KU952S" received FIN.
2023-06-16 04:27:56.596 +03:00 [DBG] Connection id "0HMRE13KU952T" received FIN.
2023-06-16 04:27:56.598 +03:00 [DBG] Connection id "0HMRE13KU952S" started.
2023-06-16 04:27:56.598 +03:00 [DBG] Connection id "0HMRE13KU952T" started.
2023-06-16 04:27:56.626 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 04:27:56.627 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 04:27:56.773 +03:00 [DBG] Connection id "0HMRE13KU952U" accepted.
2023-06-16 04:27:57.008 +03:00 [DBG] Connection id "0HMRE13KU952U" started.
2023-06-16 04:27:57.013 +03:00 [DBG] Connection id "0HMRE13KU952T" stopped.
2023-06-16 04:27:57.013 +03:00 [DBG] Connection id "0HMRE13KU952S" stopped.
2023-06-16 04:27:57.021 +03:00 [DBG] Connection id "0HMRE13KU952T" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 04:27:57.021 +03:00 [DBG] Connection id "0HMRE13KU952S" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 04:27:57.153 +03:00 [DBG] Connection id "0HMRE13KU952V" accepted.
2023-06-16 04:27:57.175 +03:00 [DBG] Connection 0HMRE13KU952U established using the following protocol: "Tls12"
2023-06-16 04:27:57.182 +03:00 [DBG] Connection id "0HMRE13KU952V" started.
2023-06-16 04:27:57.210 +03:00 [DBG] Connection 0HMRE13KU952V established using the following protocol: "Tls12"
2023-06-16 04:27:57.241 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger - -
2023-06-16 04:27:57.264 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-16 04:27:57.305 +03:00 [DBG] No candidates found for the request path '/swagger'
2023-06-16 04:27:57.306 +03:00 [DBG] Request did not match any endpoints
2023-06-16 04:27:57.338 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger - - - 301 0 - 100.4389ms
2023-06-16 04:27:57.399 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2023-06-16 04:27:57.406 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-06-16 04:27:57.406 +03:00 [DBG] Request did not match any endpoints
2023-06-16 04:27:57.634 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-06-16 04:27:57.807 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-06-16 04:27:57.809 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 410.2960ms
2023-06-16 04:27:58.623 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/swagger-ui.css - -
2023-06-16 04:27:58.623 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-06-16 04:27:58.623 +03:00 [DBG] Request did not match any endpoints
2023-06-16 04:27:58.629 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/swagger-ui-bundle.js - -
2023-06-16 04:27:58.629 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-06-16 04:27:58.629 +03:00 [DBG] Request did not match any endpoints
2023-06-16 04:27:58.643 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/swagger-ui-standalone-preset.js - -
2023-06-16 04:27:58.643 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-06-16 04:27:58.644 +03:00 [DBG] Request did not match any endpoints
2023-06-16 04:27:58.726 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-06-16 04:27:58.727 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/swagger-ui-standalone-preset.js - - - 200 339486 text/javascript 83.6227ms
2023-06-16 04:27:58.746 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-06-16 04:27:58.746 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/swagger-ui.css - - - 200 143943 text/css 123.2285ms
2023-06-16 04:27:58.977 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2023-06-16 04:27:58.989 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12014 application/javascript;+charset=utf-8 10.8370ms
2023-06-16 04:27:58.989 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2023-06-16 04:27:59.064 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 74.4458ms
2023-06-16 04:27:59.121 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-06-16 04:27:59.122 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/swagger-ui-bundle.js - - - 200 1096145 text/javascript 492.7406ms
2023-06-16 04:27:59.556 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-06-16 04:27:59.556 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-06-16 04:27:59.556 +03:00 [DBG] Request did not match any endpoints
2023-06-16 04:27:59.637 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/favicon-32x32.png - -
2023-06-16 04:27:59.637 +03:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2023-06-16 04:27:59.637 +03:00 [DBG] Request did not match any endpoints
2023-06-16 04:27:59.637 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-06-16 04:27:59.637 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/favicon-32x32.png - - - 200 628 image/png 0.5790ms
2023-06-16 04:27:59.794 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 238.3936ms
2023-06-16 04:28:03.091 +03:00 [DBG] Connection id "0HMRE13KU952V" received FIN.
2023-06-16 04:28:03.091 +03:00 [DBG] Connection id "0HMRE13KU952U" received FIN.
2023-06-16 04:28:03.097 +03:00 [DBG] Connection id "0HMRE13KU952V" is closed. The last processed stream ID was 0.
2023-06-16 04:28:03.098 +03:00 [DBG] Connection id "0HMRE13KU952V" sending FIN because: "The client closed the connection."
2023-06-16 04:28:03.098 +03:00 [DBG] Connection id "0HMRE13KU952U" is closed. The last processed stream ID was 17.
2023-06-16 04:28:03.098 +03:00 [DBG] Connection id "0HMRE13KU952U" sending FIN because: "The client closed the connection."
2023-06-16 04:28:03.099 +03:00 [DBG] The connection queue processing loop for 0HMRE13KU952U completed.
2023-06-16 04:28:03.099 +03:00 [DBG] The connection queue processing loop for 0HMRE13KU952V completed.
2023-06-16 04:28:03.101 +03:00 [DBG] Connection id "0HMRE13KU952V" stopped.
2023-06-16 04:28:03.101 +03:00 [DBG] Connection id "0HMRE13KU952U" stopped.
2023-06-16 16:47:24.063 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-16 16:47:24.313 +03:00 [DBG] Hosting starting
2023-06-16 16:47:25.610 +03:00 [INF] Now listening on: https://localhost:7001
2023-06-16 16:47:25.610 +03:00 [INF] Now listening on: http://localhost:5030
2023-06-16 16:47:25.611 +03:00 [DBG] Loaded hosting startup assembly Booking_ReservationAPI
2023-06-16 16:47:25.611 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-16 16:47:25.611 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-16 16:47:25.611 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 16:47:25.612 +03:00 [INF] Hosting environment: Development
2023-06-16 16:47:25.612 +03:00 [INF] Content root path: C:\Users\Mira\source\TestApis\Booking\Booking_ReservationAPI
2023-06-16 16:47:25.612 +03:00 [DBG] Hosting started
2023-06-16 16:47:25.907 +03:00 [DBG] Connection id "0HMREE0S11HQ3" received FIN.
2023-06-16 16:47:25.907 +03:00 [DBG] Connection id "0HMREE0S11HQ2" received FIN.
2023-06-16 16:47:25.912 +03:00 [DBG] Connection id "0HMREE0S11HQ2" accepted.
2023-06-16 16:47:25.912 +03:00 [DBG] Connection id "0HMREE0S11HQ3" accepted.
2023-06-16 16:47:25.913 +03:00 [DBG] Connection id "0HMREE0S11HQ2" started.
2023-06-16 16:47:25.913 +03:00 [DBG] Connection id "0HMREE0S11HQ3" started.
2023-06-16 16:47:26.025 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 16:47:26.025 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 16:47:26.089 +03:00 [DBG] Connection id "0HMREE0S11HQ3" stopped.
2023-06-16 16:47:26.089 +03:00 [DBG] Connection id "0HMREE0S11HQ2" stopped.
2023-06-16 16:47:26.093 +03:00 [DBG] Connection id "0HMREE0S11HQ3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 16:47:26.093 +03:00 [DBG] Connection id "0HMREE0S11HQ2" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 16:47:37.369 +03:00 [DBG] Connection id "0HMREE0S11HQ4" accepted.
2023-06-16 16:47:37.370 +03:00 [DBG] Connection id "0HMREE0S11HQ4" started.
2023-06-16 16:47:38.489 +03:00 [DBG] Connection 0HMREE0S11HQ4 established using the following protocol: "Tls12"
2023-06-16 16:47:42.677 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2023-06-16 16:47:42.896 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-16 16:47:43.087 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-06-16 16:47:43.087 +03:00 [DBG] Request did not match any endpoints
2023-06-16 16:47:44.154 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-06-16 16:47:45.809 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-06-16 16:47:45.812 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 3156.4723ms
2023-06-16 16:47:45.919 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2023-06-16 16:47:45.919 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2023-06-16 16:47:45.928 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12014 application/javascript;+charset=utf-8 7.8776ms
2023-06-16 16:47:46.611 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 691.7833ms
2023-06-16 16:47:47.161 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-06-16 16:47:47.162 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-06-16 16:47:47.162 +03:00 [DBG] Request did not match any endpoints
2023-06-16 16:47:48.650 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 1489.1124ms
2023-06-16 16:48:01.505 +03:00 [DBG] Connection id "0HMREE0S11HQ4" received FIN.
2023-06-16 16:48:01.814 +03:00 [DBG] The connection queue processing loop for 0HMREE0S11HQ4 completed.
2023-06-16 16:48:01.821 +03:00 [DBG] Connection id "0HMREE0S11HQ4" is closed. The last processed stream ID was 7.
2023-06-16 16:48:01.822 +03:00 [DBG] Connection id "0HMREE0S11HQ4" sending FIN because: "The client closed the connection."
2023-06-16 16:48:01.834 +03:00 [DBG] Connection id "0HMREE0S11HQ4" stopped.
2023-06-16 16:48:30.898 +03:00 [DBG] Connection id "0HMREE0S11HQ5" accepted.
2023-06-16 16:48:30.898 +03:00 [DBG] Connection id "0HMREE0S11HQ5" started.
2023-06-16 16:48:30.902 +03:00 [DBG] Connection 0HMREE0S11HQ5 established using the following protocol: "Tls12"
2023-06-16 16:48:30.904 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/ReservationAPI - -
2023-06-16 16:48:30.910 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ReservationAPI'
2023-06-16 16:48:31.200 +03:00 [DBG] Endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)' with route pattern 'api/ReservationAPI' is valid for the request path '/api/ReservationAPI'
2023-06-16 16:48:31.201 +03:00 [DBG] Request matched endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 16:48:31.209 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-06-16 16:48:31.215 +03:00 [INF] Executing endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 16:48:31.367 +03:00 [INF] Route matched with {action = "GetReservations", controller = "ReservationAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Booking_ReservationAPI.Models.APIResponse]] GetReservations() on controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI).
2023-06-16 16:48:31.371 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-16 16:48:31.372 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-16 16:48:31.372 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-16 16:48:31.372 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-16 16:48:31.372 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-16 16:48:31.374 +03:00 [DBG] Executing controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 16:48:31.941 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-16 16:48:33.217 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 16:48:33.332 +03:00 [DBG] Executed controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 16:48:33.569 +03:00 [DBG] Compiling query expression: 
'DbSet<Reservation>()'
2023-06-16 16:48:33.841 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Reservation>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Reservation.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Reservation.CreationDate (DateTime) Required, 1], [Property: Reservation.CustomerName (string) Required, 2], [Property: Reservation.Notes (string) Required, 3], [Property: Reservation.ReservationDate (DateTime) Required, 4], [Property: Reservation.ReservedBy (string) Required, 5], [Property: Reservation.Trip_Id (int) Required FK Index, 6] }
        SELECT r.Id, r.CreationDate, r.CustomerName, r.Notes, r.ReservationDate, r.ReservedBy, r.Trip_Id
        FROM Reservations AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Reservation>, 
    Booking_ReservationAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-06-16 16:48:33.884 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 16:48:33.886 +03:00 [DBG] Creating DbConnection.
2023-06-16 16:48:33.961 +03:00 [DBG] Created DbConnection. (71ms).
2023-06-16 16:48:33.986 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (104ms).
2023-06-16 16:48:33.988 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (106ms).
2023-06-16 16:48:33.991 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 16:48:36.320 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 16:48:36.327 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 16:48:36.520 +03:00 [INF] Executed DbCommand (164ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 16:48:36.548 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 16:48:36.554 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 29ms reading results.
2023-06-16 16:48:36.556 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 16:48:36.561 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (4ms).
2023-06-16 16:48:36.680 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-06-16 16:48:36.683 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-06-16 16:48:36.684 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-06-16 16:48:36.684 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-06-16 16:48:36.684 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-06-16 16:48:36.685 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-16 16:48:36.686 +03:00 [INF] Executing OkObjectResult, writing value of type 'Booking_ReservationAPI.Models.APIResponse'.
2023-06-16 16:48:36.926 +03:00 [INF] Executed action Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI) in 5550.5758ms
2023-06-16 16:48:36.927 +03:00 [INF] Executed endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 16:48:36.929 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 16:48:36.934 +03:00 [DBG] Disposing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 16:48:36.935 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-06-16 16:48:36.936 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/ReservationAPI - - - 200 68 application/json;+charset=utf-8 6031.3656ms
2023-06-16 16:49:04.157 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/ReservationAPI - -
2023-06-16 16:49:04.157 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ReservationAPI'
2023-06-16 16:49:04.158 +03:00 [DBG] Endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)' with route pattern 'api/ReservationAPI' is valid for the request path '/api/ReservationAPI'
2023-06-16 16:49:04.158 +03:00 [DBG] Request matched endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 16:49:04.158 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-06-16 16:49:04.158 +03:00 [INF] Executing endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 16:49:04.159 +03:00 [INF] Route matched with {action = "GetReservations", controller = "ReservationAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Booking_ReservationAPI.Models.APIResponse]] GetReservations() on controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI).
2023-06-16 16:49:04.159 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-16 16:49:04.159 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-16 16:49:04.159 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-16 16:49:04.159 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-16 16:49:04.159 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-16 16:49:04.159 +03:00 [DBG] Executing controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 16:49:04.220 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 16:49:04.220 +03:00 [DBG] Executed controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 16:49:04.222 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 16:49:04.222 +03:00 [DBG] Creating DbConnection.
2023-06-16 16:49:04.222 +03:00 [DBG] Created DbConnection. (0ms).
2023-06-16 16:49:04.222 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-16 16:49:04.222 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-06-16 16:49:04.223 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 16:49:04.223 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 16:49:04.223 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 16:49:04.226 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 16:49:04.226 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 16:49:04.227 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 0ms reading results.
2023-06-16 16:49:04.227 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 16:49:04.227 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 16:49:04.227 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-06-16 16:49:04.228 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-06-16 16:49:04.228 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-06-16 16:49:04.228 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-06-16 16:49:04.228 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-06-16 16:49:04.228 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-16 16:49:04.228 +03:00 [INF] Executing OkObjectResult, writing value of type 'Booking_ReservationAPI.Models.APIResponse'.
2023-06-16 16:49:04.228 +03:00 [INF] Executed action Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI) in 69.0299ms
2023-06-16 16:49:04.228 +03:00 [INF] Executed endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 16:49:04.228 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 16:49:04.229 +03:00 [DBG] Disposing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 16:49:04.229 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-06-16 16:49:04.230 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/ReservationAPI - - - 200 68 application/json;+charset=utf-8 72.7729ms
2023-06-16 16:49:18.237 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/ReservationAPI - -
2023-06-16 16:49:18.238 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ReservationAPI'
2023-06-16 16:49:18.238 +03:00 [DBG] Endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)' with route pattern 'api/ReservationAPI' is valid for the request path '/api/ReservationAPI'
2023-06-16 16:49:18.238 +03:00 [DBG] Request matched endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 16:49:18.238 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-06-16 16:49:18.238 +03:00 [INF] Executing endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 16:49:18.238 +03:00 [INF] Route matched with {action = "GetReservations", controller = "ReservationAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Booking_ReservationAPI.Models.APIResponse]] GetReservations() on controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI).
2023-06-16 16:49:18.239 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-16 16:49:18.239 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-16 16:49:18.239 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-16 16:49:18.239 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-16 16:49:18.239 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-16 16:49:18.239 +03:00 [DBG] Executing controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 16:49:18.259 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 16:49:18.260 +03:00 [DBG] Executed controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 16:49:18.263 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 16:49:18.263 +03:00 [DBG] Creating DbConnection.
2023-06-16 16:49:18.263 +03:00 [DBG] Created DbConnection. (0ms).
2023-06-16 16:49:18.263 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-16 16:49:18.263 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-06-16 16:49:18.263 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 16:49:18.264 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 16:49:18.264 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 16:49:18.321 +03:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 16:49:18.321 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 16:49:18.321 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 0ms reading results.
2023-06-16 16:49:18.321 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 16:49:18.321 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 16:49:18.321 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-06-16 16:49:18.321 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-06-16 16:49:18.321 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-06-16 16:49:18.321 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-06-16 16:49:18.321 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-06-16 16:49:18.321 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-16 16:49:18.321 +03:00 [INF] Executing OkObjectResult, writing value of type 'Booking_ReservationAPI.Models.APIResponse'.
2023-06-16 16:49:18.321 +03:00 [INF] Executed action Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI) in 82.5054ms
2023-06-16 16:49:18.322 +03:00 [INF] Executed endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 16:49:18.322 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 16:49:18.322 +03:00 [DBG] Disposing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 16:49:18.322 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-06-16 16:49:18.322 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/ReservationAPI - - - 200 68 application/json;+charset=utf-8 84.5466ms
2023-06-16 16:49:28.718 +03:00 [DBG] Connection id "0HMREE0S11HQ5" received FIN.
2023-06-16 16:49:28.719 +03:00 [DBG] Connection id "0HMREE0S11HQ5" is closed. The last processed stream ID was 5.
2023-06-16 16:49:28.719 +03:00 [DBG] Connection id "0HMREE0S11HQ5" sending FIN because: "The client closed the connection."
2023-06-16 16:49:28.719 +03:00 [DBG] The connection queue processing loop for 0HMREE0S11HQ5 completed.
2023-06-16 16:49:28.720 +03:00 [DBG] Connection id "0HMREE0S11HQ5" stopped.
2023-06-16 20:17:28.436 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-16 20:17:28.545 +03:00 [DBG] Hosting starting
2023-06-16 20:17:29.046 +03:00 [INF] Now listening on: https://localhost:7001
2023-06-16 20:17:29.046 +03:00 [INF] Now listening on: http://localhost:5030
2023-06-16 20:17:29.046 +03:00 [DBG] Loaded hosting startup assembly Booking_ReservationAPI
2023-06-16 20:17:29.046 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-16 20:17:29.046 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-16 20:17:29.047 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 20:17:29.047 +03:00 [INF] Hosting environment: Development
2023-06-16 20:17:29.047 +03:00 [INF] Content root path: C:\Users\Mira\source\TestApis\Booking\Booking_ReservationAPI
2023-06-16 20:17:29.047 +03:00 [DBG] Hosting started
2023-06-16 20:17:29.250 +03:00 [DBG] Connection id "0HMREHM83SKUT" received FIN.
2023-06-16 20:17:29.255 +03:00 [DBG] Connection id "0HMREHM83SKUT" accepted.
2023-06-16 20:17:29.256 +03:00 [DBG] Connection id "0HMREHM83SKUT" started.
2023-06-16 20:17:29.267 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 20:17:29.329 +03:00 [DBG] Connection id "0HMREHM83SKUT" stopped.
2023-06-16 20:17:29.333 +03:00 [DBG] Connection id "0HMREHM83SKUT" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 20:20:15.050 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-16 20:20:15.278 +03:00 [DBG] Hosting starting
2023-06-16 20:20:16.686 +03:00 [INF] Now listening on: https://localhost:7001
2023-06-16 20:20:16.686 +03:00 [INF] Now listening on: http://localhost:5030
2023-06-16 20:20:16.686 +03:00 [DBG] Loaded hosting startup assembly Booking_ReservationAPI
2023-06-16 20:20:16.687 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-16 20:20:16.687 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-16 20:20:16.688 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 20:20:16.689 +03:00 [INF] Hosting environment: Development
2023-06-16 20:20:16.689 +03:00 [INF] Content root path: C:\Users\Mira\source\TestApis\Booking\Booking_ReservationAPI
2023-06-16 20:20:16.689 +03:00 [DBG] Hosting started
2023-06-16 20:20:16.970 +03:00 [DBG] Connection id "0HMREHNQ3CC6J" received FIN.
2023-06-16 20:20:16.970 +03:00 [DBG] Connection id "0HMREHNQ3CC6K" received FIN.
2023-06-16 20:20:16.986 +03:00 [DBG] Connection id "0HMREHNQ3CC6J" accepted.
2023-06-16 20:20:16.986 +03:00 [DBG] Connection id "0HMREHNQ3CC6K" accepted.
2023-06-16 20:20:16.989 +03:00 [DBG] Connection id "0HMREHNQ3CC6K" started.
2023-06-16 20:20:16.989 +03:00 [DBG] Connection id "0HMREHNQ3CC6J" started.
2023-06-16 20:20:17.143 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 20:20:17.145 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 20:20:17.642 +03:00 [DBG] Connection id "0HMREHNQ3CC6K" stopped.
2023-06-16 20:20:17.642 +03:00 [DBG] Connection id "0HMREHNQ3CC6J" stopped.
2023-06-16 20:20:17.651 +03:00 [DBG] Connection id "0HMREHNQ3CC6K" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 20:20:17.651 +03:00 [DBG] Connection id "0HMREHNQ3CC6J" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 20:20:23.762 +03:00 [DBG] Connection id "0HMREHNQ3CC6L" accepted.
2023-06-16 20:20:23.763 +03:00 [DBG] Connection id "0HMREHNQ3CC6L" started.
2023-06-16 20:20:26.032 +03:00 [DBG] Connection 0HMREHNQ3CC6L established using the following protocol: "Tls12"
2023-06-16 20:20:27.230 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2023-06-16 20:20:27.508 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-16 20:20:28.569 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-06-16 20:20:28.570 +03:00 [DBG] Request did not match any endpoints
2023-06-16 20:20:29.166 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-06-16 20:20:30.274 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-06-16 20:20:30.277 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 3065.1247ms
2023-06-16 20:20:30.517 +03:00 [DBG] Connection id "0HMREHNQ3CC6L" received FIN.
2023-06-16 20:20:30.527 +03:00 [DBG] Connection id "0HMREHNQ3CC6M" accepted.
2023-06-16 20:20:30.527 +03:00 [DBG] Connection id "0HMREHNQ3CC6M" started.
2023-06-16 20:20:30.534 +03:00 [DBG] Connection 0HMREHNQ3CC6M established using the following protocol: "Tls12"
2023-06-16 20:20:30.536 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2023-06-16 20:20:30.545 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12014 application/javascript;+charset=utf-8 7.7330ms
2023-06-16 20:20:30.593 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2023-06-16 20:20:30.613 +03:00 [DBG] The connection queue processing loop for 0HMREHNQ3CC6L completed.
2023-06-16 20:20:30.617 +03:00 [DBG] Connection id "0HMREHNQ3CC6L" is closed. The last processed stream ID was 1.
2023-06-16 20:20:30.617 +03:00 [DBG] Connection id "0HMREHNQ3CC6L" sending FIN because: "The client closed the connection."
2023-06-16 20:20:30.618 +03:00 [DBG] Connection id "0HMREHNQ3CC6L" stopped.
2023-06-16 20:20:30.778 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 184.3215ms
2023-06-16 20:20:31.167 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-06-16 20:20:31.167 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-06-16 20:20:31.168 +03:00 [DBG] Request did not match any endpoints
2023-06-16 20:20:31.858 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 691.0835ms
2023-06-16 20:20:35.519 +03:00 [DBG] Connection id "0HMREHNQ3CC6M" received FIN.
2023-06-16 20:20:35.519 +03:00 [DBG] Connection id "0HMREHNQ3CC6M" sending FIN because: "The client closed the connection."
2023-06-16 20:20:35.519 +03:00 [DBG] Connection id "0HMREHNQ3CC6M" is closed. The last processed stream ID was 5.
2023-06-16 20:20:35.520 +03:00 [DBG] The connection queue processing loop for 0HMREHNQ3CC6M completed.
2023-06-16 20:20:35.520 +03:00 [DBG] Connection id "0HMREHNQ3CC6M" stopped.
2023-06-16 20:21:03.953 +03:00 [DBG] Connection id "0HMREHNQ3CC6N" accepted.
2023-06-16 20:21:03.953 +03:00 [DBG] Connection id "0HMREHNQ3CC6N" started.
2023-06-16 20:21:03.983 +03:00 [DBG] Connection 0HMREHNQ3CC6N established using the following protocol: "Tls12"
2023-06-16 20:21:03.994 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/ReservationAPI application/json-patch+json 185
2023-06-16 20:21:04.020 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ReservationAPI'
2023-06-16 20:21:04.098 +03:00 [DBG] Endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)' with route pattern 'api/ReservationAPI' is valid for the request path '/api/ReservationAPI'
2023-06-16 20:21:04.098 +03:00 [DBG] Request matched endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)'
2023-06-16 20:21:04.102 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-06-16 20:21:04.105 +03:00 [INF] Executing endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)'
2023-06-16 20:21:04.955 +03:00 [INF] Route matched with {action = "CreateReservation", controller = "ReservationAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Booking_ReservationAPI.Models.APIResponse]] CreateReservation(Booking_ReservationAPI.Models.Dto.ReservationCreateDTO) on controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI).
2023-06-16 20:21:04.961 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-16 20:21:04.962 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-16 20:21:04.962 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-16 20:21:04.963 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-16 20:21:04.963 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-16 20:21:04.969 +03:00 [DBG] Executing controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 20:21:10.721 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-16 20:21:12.608 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 20:21:12.855 +03:00 [DBG] Executed controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 20:21:12.932 +03:00 [DBG] Attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO' ...
2023-06-16 20:21:12.940 +03:00 [DBG] Attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO' using the name '' in request data ...
2023-06-16 20:21:12.943 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-06-16 20:21:12.944 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-06-16 20:21:13.054 +03:00 [DBG] Connection id "0HMREHNQ3CC6N", Request id "0HMREHNQ3CC6N:00000001": started reading request body.
2023-06-16 20:21:13.054 +03:00 [DBG] Connection id "0HMREHNQ3CC6N", Request id "0HMREHNQ3CC6N:00000001": done reading request body.
2023-06-16 20:21:13.586 +03:00 [DBG] Done attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO'.
2023-06-16 20:21:13.586 +03:00 [DBG] Done attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO'.
2023-06-16 20:21:13.587 +03:00 [DBG] Attempting to validate the bound parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO' ...
2023-06-16 20:21:13.677 +03:00 [DBG] Done attempting to validate the bound parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO'.
2023-06-16 20:21:13.997 +03:00 [DBG] Compiling query expression: 
'DbSet<Reservation>()
    .Where(u => u.CustomerName.ToLower() == __ToLower_0)
    .FirstOrDefault()'
2023-06-16 20:21:14.272 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Reservation>(
    asyncEnumerable: new SingleQueryingEnumerable<Reservation>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Reservation.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Reservation.CreationDate (DateTime) Required, 1], [Property: Reservation.CustomerName (string) Required, 2], [Property: Reservation.Notes (string) Required, 3], [Property: Reservation.ReservationDate (DateTime) Required, 4], [Property: Reservation.ReservedBy (string) Required, 5], [Property: Reservation.Trip_Id (int) Required FK Index, 6] }
            SELECT TOP(1) r.Id, r.CreationDate, r.CustomerName, r.Notes, r.ReservationDate, r.ReservedBy, r.Trip_Id
            FROM Reservations AS r
            WHERE LOWER(r.CustomerName) == @__ToLower_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Reservation>, 
        Booking_ReservationAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-06-16 20:21:14.319 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 20:21:14.321 +03:00 [DBG] Creating DbConnection.
2023-06-16 20:21:14.395 +03:00 [DBG] Created DbConnection. (67ms).
2023-06-16 20:21:14.409 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (93ms).
2023-06-16 20:21:14.433 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (116ms).
2023-06-16 20:21:14.440 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:21:16.813 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:21:16.830 +03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
WHERE LOWER([r].[CustomerName]) = @__ToLower_0
2023-06-16 20:21:17.210 +03:00 [INF] Executed DbCommand (383ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
WHERE LOWER([r].[CustomerName]) = @__ToLower_0
2023-06-16 20:21:17.229 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:21:17.240 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 23ms reading results.
2023-06-16 20:21:17.245 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:21:17.253 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (8ms).
2023-06-16 20:21:17.350 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Id.Reservation'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 20:21:17.395 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 20:21:17.401 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-06-16 20:21:17.404 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-06-16 20:21:17.418 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-06-16 20:21:17.519 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:21:17.520 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:21:17.523 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 20:21:17.523 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-16 20:21:17.524 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-06-16 20:21:17.526 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Reservations] ([CreationDate], [CustomerName], [Notes], [ReservationDate], [ReservedBy], [Trip_Id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-06-16 20:21:18.167 +03:00 [INF] Executed DbCommand (641ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Reservations] ([CreationDate], [CustomerName], [Notes], [ReservationDate], [ReservedBy], [Trip_Id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-06-16 20:21:18.200 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:21:18.200 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 32ms reading results.
2023-06-16 20:21:18.203 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:21:18.203 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 20:21:18.236 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Booking_ReservationAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Reservations_Trips_Trip_Id". The conflict occurred in database "Booking_ReservAPI_DB", table "dbo.Trips", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:b3dc9757-1d62-48a4-85fc-2cfe87074334
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Reservations_Trips_Trip_Id". The conflict occurred in database "Booking_ReservAPI_DB", table "dbo.Trips", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:b3dc9757-1d62-48a4-85fc-2cfe87074334
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-06-16 20:21:18.842 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-06-16 20:21:18.844 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-06-16 20:21:18.844 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-06-16 20:21:18.845 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-06-16 20:21:18.845 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-06-16 20:21:18.845 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-16 20:21:18.845 +03:00 [INF] Executing ObjectResult, writing value of type 'Booking_ReservationAPI.Models.APIResponse'.
2023-06-16 20:21:18.913 +03:00 [INF] Executed action Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI) in 13947.2862ms
2023-06-16 20:21:18.914 +03:00 [INF] Executed endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)'
2023-06-16 20:21:18.917 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 20:21:18.922 +03:00 [DBG] Disposing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:21:18.923 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-06-16 20:21:18.923 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/ReservationAPI application/json-patch+json 185 - 200 4689 application/json;+charset=utf-8 14930.8762ms
2023-06-16 20:21:25.859 +03:00 [DBG] Connection id "0HMREHNQ3CC6N" received FIN.
2023-06-16 20:21:25.860 +03:00 [DBG] Connection id "0HMREHNQ3CC6N" is closed. The last processed stream ID was 1.
2023-06-16 20:21:25.860 +03:00 [DBG] Connection id "0HMREHNQ3CC6N" sending FIN because: "The client closed the connection."
2023-06-16 20:21:25.861 +03:00 [DBG] The connection queue processing loop for 0HMREHNQ3CC6N completed.
2023-06-16 20:21:25.862 +03:00 [DBG] Connection id "0HMREHNQ3CC6N" stopped.
2023-06-16 20:22:05.040 +03:00 [DBG] Connection id "0HMREHNQ3CC6O" accepted.
2023-06-16 20:22:05.040 +03:00 [DBG] Connection id "0HMREHNQ3CC6O" started.
2023-06-16 20:22:05.048 +03:00 [DBG] Connection 0HMREHNQ3CC6O established using the following protocol: "Tls12"
2023-06-16 20:22:05.048 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/ReservationAPI application/json-patch+json 185
2023-06-16 20:22:05.049 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ReservationAPI'
2023-06-16 20:22:05.049 +03:00 [DBG] Endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)' with route pattern 'api/ReservationAPI' is valid for the request path '/api/ReservationAPI'
2023-06-16 20:22:05.049 +03:00 [DBG] Request matched endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)'
2023-06-16 20:22:05.049 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-06-16 20:22:05.049 +03:00 [INF] Executing endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)'
2023-06-16 20:22:05.050 +03:00 [INF] Route matched with {action = "CreateReservation", controller = "ReservationAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Booking_ReservationAPI.Models.APIResponse]] CreateReservation(Booking_ReservationAPI.Models.Dto.ReservationCreateDTO) on controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI).
2023-06-16 20:22:05.050 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-16 20:22:05.050 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-16 20:22:05.050 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-16 20:22:05.050 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-16 20:22:05.050 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-16 20:22:05.050 +03:00 [DBG] Executing controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 20:22:05.108 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 20:22:05.108 +03:00 [DBG] Executed controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 20:22:05.109 +03:00 [DBG] Attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO' ...
2023-06-16 20:22:05.109 +03:00 [DBG] Attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO' using the name '' in request data ...
2023-06-16 20:22:05.109 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-06-16 20:22:05.109 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-06-16 20:22:05.109 +03:00 [DBG] Connection id "0HMREHNQ3CC6O", Request id "0HMREHNQ3CC6O:00000001": started reading request body.
2023-06-16 20:22:05.110 +03:00 [DBG] Connection id "0HMREHNQ3CC6O", Request id "0HMREHNQ3CC6O:00000001": done reading request body.
2023-06-16 20:22:05.110 +03:00 [DBG] Done attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO'.
2023-06-16 20:22:05.110 +03:00 [DBG] Done attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO'.
2023-06-16 20:22:05.110 +03:00 [DBG] Attempting to validate the bound parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO' ...
2023-06-16 20:22:05.110 +03:00 [DBG] Done attempting to validate the bound parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO'.
2023-06-16 20:22:05.114 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 20:22:05.114 +03:00 [DBG] Creating DbConnection.
2023-06-16 20:22:05.115 +03:00 [DBG] Created DbConnection. (0ms).
2023-06-16 20:22:05.115 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-16 20:22:05.115 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-06-16 20:22:05.115 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:22:05.115 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:22:05.115 +03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
WHERE LOWER([r].[CustomerName]) = @__ToLower_0
2023-06-16 20:22:05.116 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
WHERE LOWER([r].[CustomerName]) = @__ToLower_0
2023-06-16 20:22:05.117 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:22:05.117 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 0ms reading results.
2023-06-16 20:22:05.117 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:22:05.117 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 20:22:05.118 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Id.Reservation'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 20:22:05.119 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 20:22:05.119 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-06-16 20:22:05.119 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-06-16 20:22:05.119 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-06-16 20:22:05.120 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:22:05.121 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:22:05.121 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 20:22:05.121 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-16 20:22:05.121 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-06-16 20:22:05.121 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Reservations] ([CreationDate], [CustomerName], [Notes], [ReservationDate], [ReservedBy], [Trip_Id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-06-16 20:22:05.124 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Reservations] ([CreationDate], [CustomerName], [Notes], [ReservationDate], [ReservedBy], [Trip_Id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-06-16 20:22:05.125 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:22:05.125 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 0ms reading results.
2023-06-16 20:22:05.125 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:22:05.125 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 20:22:05.126 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Booking_ReservationAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Reservations_Trips_Trip_Id". The conflict occurred in database "Booking_ReservAPI_DB", table "dbo.Trips", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:b3dc9757-1d62-48a4-85fc-2cfe87074334
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Reservations_Trips_Trip_Id". The conflict occurred in database "Booking_ReservAPI_DB", table "dbo.Trips", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:b3dc9757-1d62-48a4-85fc-2cfe87074334
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-06-16 20:22:05.128 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-06-16 20:22:05.128 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-06-16 20:22:05.128 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-06-16 20:22:05.128 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-06-16 20:22:05.128 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-06-16 20:22:05.128 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-16 20:22:05.128 +03:00 [INF] Executing ObjectResult, writing value of type 'Booking_ReservationAPI.Models.APIResponse'.
2023-06-16 20:22:05.129 +03:00 [INF] Executed action Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI) in 78.6005ms
2023-06-16 20:22:05.129 +03:00 [INF] Executed endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)'
2023-06-16 20:22:05.129 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 20:22:05.130 +03:00 [DBG] Disposing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:22:05.130 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-06-16 20:22:05.130 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/ReservationAPI application/json-patch+json 185 - 200 4689 application/json;+charset=utf-8 82.0162ms
2023-06-16 20:22:05.912 +03:00 [DBG] Connection id "0HMREHNQ3CC6O" received FIN.
2023-06-16 20:22:05.912 +03:00 [DBG] Connection id "0HMREHNQ3CC6O" is closed. The last processed stream ID was 1.
2023-06-16 20:22:05.912 +03:00 [DBG] Connection id "0HMREHNQ3CC6O" sending FIN because: "The client closed the connection."
2023-06-16 20:22:05.912 +03:00 [DBG] The connection queue processing loop for 0HMREHNQ3CC6O completed.
2023-06-16 20:22:05.913 +03:00 [DBG] Connection id "0HMREHNQ3CC6O" stopped.
2023-06-16 20:22:16.783 +03:00 [DBG] Connection id "0HMREHNQ3CC6P" accepted.
2023-06-16 20:22:16.784 +03:00 [DBG] Connection id "0HMREHNQ3CC6P" started.
2023-06-16 20:22:16.785 +03:00 [DBG] Connection 0HMREHNQ3CC6P established using the following protocol: "Tls12"
2023-06-16 20:22:16.786 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/ReservationAPI application/json-patch+json 169
2023-06-16 20:22:16.786 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ReservationAPI'
2023-06-16 20:22:16.786 +03:00 [DBG] Endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)' with route pattern 'api/ReservationAPI' is valid for the request path '/api/ReservationAPI'
2023-06-16 20:22:16.786 +03:00 [DBG] Request matched endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)'
2023-06-16 20:22:16.786 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-06-16 20:22:16.786 +03:00 [INF] Executing endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)'
2023-06-16 20:22:16.786 +03:00 [INF] Route matched with {action = "CreateReservation", controller = "ReservationAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Booking_ReservationAPI.Models.APIResponse]] CreateReservation(Booking_ReservationAPI.Models.Dto.ReservationCreateDTO) on controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI).
2023-06-16 20:22:16.786 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-16 20:22:16.786 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-16 20:22:16.786 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-16 20:22:16.786 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-16 20:22:16.787 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-16 20:22:16.787 +03:00 [DBG] Executing controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 20:22:16.810 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 20:22:16.810 +03:00 [DBG] Executed controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 20:22:16.810 +03:00 [DBG] Attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO' ...
2023-06-16 20:22:16.810 +03:00 [DBG] Attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO' using the name '' in request data ...
2023-06-16 20:22:16.810 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-06-16 20:22:16.810 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-06-16 20:22:16.810 +03:00 [DBG] Connection id "0HMREHNQ3CC6P", Request id "0HMREHNQ3CC6P:00000001": started reading request body.
2023-06-16 20:22:16.810 +03:00 [DBG] Connection id "0HMREHNQ3CC6P", Request id "0HMREHNQ3CC6P:00000001": done reading request body.
2023-06-16 20:22:16.810 +03:00 [DBG] Done attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO'.
2023-06-16 20:22:16.811 +03:00 [DBG] Done attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO'.
2023-06-16 20:22:16.811 +03:00 [DBG] Attempting to validate the bound parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO' ...
2023-06-16 20:22:16.811 +03:00 [DBG] Done attempting to validate the bound parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO'.
2023-06-16 20:22:16.813 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 20:22:16.813 +03:00 [DBG] Creating DbConnection.
2023-06-16 20:22:16.813 +03:00 [DBG] Created DbConnection. (0ms).
2023-06-16 20:22:16.813 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-16 20:22:16.813 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-06-16 20:22:16.813 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:22:16.813 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:22:16.813 +03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
WHERE LOWER([r].[CustomerName]) = @__ToLower_0
2023-06-16 20:22:16.815 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
WHERE LOWER([r].[CustomerName]) = @__ToLower_0
2023-06-16 20:22:16.815 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:22:16.815 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 0ms reading results.
2023-06-16 20:22:16.815 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:22:16.815 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 20:22:16.816 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Id.Reservation'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 20:22:16.816 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 20:22:16.816 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-06-16 20:22:16.816 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-06-16 20:22:16.816 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-06-16 20:22:16.816 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:22:16.816 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:22:16.816 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 20:22:16.816 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-16 20:22:16.816 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-06-16 20:22:16.816 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Reservations] ([CreationDate], [CustomerName], [Notes], [ReservationDate], [ReservedBy], [Trip_Id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-06-16 20:22:16.821 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Reservations] ([CreationDate], [CustomerName], [Notes], [ReservationDate], [ReservedBy], [Trip_Id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-06-16 20:22:16.822 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:22:16.822 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 0ms reading results.
2023-06-16 20:22:16.822 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:22:16.822 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 20:22:17.007 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Booking_ReservationAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Reservations_Trips_Trip_Id". The conflict occurred in database "Booking_ReservAPI_DB", table "dbo.Trips", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:b3dc9757-1d62-48a4-85fc-2cfe87074334
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Reservations_Trips_Trip_Id". The conflict occurred in database "Booking_ReservAPI_DB", table "dbo.Trips", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:b3dc9757-1d62-48a4-85fc-2cfe87074334
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-06-16 20:22:17.008 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-06-16 20:22:17.009 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-06-16 20:22:17.009 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-06-16 20:22:17.009 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-06-16 20:22:17.009 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-06-16 20:22:17.009 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-16 20:22:17.009 +03:00 [INF] Executing ObjectResult, writing value of type 'Booking_ReservationAPI.Models.APIResponse'.
2023-06-16 20:22:17.012 +03:00 [INF] Executed action Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI) in 225.0808ms
2023-06-16 20:22:17.012 +03:00 [INF] Executed endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)'
2023-06-16 20:22:17.012 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 20:22:17.012 +03:00 [DBG] Disposing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:22:17.012 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-06-16 20:22:17.012 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/ReservationAPI application/json-patch+json 169 - 200 4689 application/json;+charset=utf-8 226.0715ms
2023-06-16 20:22:25.953 +03:00 [DBG] Connection id "0HMREHNQ3CC6P" received FIN.
2023-06-16 20:22:25.953 +03:00 [DBG] Connection id "0HMREHNQ3CC6P" is closed. The last processed stream ID was 1.
2023-06-16 20:22:25.953 +03:00 [DBG] Connection id "0HMREHNQ3CC6P" sending FIN because: "The client closed the connection."
2023-06-16 20:22:25.953 +03:00 [DBG] The connection queue processing loop for 0HMREHNQ3CC6P completed.
2023-06-16 20:22:25.954 +03:00 [DBG] Connection id "0HMREHNQ3CC6P" stopped.
2023-06-16 20:22:39.379 +03:00 [DBG] Connection id "0HMREHNQ3CC6Q" accepted.
2023-06-16 20:22:39.385 +03:00 [DBG] Connection id "0HMREHNQ3CC6Q" started.
2023-06-16 20:22:39.436 +03:00 [DBG] Connection 0HMREHNQ3CC6Q established using the following protocol: "Tls12"
2023-06-16 20:22:39.455 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/ReservationAPI - -
2023-06-16 20:22:39.455 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ReservationAPI'
2023-06-16 20:22:39.455 +03:00 [DBG] Endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)' with route pattern 'api/ReservationAPI' is valid for the request path '/api/ReservationAPI'
2023-06-16 20:22:39.455 +03:00 [DBG] Request matched endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 20:22:39.456 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-06-16 20:22:39.456 +03:00 [INF] Executing endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 20:22:39.459 +03:00 [INF] Route matched with {action = "GetReservations", controller = "ReservationAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Booking_ReservationAPI.Models.APIResponse]] GetReservations() on controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI).
2023-06-16 20:22:39.459 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-16 20:22:39.459 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-16 20:22:39.459 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-16 20:22:39.459 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-16 20:22:39.459 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-16 20:22:39.459 +03:00 [DBG] Executing controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 20:22:39.460 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 20:22:39.460 +03:00 [DBG] Executed controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 20:22:39.500 +03:00 [DBG] Compiling query expression: 
'DbSet<Reservation>()'
2023-06-16 20:22:39.505 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Reservation>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Reservation.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Reservation.CreationDate (DateTime) Required, 1], [Property: Reservation.CustomerName (string) Required, 2], [Property: Reservation.Notes (string) Required, 3], [Property: Reservation.ReservationDate (DateTime) Required, 4], [Property: Reservation.ReservedBy (string) Required, 5], [Property: Reservation.Trip_Id (int) Required FK Index, 6] }
        SELECT r.Id, r.CreationDate, r.CustomerName, r.Notes, r.ReservationDate, r.ReservedBy, r.Trip_Id
        FROM Reservations AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Reservation>, 
    Booking_ReservationAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-06-16 20:22:39.505 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 20:22:39.505 +03:00 [DBG] Creating DbConnection.
2023-06-16 20:22:39.505 +03:00 [DBG] Created DbConnection. (0ms).
2023-06-16 20:22:39.505 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-16 20:22:39.505 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-06-16 20:22:39.505 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:22:39.505 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:22:39.505 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 20:22:39.507 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 20:22:39.508 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:22:39.508 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 0ms reading results.
2023-06-16 20:22:39.508 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:22:39.508 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 20:22:39.582 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-06-16 20:22:39.582 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-06-16 20:22:39.582 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-16 20:22:39.582 +03:00 [INF] Executing OkObjectResult, writing value of type 'Booking_ReservationAPI.Models.APIResponse'.
2023-06-16 20:22:39.654 +03:00 [INF] Executed action Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI) in 195.1932ms
2023-06-16 20:22:39.655 +03:00 [INF] Executed endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 20:22:39.655 +03:00 [DBG] Connection id "0HMREHNQ3CC6Q" completed keep alive response.
2023-06-16 20:22:39.655 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 20:22:39.655 +03:00 [DBG] Disposing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:22:39.655 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-06-16 20:22:39.655 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/ReservationAPI - - - 200 68 application/json;+charset=utf-8 199.9442ms
2023-06-16 20:23:54.420 +03:00 [DBG] Connection id "0HMREHNQ3CC6Q" received FIN.
2023-06-16 20:23:54.421 +03:00 [DBG] Connection id "0HMREHNQ3CC6Q" sending FIN because: "The client closed the connection."
2023-06-16 20:23:54.421 +03:00 [DBG] Connection id "0HMREHNQ3CC6Q" disconnecting.
2023-06-16 20:23:54.422 +03:00 [DBG] Connection id "0HMREHNQ3CC6Q" stopped.
2023-06-16 20:31:25.802 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-16 20:31:25.980 +03:00 [DBG] Hosting starting
2023-06-16 20:31:26.593 +03:00 [INF] Now listening on: https://localhost:7001
2023-06-16 20:31:26.593 +03:00 [INF] Now listening on: http://localhost:5030
2023-06-16 20:31:26.593 +03:00 [DBG] Loaded hosting startup assembly Booking_ReservationAPI
2023-06-16 20:31:26.593 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-16 20:31:26.593 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-16 20:31:26.594 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 20:31:26.594 +03:00 [INF] Hosting environment: Development
2023-06-16 20:31:26.594 +03:00 [INF] Content root path: C:\Users\Mira\source\TestApis\Booking\Booking_ReservationAPI
2023-06-16 20:31:26.594 +03:00 [DBG] Hosting started
2023-06-16 20:31:26.872 +03:00 [DBG] Connection id "0HMREHU1O2HK5" accepted.
2023-06-16 20:31:26.872 +03:00 [DBG] Connection id "0HMREHU1O2HK4" accepted.
2023-06-16 20:31:26.873 +03:00 [DBG] Connection id "0HMREHU1O2HK4" started.
2023-06-16 20:31:26.873 +03:00 [DBG] Connection id "0HMREHU1O2HK5" started.
2023-06-16 20:31:26.896 +03:00 [DBG] Connection id "0HMREHU1O2HK5" received FIN.
2023-06-16 20:31:26.896 +03:00 [DBG] Connection id "0HMREHU1O2HK4" received FIN.
2023-06-16 20:31:26.904 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 20:31:26.904 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 20:31:27.010 +03:00 [DBG] Connection id "0HMREHU1O2HK6" accepted.
2023-06-16 20:31:27.099 +03:00 [DBG] Connection id "0HMREHU1O2HK6" started.
2023-06-16 20:31:27.103 +03:00 [DBG] Connection id "0HMREHU1O2HK4" stopped.
2023-06-16 20:31:27.103 +03:00 [DBG] Connection id "0HMREHU1O2HK5" stopped.
2023-06-16 20:31:27.110 +03:00 [DBG] Connection id "0HMREHU1O2HK5" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 20:31:27.110 +03:00 [DBG] Connection id "0HMREHU1O2HK4" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 20:31:27.155 +03:00 [DBG] Connection 0HMREHU1O2HK6 established using the following protocol: "Tls12"
2023-06-16 20:31:27.267 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2023-06-16 20:31:27.332 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-16 20:31:27.371 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-06-16 20:31:27.372 +03:00 [DBG] Request did not match any endpoints
2023-06-16 20:31:27.535 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-06-16 20:31:27.830 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2023-06-16 20:31:27.833 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2023-06-16 20:31:27.834 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-06-16 20:31:27.838 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 577.0048ms
2023-06-16 20:31:27.839 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12014 application/javascript;+charset=utf-8 6.3490ms
2023-06-16 20:31:27.870 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 37.5212ms
2023-06-16 20:31:28.345 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-06-16 20:31:28.348 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-06-16 20:31:28.348 +03:00 [DBG] Request did not match any endpoints
2023-06-16 20:31:28.615 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 270.0371ms
2023-06-16 20:31:34.368 +03:00 [DBG] Connection id "0HMREHU1O2HK7" accepted.
2023-06-16 20:31:34.368 +03:00 [DBG] Connection id "0HMREHU1O2HK7" started.
2023-06-16 20:31:34.388 +03:00 [DBG] Connection 0HMREHU1O2HK7 established using the following protocol: "Tls12"
2023-06-16 20:31:34.401 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/ReservationAPI - -
2023-06-16 20:31:34.404 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ReservationAPI'
2023-06-16 20:31:34.406 +03:00 [DBG] Endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)' with route pattern 'api/ReservationAPI' is valid for the request path '/api/ReservationAPI'
2023-06-16 20:31:34.406 +03:00 [DBG] Request matched endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 20:31:34.408 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-06-16 20:31:34.411 +03:00 [INF] Executing endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 20:31:34.424 +03:00 [INF] Route matched with {action = "GetReservations", controller = "ReservationAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Booking_ReservationAPI.Models.APIResponse]] GetReservations() on controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI).
2023-06-16 20:31:34.426 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-16 20:31:34.426 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-16 20:31:34.427 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-16 20:31:34.427 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-16 20:31:34.427 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-16 20:31:34.428 +03:00 [DBG] Executing controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 20:31:34.713 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-16 20:31:35.333 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 20:31:35.403 +03:00 [DBG] Executed controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 20:31:35.498 +03:00 [DBG] Compiling query expression: 
'DbSet<Reservation>()'
2023-06-16 20:31:35.630 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Reservation>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Reservation.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Reservation.CreationDate (DateTime) Required, 1], [Property: Reservation.CustomerName (string) Required, 2], [Property: Reservation.Notes (string) Required, 3], [Property: Reservation.ReservationDate (DateTime) Required, 4], [Property: Reservation.ReservedBy (string) Required, 5], [Property: Reservation.Trip_Id (int) Required FK Index, 6] }
        SELECT r.Id, r.CreationDate, r.CustomerName, r.Notes, r.ReservationDate, r.ReservedBy, r.Trip_Id
        FROM Reservations AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Reservation>, 
    Booking_ReservationAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-06-16 20:31:35.662 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 20:31:35.664 +03:00 [DBG] Creating DbConnection.
2023-06-16 20:31:35.699 +03:00 [DBG] Created DbConnection. (31ms).
2023-06-16 20:31:35.708 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (43ms).
2023-06-16 20:31:35.710 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (50ms).
2023-06-16 20:31:35.715 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:31:36.777 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:31:36.790 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 20:31:36.922 +03:00 [INF] Executed DbCommand (138ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 20:31:36.934 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:31:36.940 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 13ms reading results.
2023-06-16 20:31:36.943 +03:00 [DBG] Connection id "0HMREHU1O2HK6" received FIN.
2023-06-16 20:31:36.944 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:31:36.945 +03:00 [DBG] Connection id "0HMREHU1O2HK6" is closed. The last processed stream ID was 7.
2023-06-16 20:31:36.945 +03:00 [DBG] Connection id "0HMREHU1O2HK6" sending FIN because: "The client closed the connection."
2023-06-16 20:31:36.945 +03:00 [DBG] The connection queue processing loop for 0HMREHU1O2HK6 completed.
2023-06-16 20:31:36.947 +03:00 [DBG] Connection id "0HMREHU1O2HK6" stopped.
2023-06-16 20:31:36.950 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (6ms).
2023-06-16 20:31:36.967 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-06-16 20:31:36.969 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-06-16 20:31:36.970 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-16 20:31:36.970 +03:00 [INF] Executing OkObjectResult, writing value of type 'Booking_ReservationAPI.Models.APIResponse'.
2023-06-16 20:31:37.276 +03:00 [INF] Executed action Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI) in 2844.8347ms
2023-06-16 20:31:37.276 +03:00 [INF] Executed endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 20:31:37.276 +03:00 [DBG] Connection id "0HMREHU1O2HK7" completed keep alive response.
2023-06-16 20:31:37.278 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 20:31:37.281 +03:00 [DBG] Disposing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:31:37.282 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-06-16 20:31:37.283 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/ReservationAPI - - - 200 68 application/json;+charset=utf-8 2881.2811ms
2023-06-16 20:32:49.396 +03:00 [DBG] Connection id "0HMREHU1O2HK7" received FIN.
2023-06-16 20:32:49.396 +03:00 [DBG] Connection id "0HMREHU1O2HK7" disconnecting.
2023-06-16 20:32:49.396 +03:00 [DBG] Connection id "0HMREHU1O2HK7" sending FIN because: "The client closed the connection."
2023-06-16 20:32:49.409 +03:00 [DBG] Connection id "0HMREHU1O2HK7" stopped.
2023-06-16 20:41:54.699 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-16 20:41:54.792 +03:00 [DBG] Hosting starting
2023-06-16 20:41:55.324 +03:00 [INF] Now listening on: https://localhost:7001
2023-06-16 20:41:55.324 +03:00 [INF] Now listening on: http://localhost:5030
2023-06-16 20:41:55.324 +03:00 [DBG] Loaded hosting startup assembly Booking_ReservationAPI
2023-06-16 20:41:55.325 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-16 20:41:55.325 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-16 20:41:55.326 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 20:41:55.327 +03:00 [INF] Hosting environment: Development
2023-06-16 20:41:55.327 +03:00 [INF] Content root path: C:\Users\Mira\source\TestApis\Booking\Booking_ReservationAPI
2023-06-16 20:41:55.327 +03:00 [DBG] Hosting started
2023-06-16 20:41:55.629 +03:00 [DBG] Connection id "0HMREI3T4BQEU" accepted.
2023-06-16 20:41:55.630 +03:00 [DBG] Connection id "0HMREI3T4BQEU" started.
2023-06-16 20:41:55.656 +03:00 [DBG] Connection id "0HMREI3T4BQEU" received FIN.
2023-06-16 20:41:55.665 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 20:41:55.852 +03:00 [DBG] Connection id "0HMREI3T4BQEU" stopped.
2023-06-16 20:41:55.861 +03:00 [DBG] Connection id "0HMREI3T4BQEU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 20:41:56.480 +03:00 [DBG] Connection id "0HMREI3T4BQEV" accepted.
2023-06-16 20:41:56.481 +03:00 [DBG] Connection id "0HMREI3T4BQEV" started.
2023-06-16 20:41:56.517 +03:00 [DBG] Connection 0HMREI3T4BQEV established using the following protocol: "Tls12"
2023-06-16 20:41:56.560 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/ReservationAPI - -
2023-06-16 20:41:56.565 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-16 20:41:56.597 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ReservationAPI'
2023-06-16 20:41:56.599 +03:00 [DBG] Endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)' with route pattern 'api/ReservationAPI' is valid for the request path '/api/ReservationAPI'
2023-06-16 20:41:56.599 +03:00 [DBG] Request matched endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 20:41:56.621 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-06-16 20:41:56.626 +03:00 [INF] Executing endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 20:41:56.658 +03:00 [INF] Route matched with {action = "GetReservations", controller = "ReservationAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Booking_ReservationAPI.Models.APIResponse]] GetReservations() on controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI).
2023-06-16 20:41:56.661 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-16 20:41:56.661 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-16 20:41:56.661 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-16 20:41:56.661 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-16 20:41:56.662 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-16 20:41:56.663 +03:00 [DBG] Executing controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 20:41:57.059 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-16 20:41:57.884 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 20:41:57.974 +03:00 [DBG] Executed controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 20:41:58.169 +03:00 [DBG] Compiling query expression: 
'DbSet<Reservation>()'
2023-06-16 20:41:58.321 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Reservation>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Reservation.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Reservation.CreationDate (DateTime) Required, 1], [Property: Reservation.CustomerName (string) Required, 2], [Property: Reservation.Notes (string) Required, 3], [Property: Reservation.ReservationDate (DateTime) Required, 4], [Property: Reservation.ReservedBy (string) Required, 5], [Property: Reservation.Trip_Id (int) Required FK Index, 6] }
        SELECT r.Id, r.CreationDate, r.CustomerName, r.Notes, r.ReservationDate, r.ReservedBy, r.Trip_Id
        FROM Reservations AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Reservation>, 
    Booking_ReservationAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-06-16 20:41:58.349 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 20:41:58.351 +03:00 [DBG] Creating DbConnection.
2023-06-16 20:41:58.456 +03:00 [DBG] Created DbConnection. (100ms).
2023-06-16 20:41:58.464 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (111ms).
2023-06-16 20:41:58.466 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (117ms).
2023-06-16 20:41:58.471 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:42:00.031 +03:00 [DBG] Connection id "0HMREI3T4BQEV" reset.
2023-06-16 20:42:00.031 +03:00 [DBG] Connection id "0HMREI3T4BQEV" sending FIN because: "The client closed the connection."
2023-06-16 20:42:00.032 +03:00 [DBG] Connection id "0HMREI3T4BQEV" disconnecting.
2023-06-16 20:42:00.978 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:42:00.986 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 20:42:01.245 +03:00 [INF] Executed DbCommand (256ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 20:42:22.202 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-16 20:42:22.297 +03:00 [DBG] Hosting starting
2023-06-16 20:42:22.432 +03:00 [INF] Now listening on: https://localhost:7001
2023-06-16 20:42:22.432 +03:00 [INF] Now listening on: http://localhost:5030
2023-06-16 20:42:22.432 +03:00 [DBG] Loaded hosting startup assembly Booking_ReservationAPI
2023-06-16 20:42:22.433 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-16 20:42:22.433 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-16 20:42:22.433 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 20:42:22.433 +03:00 [INF] Hosting environment: Development
2023-06-16 20:42:22.433 +03:00 [INF] Content root path: C:\Users\Mira\source\TestApis\Booking\Booking_ReservationAPI
2023-06-16 20:42:22.433 +03:00 [DBG] Hosting started
2023-06-16 20:42:22.443 +03:00 [DBG] Connection id "0HMREI4542OMH" received FIN.
2023-06-16 20:42:22.443 +03:00 [DBG] Connection id "0HMREI4542OMG" received FIN.
2023-06-16 20:42:22.449 +03:00 [DBG] Connection id "0HMREI4542OMG" accepted.
2023-06-16 20:42:22.449 +03:00 [DBG] Connection id "0HMREI4542OMH" accepted.
2023-06-16 20:42:22.451 +03:00 [DBG] Connection id "0HMREI4542OMG" started.
2023-06-16 20:42:22.451 +03:00 [DBG] Connection id "0HMREI4542OMH" started.
2023-06-16 20:42:22.470 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 20:42:22.470 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 20:42:22.493 +03:00 [DBG] Connection id "0HMREI4542OMG" stopped.
2023-06-16 20:42:22.493 +03:00 [DBG] Connection id "0HMREI4542OMH" stopped.
2023-06-16 20:42:22.498 +03:00 [DBG] Connection id "0HMREI4542OMH" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 20:42:22.498 +03:00 [DBG] Connection id "0HMREI4542OMG" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 20:42:22.660 +03:00 [DBG] Connection id "0HMREI4542OMI" accepted.
2023-06-16 20:42:22.661 +03:00 [DBG] Connection id "0HMREI4542OMI" started.
2023-06-16 20:42:22.733 +03:00 [DBG] Connection 0HMREI4542OMI established using the following protocol: "Tls12"
2023-06-16 20:42:22.820 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2023-06-16 20:42:22.853 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-16 20:42:22.893 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-06-16 20:42:22.894 +03:00 [DBG] Request did not match any endpoints
2023-06-16 20:42:23.072 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-06-16 20:42:23.190 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-06-16 20:42:23.193 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 380.9823ms
2023-06-16 20:42:23.213 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2023-06-16 20:42:23.213 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2023-06-16 20:42:23.227 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12014 application/javascript;+charset=utf-8 13.6771ms
2023-06-16 20:42:23.284 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 71.4428ms
2023-06-16 20:42:23.457 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-06-16 20:42:23.458 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-06-16 20:42:23.458 +03:00 [DBG] Request did not match any endpoints
2023-06-16 20:42:23.828 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 370.5520ms
2023-06-16 20:42:28.027 +03:00 [DBG] Connection id "0HMREI4542OMI" received FIN.
2023-06-16 20:42:28.039 +03:00 [DBG] Connection id "0HMREI4542OMI" is closed. The last processed stream ID was 7.
2023-06-16 20:42:28.040 +03:00 [DBG] Connection id "0HMREI4542OMI" sending FIN because: "The client closed the connection."
2023-06-16 20:42:28.040 +03:00 [DBG] The connection queue processing loop for 0HMREI4542OMI completed.
2023-06-16 20:42:28.043 +03:00 [DBG] Connection id "0HMREI4542OMI" stopped.
2023-06-16 20:42:49.156 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-16 20:42:49.447 +03:00 [DBG] Hosting starting
2023-06-16 20:42:50.077 +03:00 [INF] Now listening on: https://localhost:7001
2023-06-16 20:42:50.077 +03:00 [INF] Now listening on: http://localhost:5030
2023-06-16 20:42:50.077 +03:00 [DBG] Loaded hosting startup assembly Booking_ReservationAPI
2023-06-16 20:42:50.077 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-16 20:42:50.077 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-16 20:42:50.078 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 20:42:50.078 +03:00 [INF] Hosting environment: Development
2023-06-16 20:42:50.078 +03:00 [INF] Content root path: C:\Users\Mira\source\TestApis\Booking\Booking_ReservationAPI
2023-06-16 20:42:50.078 +03:00 [DBG] Hosting started
2023-06-16 20:42:50.168 +03:00 [DBG] Connection id "0HMREI4DCFSLS" received FIN.
2023-06-16 20:42:50.176 +03:00 [DBG] Connection id "0HMREI4DCFSLS" accepted.
2023-06-16 20:42:50.177 +03:00 [DBG] Connection id "0HMREI4DCFSLS" started.
2023-06-16 20:42:50.216 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 20:42:50.432 +03:00 [DBG] Connection id "0HMREI4DCFSLS" stopped.
2023-06-16 20:42:50.441 +03:00 [DBG] Connection id "0HMREI4DCFSLS" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 20:42:51.177 +03:00 [DBG] Connection id "0HMREI4DCFSLT" accepted.
2023-06-16 20:42:51.177 +03:00 [DBG] Connection id "0HMREI4DCFSLT" started.
2023-06-16 20:42:51.215 +03:00 [DBG] Connection 0HMREI4DCFSLT established using the following protocol: "Tls12"
2023-06-16 20:42:52.014 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2023-06-16 20:42:52.070 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-16 20:42:52.107 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-06-16 20:42:52.108 +03:00 [DBG] Request did not match any endpoints
2023-06-16 20:42:52.311 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-06-16 20:42:52.650 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-06-16 20:42:52.654 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 645.5147ms
2023-06-16 20:42:52.772 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2023-06-16 20:42:52.785 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12014 application/javascript;+charset=utf-8 12.0152ms
2023-06-16 20:42:52.855 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2023-06-16 20:42:52.945 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 89.8280ms
2023-06-16 20:42:53.072 +03:00 [DBG] Connection id "0HMREI4DCFSLT" received FIN.
2023-06-16 20:42:53.078 +03:00 [DBG] The connection queue processing loop for 0HMREI4DCFSLT completed.
2023-06-16 20:42:53.085 +03:00 [DBG] Connection id "0HMREI4DCFSLT" is closed. The last processed stream ID was 5.
2023-06-16 20:42:53.086 +03:00 [DBG] Connection id "0HMREI4DCFSLT" sending FIN because: "The client closed the connection."
2023-06-16 20:42:53.087 +03:00 [DBG] Connection id "0HMREI4DCFSLT" stopped.
2023-06-16 20:42:53.353 +03:00 [DBG] Connection id "0HMREI4DCFSLU" accepted.
2023-06-16 20:42:53.353 +03:00 [DBG] Connection id "0HMREI4DCFSLU" started.
2023-06-16 20:42:53.360 +03:00 [DBG] Connection 0HMREI4DCFSLU established using the following protocol: "Tls12"
2023-06-16 20:42:53.363 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-06-16 20:42:53.363 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-06-16 20:42:53.363 +03:00 [DBG] Request did not match any endpoints
2023-06-16 20:42:53.658 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 295.7321ms
2023-06-16 20:42:55.644 +03:00 [DBG] Connection id "0HMREI4DCFSLV" accepted.
2023-06-16 20:42:55.644 +03:00 [DBG] Connection id "0HMREI4DCFSLV" started.
2023-06-16 20:42:55.658 +03:00 [DBG] Connection 0HMREI4DCFSLV established using the following protocol: "Tls12"
2023-06-16 20:42:55.683 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/ReservationAPI - -
2023-06-16 20:42:55.687 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ReservationAPI'
2023-06-16 20:42:55.690 +03:00 [DBG] Endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)' with route pattern 'api/ReservationAPI' is valid for the request path '/api/ReservationAPI'
2023-06-16 20:42:55.691 +03:00 [DBG] Request matched endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 20:42:55.694 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-06-16 20:42:55.698 +03:00 [INF] Executing endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 20:42:55.728 +03:00 [INF] Route matched with {action = "GetReservations", controller = "ReservationAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Booking_ReservationAPI.Models.APIResponse]] GetReservations() on controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI).
2023-06-16 20:42:55.729 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-16 20:42:55.730 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-16 20:42:55.730 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-16 20:42:55.730 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-16 20:42:55.730 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-16 20:42:55.732 +03:00 [DBG] Executing controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 20:42:56.566 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-16 20:42:57.599 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 20:42:57.738 +03:00 [DBG] Executed controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 20:42:57.982 +03:00 [DBG] Compiling query expression: 
'DbSet<Reservation>()'
2023-06-16 20:42:58.051 +03:00 [DBG] Connection id "0HMREI4DCFSLU" received FIN.
2023-06-16 20:42:58.052 +03:00 [DBG] Connection id "0HMREI4DCFSLU" is closed. The last processed stream ID was 1.
2023-06-16 20:42:58.052 +03:00 [DBG] Connection id "0HMREI4DCFSLU" sending FIN because: "The client closed the connection."
2023-06-16 20:42:58.052 +03:00 [DBG] The connection queue processing loop for 0HMREI4DCFSLU completed.
2023-06-16 20:42:58.052 +03:00 [DBG] Connection id "0HMREI4DCFSLU" stopped.
2023-06-16 20:42:58.240 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Reservation>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Reservation.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Reservation.CreationDate (DateTime) Required, 1], [Property: Reservation.CustomerName (string) Required, 2], [Property: Reservation.Notes (string) Required, 3], [Property: Reservation.ReservationDate (DateTime) Required, 4], [Property: Reservation.ReservedBy (string) Required, 5], [Property: Reservation.Trip_Id (int) Required FK Index, 6] }
        SELECT r.Id, r.CreationDate, r.CustomerName, r.Notes, r.ReservationDate, r.ReservedBy, r.Trip_Id
        FROM Reservations AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Reservation>, 
    Booking_ReservationAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-06-16 20:42:58.291 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 20:42:58.293 +03:00 [DBG] Creating DbConnection.
2023-06-16 20:42:58.352 +03:00 [DBG] Created DbConnection. (56ms).
2023-06-16 20:42:58.361 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (74ms).
2023-06-16 20:42:58.363 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (77ms).
2023-06-16 20:42:58.367 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:43:00.916 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:43:00.927 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 20:43:01.153 +03:00 [INF] Executed DbCommand (225ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 20:43:01.180 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:43:01.192 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 30ms reading results.
2023-06-16 20:43:01.198 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:43:01.209 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (10ms).
2023-06-16 20:43:01.241 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-06-16 20:43:01.244 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-06-16 20:43:01.246 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-16 20:43:01.246 +03:00 [INF] Executing OkObjectResult, writing value of type 'Booking_ReservationAPI.Models.APIResponse'.
2023-06-16 20:43:01.581 +03:00 [INF] Executed action Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI) in 5845.6294ms
2023-06-16 20:43:01.583 +03:00 [INF] Executed endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 20:43:01.584 +03:00 [DBG] Connection id "0HMREI4DCFSLV" completed keep alive response.
2023-06-16 20:43:01.587 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 20:43:01.593 +03:00 [DBG] Disposing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:43:01.595 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-06-16 20:43:01.596 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/ReservationAPI - - - 200 68 application/json;+charset=utf-8 5912.1330ms
2023-06-16 20:44:10.694 +03:00 [DBG] Connection id "0HMREI4DCFSLV" received FIN.
2023-06-16 20:44:10.763 +03:00 [DBG] Connection id "0HMREI4DCFSLV" disconnecting.
2023-06-16 20:44:10.764 +03:00 [DBG] Connection id "0HMREI4DCFSLV" sending FIN because: "The client closed the connection."
2023-06-16 20:44:10.773 +03:00 [DBG] Connection id "0HMREI4DCFSLV" stopped.
2023-06-16 20:48:58.535 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-16 20:48:58.627 +03:00 [DBG] Hosting starting
2023-06-16 20:48:58.942 +03:00 [INF] Now listening on: https://localhost:7001
2023-06-16 20:48:58.942 +03:00 [INF] Now listening on: http://localhost:5030
2023-06-16 20:48:58.943 +03:00 [DBG] Loaded hosting startup assembly Booking_ReservationAPI
2023-06-16 20:48:58.943 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-16 20:48:58.943 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-16 20:48:58.943 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 20:48:58.944 +03:00 [INF] Hosting environment: Development
2023-06-16 20:48:58.944 +03:00 [INF] Content root path: C:\Users\Mira\source\TestApis\Booking\Booking_ReservationAPI
2023-06-16 20:48:58.944 +03:00 [DBG] Hosting started
2023-06-16 20:48:58.950 +03:00 [DBG] Connection id "0HMREI7R9F7M2" received FIN.
2023-06-16 20:48:58.955 +03:00 [DBG] Connection id "0HMREI7R9F7M2" accepted.
2023-06-16 20:48:58.956 +03:00 [DBG] Connection id "0HMREI7R9F7M2" started.
2023-06-16 20:48:58.979 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 20:48:59.049 +03:00 [DBG] Connection id "0HMREI7R9F7M2" stopped.
2023-06-16 20:48:59.052 +03:00 [DBG] Connection id "0HMREI7R9F7M2" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 20:48:59.229 +03:00 [DBG] Connection id "0HMREI7R9F7M3" accepted.
2023-06-16 20:48:59.229 +03:00 [DBG] Connection id "0HMREI7R9F7M3" started.
2023-06-16 20:48:59.709 +03:00 [DBG] Connection 0HMREI7R9F7M3 established using the following protocol: "Tls12"
2023-06-16 20:48:59.954 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2023-06-16 20:49:00.084 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-16 20:49:00.121 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-06-16 20:49:00.121 +03:00 [DBG] Request did not match any endpoints
2023-06-16 20:49:00.303 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-06-16 20:49:00.828 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-06-16 20:49:00.831 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 881.4582ms
2023-06-16 20:49:01.484 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2023-06-16 20:49:01.494 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12014 application/javascript;+charset=utf-8 8.3749ms
2023-06-16 20:49:01.498 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2023-06-16 20:49:01.524 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 25.6598ms
2023-06-16 20:49:01.887 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-06-16 20:49:01.887 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-06-16 20:49:01.888 +03:00 [DBG] Request did not match any endpoints
2023-06-16 20:49:02.119 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 232.9191ms
2023-06-16 20:49:07.269 +03:00 [DBG] Connection id "0HMREI7R9F7M4" accepted.
2023-06-16 20:49:07.269 +03:00 [DBG] Connection id "0HMREI7R9F7M4" started.
2023-06-16 20:49:07.280 +03:00 [DBG] Connection 0HMREI7R9F7M4 established using the following protocol: "Tls12"
2023-06-16 20:49:07.293 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/ReservationAPI - -
2023-06-16 20:49:07.296 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ReservationAPI'
2023-06-16 20:49:07.297 +03:00 [DBG] Endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)' with route pattern 'api/ReservationAPI' is valid for the request path '/api/ReservationAPI'
2023-06-16 20:49:07.298 +03:00 [DBG] Request matched endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 20:49:07.300 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-06-16 20:49:07.303 +03:00 [INF] Executing endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 20:49:07.316 +03:00 [INF] Route matched with {action = "GetReservations", controller = "ReservationAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Booking_ReservationAPI.Models.APIResponse]] GetReservations() on controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI).
2023-06-16 20:49:07.318 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-16 20:49:07.318 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-16 20:49:07.318 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-16 20:49:07.319 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-16 20:49:07.319 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-16 20:49:07.320 +03:00 [DBG] Executing controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 20:49:07.453 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-16 20:49:08.125 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 20:49:08.228 +03:00 [DBG] Executed controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 20:49:08.303 +03:00 [DBG] Compiling query expression: 
'DbSet<Reservation>()'
2023-06-16 20:49:08.425 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Reservation>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Reservation.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Reservation.CreationDate (DateTime) Required, 1], [Property: Reservation.CustomerName (string) Required, 2], [Property: Reservation.Notes (string) Required, 3], [Property: Reservation.ReservationDate (DateTime) Required, 4], [Property: Reservation.ReservedBy (string) Required, 5], [Property: Reservation.Trip_Id (int) Required FK Index, 6] }
        SELECT r.Id, r.CreationDate, r.CustomerName, r.Notes, r.ReservationDate, r.ReservedBy, r.Trip_Id
        FROM Reservations AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Reservation>, 
    Booking_ReservationAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-06-16 20:49:08.451 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 20:49:08.453 +03:00 [DBG] Creating DbConnection.
2023-06-16 20:49:08.480 +03:00 [DBG] Created DbConnection. (24ms).
2023-06-16 20:49:08.487 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (33ms).
2023-06-16 20:49:08.489 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (38ms).
2023-06-16 20:49:08.492 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:49:09.790 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:49:09.798 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 20:49:09.888 +03:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 20:49:09.899 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:49:09.905 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 12ms reading results.
2023-06-16 20:49:09.907 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:49:09.912 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (4ms).
2023-06-16 20:49:09.929 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-06-16 20:49:09.931 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-06-16 20:49:09.932 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-16 20:49:09.932 +03:00 [INF] Executing OkObjectResult, writing value of type 'Booking_ReservationAPI.Models.APIResponse'.
2023-06-16 20:49:10.073 +03:00 [INF] Executed action Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI) in 2750.4707ms
2023-06-16 20:49:10.074 +03:00 [INF] Executed endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 20:49:10.075 +03:00 [DBG] Connection id "0HMREI7R9F7M4" completed keep alive response.
2023-06-16 20:49:10.077 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 20:49:10.081 +03:00 [DBG] Disposing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 20:49:10.082 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-06-16 20:49:10.083 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/ReservationAPI - - - 200 68 application/json;+charset=utf-8 2789.9946ms
2023-06-16 20:49:10.621 +03:00 [DBG] Connection id "0HMREI7R9F7M3" received FIN.
2023-06-16 20:49:10.624 +03:00 [DBG] Connection id "0HMREI7R9F7M3" is closed. The last processed stream ID was 7.
2023-06-16 20:49:10.624 +03:00 [DBG] The connection queue processing loop for 0HMREI7R9F7M3 completed.
2023-06-16 20:49:10.624 +03:00 [DBG] Connection id "0HMREI7R9F7M3" sending FIN because: "The client closed the connection."
2023-06-16 20:49:10.625 +03:00 [DBG] Connection id "0HMREI7R9F7M3" stopped.
2023-06-16 20:50:22.297 +03:00 [DBG] Connection id "0HMREI7R9F7M4" received FIN.
2023-06-16 20:50:22.298 +03:00 [DBG] Connection id "0HMREI7R9F7M4" disconnecting.
2023-06-16 20:50:22.299 +03:00 [DBG] Connection id "0HMREI7R9F7M4" stopped.
2023-06-16 20:50:22.299 +03:00 [DBG] Connection id "0HMREI7R9F7M4" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 21:02:18.821 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-16 21:02:18.987 +03:00 [DBG] Hosting starting
2023-06-16 21:02:19.297 +03:00 [INF] Now listening on: https://localhost:7001
2023-06-16 21:02:19.297 +03:00 [INF] Now listening on: http://localhost:5030
2023-06-16 21:02:19.297 +03:00 [DBG] Loaded hosting startup assembly Booking_ReservationAPI
2023-06-16 21:02:19.297 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-16 21:02:19.297 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-16 21:02:19.298 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 21:02:19.298 +03:00 [INF] Hosting environment: Development
2023-06-16 21:02:19.298 +03:00 [INF] Content root path: C:\Users\Mira\source\TestApis\Booking\Booking_ReservationAPI
2023-06-16 21:02:19.299 +03:00 [DBG] Hosting started
2023-06-16 21:02:19.451 +03:00 [DBG] Connection id "0HMREIF9RKLNK" received FIN.
2023-06-16 21:02:19.460 +03:00 [DBG] Connection id "0HMREIF9RKLNK" accepted.
2023-06-16 21:02:19.466 +03:00 [DBG] Connection id "0HMREIF9RKLNK" started.
2023-06-16 21:02:19.500 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 21:02:21.800 +03:00 [DBG] Connection id "0HMREIF9RKLNL" accepted.
2023-06-16 21:02:23.116 +03:00 [DBG] Connection id "0HMREIF9RKLNL" started.
2023-06-16 21:02:23.121 +03:00 [DBG] Connection id "0HMREIF9RKLNK" stopped.
2023-06-16 21:02:23.223 +03:00 [DBG] Connection id "0HMREIF9RKLNK" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 21:02:23.338 +03:00 [DBG] Connection 0HMREIF9RKLNL established using the following protocol: "Tls12"
2023-06-16 21:02:24.837 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2023-06-16 21:02:24.951 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-16 21:02:24.988 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-06-16 21:02:24.989 +03:00 [DBG] Request did not match any endpoints
2023-06-16 21:02:25.144 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-06-16 21:02:25.506 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-06-16 21:02:25.517 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 680.8166ms
2023-06-16 21:02:25.590 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2023-06-16 21:02:25.679 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 89.3615ms
2023-06-16 21:02:25.769 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2023-06-16 21:02:25.777 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12014 application/javascript;+charset=utf-8 7.3309ms
2023-06-16 21:02:26.077 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-06-16 21:02:26.078 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-06-16 21:02:26.078 +03:00 [DBG] Request did not match any endpoints
2023-06-16 21:02:26.411 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 333.2446ms
2023-06-16 21:02:28.177 +03:00 [DBG] Connection id "0HMREIF9RKLNL" received FIN.
2023-06-16 21:02:28.179 +03:00 [DBG] The connection queue processing loop for 0HMREIF9RKLNL completed.
2023-06-16 21:02:28.182 +03:00 [DBG] Connection id "0HMREIF9RKLNL" is closed. The last processed stream ID was 7.
2023-06-16 21:02:28.182 +03:00 [DBG] Connection id "0HMREIF9RKLNL" sending FIN because: "The client closed the connection."
2023-06-16 21:02:28.190 +03:00 [DBG] Connection id "0HMREIF9RKLNL" stopped.
2023-06-16 21:02:41.971 +03:00 [DBG] Connection id "0HMREIF9RKLNM" accepted.
2023-06-16 21:02:41.972 +03:00 [DBG] Connection id "0HMREIF9RKLNM" started.
2023-06-16 21:02:41.987 +03:00 [DBG] Connection 0HMREIF9RKLNM established using the following protocol: "Tls12"
2023-06-16 21:02:42.005 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/ReservationAPI - -
2023-06-16 21:02:42.009 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ReservationAPI'
2023-06-16 21:02:42.011 +03:00 [DBG] Endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)' with route pattern 'api/ReservationAPI' is valid for the request path '/api/ReservationAPI'
2023-06-16 21:02:42.011 +03:00 [DBG] Request matched endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 21:02:42.014 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-06-16 21:02:42.016 +03:00 [INF] Executing endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 21:02:42.033 +03:00 [INF] Route matched with {action = "GetReservations", controller = "ReservationAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Booking_ReservationAPI.Models.APIResponse]] GetReservations() on controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI).
2023-06-16 21:02:42.035 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-16 21:02:42.035 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-16 21:02:42.035 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-16 21:02:42.035 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-16 21:02:42.035 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-16 21:02:42.037 +03:00 [DBG] Executing controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 21:02:42.480 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-16 21:02:43.245 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 21:02:43.328 +03:00 [DBG] Executed controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 21:02:44.336 +03:00 [DBG] Compiling query expression: 
'DbSet<Reservation>()'
2023-06-16 21:02:44.484 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Reservation>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Reservation.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Reservation.CreationDate (DateTime) Required, 1], [Property: Reservation.CustomerName (string) Required, 2], [Property: Reservation.Notes (string) Required, 3], [Property: Reservation.ReservationDate (DateTime) Required, 4], [Property: Reservation.ReservedBy (string) Required, 5], [Property: Reservation.Trip_Id (int) Required FK Index, 6] }
        SELECT r.Id, r.CreationDate, r.CustomerName, r.Notes, r.ReservationDate, r.ReservedBy, r.Trip_Id
        FROM Reservations AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Reservation>, 
    Booking_ReservationAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-06-16 21:02:44.535 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 21:02:44.537 +03:00 [DBG] Creating DbConnection.
2023-06-16 21:02:44.580 +03:00 [DBG] Created DbConnection. (40ms).
2023-06-16 21:02:44.584 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (50ms).
2023-06-16 21:02:44.587 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (53ms).
2023-06-16 21:02:44.592 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:02:46.531 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:02:46.542 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 21:02:46.626 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 21:02:46.646 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:02:46.652 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 21ms reading results.
2023-06-16 21:02:46.655 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:02:46.662 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (6ms).
2023-06-16 21:02:46.690 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-06-16 21:02:46.693 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-06-16 21:02:46.695 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-16 21:02:46.695 +03:00 [INF] Executing OkObjectResult, writing value of type 'Booking_ReservationAPI.Models.APIResponse'.
2023-06-16 21:02:46.891 +03:00 [INF] Executed action Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI) in 4850.3926ms
2023-06-16 21:02:46.893 +03:00 [INF] Executed endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 21:02:46.893 +03:00 [DBG] Connection id "0HMREIF9RKLNM" completed keep alive response.
2023-06-16 21:02:46.896 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 21:02:46.900 +03:00 [DBG] Disposing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:02:46.902 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-06-16 21:02:46.902 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/ReservationAPI - - - 200 68 application/json;+charset=utf-8 4897.4204ms
2023-06-16 21:03:23.068 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/ReservationAPI - -
2023-06-16 21:03:23.069 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ReservationAPI'
2023-06-16 21:03:23.069 +03:00 [DBG] Endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)' with route pattern 'api/ReservationAPI' is valid for the request path '/api/ReservationAPI'
2023-06-16 21:03:23.070 +03:00 [DBG] Request matched endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 21:03:23.070 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-06-16 21:03:23.070 +03:00 [INF] Executing endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 21:03:23.070 +03:00 [INF] Route matched with {action = "GetReservations", controller = "ReservationAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Booking_ReservationAPI.Models.APIResponse]] GetReservations() on controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI).
2023-06-16 21:03:23.070 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-16 21:03:23.070 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-16 21:03:23.070 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-16 21:03:23.070 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-16 21:03:23.070 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-16 21:03:23.070 +03:00 [DBG] Executing controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 21:03:23.122 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 21:03:23.122 +03:00 [DBG] Executed controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 21:03:23.159 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 21:03:23.159 +03:00 [DBG] Creating DbConnection.
2023-06-16 21:03:23.159 +03:00 [DBG] Created DbConnection. (0ms).
2023-06-16 21:03:23.159 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-16 21:03:23.160 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-06-16 21:03:23.160 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:03:23.161 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:03:23.161 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 21:03:23.165 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 21:03:23.166 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:03:23.166 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 0ms reading results.
2023-06-16 21:03:23.166 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:03:23.166 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 21:03:23.167 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-06-16 21:03:23.167 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-06-16 21:03:23.168 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-16 21:03:23.168 +03:00 [INF] Executing OkObjectResult, writing value of type 'Booking_ReservationAPI.Models.APIResponse'.
2023-06-16 21:03:23.168 +03:00 [INF] Executed action Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI) in 97.8176ms
2023-06-16 21:03:23.168 +03:00 [INF] Executed endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 21:03:23.168 +03:00 [DBG] Connection id "0HMREIF9RKLNM" completed keep alive response.
2023-06-16 21:03:23.168 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 21:03:23.169 +03:00 [DBG] Disposing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:03:23.169 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-06-16 21:03:23.169 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/ReservationAPI - - - 200 68 application/json;+charset=utf-8 100.7865ms
2023-06-16 21:04:27.047 +03:00 [DBG] Connection id "0HMREIF9RKLNM" received FIN.
2023-06-16 21:04:27.051 +03:00 [DBG] Connection id "0HMREIF9RKLNM" disconnecting.
2023-06-16 21:04:27.052 +03:00 [DBG] Connection id "0HMREIF9RKLNM" stopped.
2023-06-16 21:04:27.054 +03:00 [DBG] Connection id "0HMREIF9RKLNM" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 21:05:35.555 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-16 21:05:36.320 +03:00 [DBG] Hosting starting
2023-06-16 21:05:36.943 +03:00 [INF] Now listening on: https://localhost:7001
2023-06-16 21:05:36.943 +03:00 [INF] Now listening on: http://localhost:5030
2023-06-16 21:05:36.943 +03:00 [DBG] Loaded hosting startup assembly Booking_ReservationAPI
2023-06-16 21:05:36.943 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-16 21:05:36.943 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-16 21:05:36.944 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 21:05:36.945 +03:00 [INF] Hosting environment: Development
2023-06-16 21:05:36.945 +03:00 [INF] Content root path: C:\Users\Mira\source\TestApis\Booking\Booking_ReservationAPI
2023-06-16 21:05:36.945 +03:00 [DBG] Hosting started
2023-06-16 21:05:37.315 +03:00 [DBG] Connection id "0HMREIH4QJKP7" accepted.
2023-06-16 21:05:37.317 +03:00 [DBG] Connection id "0HMREIH4QJKP7" started.
2023-06-16 21:05:37.317 +03:00 [DBG] Connection id "0HMREIH4QJKP8" accepted.
2023-06-16 21:05:37.318 +03:00 [DBG] Connection id "0HMREIH4QJKP8" started.
2023-06-16 21:05:37.358 +03:00 [DBG] Connection id "0HMREIH4QJKP8" received FIN.
2023-06-16 21:05:37.358 +03:00 [DBG] Connection id "0HMREIH4QJKP7" received FIN.
2023-06-16 21:05:37.375 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 21:05:37.375 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 21:05:37.476 +03:00 [DBG] Connection id "0HMREIH4QJKP8" stopped.
2023-06-16 21:05:37.476 +03:00 [DBG] Connection id "0HMREIH4QJKP7" stopped.
2023-06-16 21:05:37.485 +03:00 [DBG] Connection id "0HMREIH4QJKP8" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 21:05:37.485 +03:00 [DBG] Connection id "0HMREIH4QJKP7" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 21:05:37.798 +03:00 [DBG] Connection id "0HMREIH4QJKP9" accepted.
2023-06-16 21:05:37.800 +03:00 [DBG] Connection id "0HMREIH4QJKP9" started.
2023-06-16 21:05:38.330 +03:00 [DBG] Connection 0HMREIH4QJKP9 established using the following protocol: "Tls12"
2023-06-16 21:05:39.320 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2023-06-16 21:05:39.676 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-16 21:05:39.749 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-06-16 21:05:39.749 +03:00 [DBG] Request did not match any endpoints
2023-06-16 21:05:39.987 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-06-16 21:05:40.200 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-06-16 21:05:40.204 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 888.5968ms
2023-06-16 21:05:41.133 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2023-06-16 21:05:41.147 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12014 application/javascript;+charset=utf-8 13.5534ms
2023-06-16 21:05:41.714 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2023-06-16 21:05:41.769 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 55.5534ms
2023-06-16 21:05:42.569 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-06-16 21:05:42.569 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-06-16 21:05:42.570 +03:00 [DBG] Request did not match any endpoints
2023-06-16 21:05:42.888 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 319.1998ms
2023-06-16 21:05:43.824 +03:00 [DBG] Connection id "0HMREIH4QJKPA" accepted.
2023-06-16 21:05:43.824 +03:00 [DBG] Connection id "0HMREIH4QJKPA" started.
2023-06-16 21:05:43.840 +03:00 [DBG] Connection 0HMREIH4QJKPA established using the following protocol: "Tls12"
2023-06-16 21:05:43.867 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/ReservationAPI - -
2023-06-16 21:05:43.872 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ReservationAPI'
2023-06-16 21:05:43.875 +03:00 [DBG] Endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)' with route pattern 'api/ReservationAPI' is valid for the request path '/api/ReservationAPI'
2023-06-16 21:05:43.876 +03:00 [DBG] Request matched endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 21:05:43.879 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-06-16 21:05:43.882 +03:00 [INF] Executing endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 21:05:43.907 +03:00 [INF] Route matched with {action = "GetReservations", controller = "ReservationAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Booking_ReservationAPI.Models.APIResponse]] GetReservations() on controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI).
2023-06-16 21:05:43.908 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-16 21:05:43.909 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-16 21:05:43.909 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-16 21:05:43.909 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-16 21:05:43.909 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-16 21:05:43.910 +03:00 [DBG] Executing controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 21:05:44.096 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-16 21:05:45.133 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 21:05:45.285 +03:00 [DBG] Executed controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 21:05:45.363 +03:00 [DBG] Compiling query expression: 
'DbSet<Reservation>()'
2023-06-16 21:05:45.628 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Reservation>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Reservation.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Reservation.CreationDate (DateTime) Required, 1], [Property: Reservation.CustomerName (string) Required, 2], [Property: Reservation.Notes (string) Required, 3], [Property: Reservation.ReservationDate (DateTime) Required, 4], [Property: Reservation.ReservedBy (string) Required, 5], [Property: Reservation.Trip_Id (int) Required FK Index, 6] }
        SELECT r.Id, r.CreationDate, r.CustomerName, r.Notes, r.ReservationDate, r.ReservedBy, r.Trip_Id
        FROM Reservations AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Reservation>, 
    Booking_ReservationAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-06-16 21:05:45.685 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 21:05:45.690 +03:00 [DBG] Creating DbConnection.
2023-06-16 21:05:45.733 +03:00 [DBG] Created DbConnection. (41ms).
2023-06-16 21:05:45.743 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (58ms).
2023-06-16 21:05:45.746 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (64ms).
2023-06-16 21:05:45.750 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:05:49.581 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:05:49.596 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 21:05:49.823 +03:00 [INF] Executed DbCommand (231ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 21:05:49.846 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:05:49.849 +03:00 [DBG] Connection id "0HMREIH4QJKP9" received FIN.
2023-06-16 21:05:49.851 +03:00 [DBG] Connection id "0HMREIH4QJKP9" is closed. The last processed stream ID was 7.
2023-06-16 21:05:49.851 +03:00 [DBG] Connection id "0HMREIH4QJKP9" sending FIN because: "The client closed the connection."
2023-06-16 21:05:49.853 +03:00 [DBG] The connection queue processing loop for 0HMREIH4QJKP9 completed.
2023-06-16 21:05:49.855 +03:00 [DBG] Connection id "0HMREIH4QJKP9" stopped.
2023-06-16 21:05:49.857 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 25ms reading results.
2023-06-16 21:05:49.862 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:05:49.871 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (7ms).
2023-06-16 21:05:49.905 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-06-16 21:05:49.910 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-06-16 21:05:49.912 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-16 21:05:49.913 +03:00 [INF] Executing OkObjectResult, writing value of type 'Booking_ReservationAPI.Models.APIResponse'.
2023-06-16 21:05:50.106 +03:00 [INF] Executed action Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI) in 6191.1641ms
2023-06-16 21:05:50.107 +03:00 [INF] Executed endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 21:05:50.108 +03:00 [DBG] Connection id "0HMREIH4QJKPA" completed keep alive response.
2023-06-16 21:05:50.111 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 21:05:50.118 +03:00 [DBG] Disposing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:05:50.119 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2023-06-16 21:05:50.121 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/ReservationAPI - - - 200 68 application/json;+charset=utf-8 6253.9804ms
2023-06-16 21:06:58.859 +03:00 [DBG] Connection id "0HMREIH4QJKPA" received FIN.
2023-06-16 21:06:58.868 +03:00 [DBG] Connection id "0HMREIH4QJKPA" disconnecting.
2023-06-16 21:06:58.868 +03:00 [DBG] Connection id "0HMREIH4QJKPA" stopped.
2023-06-16 21:06:58.868 +03:00 [DBG] Connection id "0HMREIH4QJKPA" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 21:07:57.992 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-16 21:07:58.184 +03:00 [DBG] Hosting starting
2023-06-16 21:07:58.478 +03:00 [INF] Now listening on: https://localhost:7001
2023-06-16 21:07:58.478 +03:00 [INF] Now listening on: http://localhost:5030
2023-06-16 21:07:58.478 +03:00 [DBG] Loaded hosting startup assembly Booking_ReservationAPI
2023-06-16 21:07:58.478 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-16 21:07:58.478 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-16 21:07:58.479 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 21:07:58.479 +03:00 [INF] Hosting environment: Development
2023-06-16 21:07:58.479 +03:00 [INF] Content root path: C:\Users\Mira\source\TestApis\Booking\Booking_ReservationAPI
2023-06-16 21:07:58.479 +03:00 [DBG] Hosting started
2023-06-16 21:07:58.553 +03:00 [DBG] Connection id "0HMREIIETIDUA" accepted.
2023-06-16 21:07:58.561 +03:00 [DBG] Connection id "0HMREIIETIDUA" received FIN.
2023-06-16 21:07:58.563 +03:00 [DBG] Connection id "0HMREIIETIDUA" started.
2023-06-16 21:07:58.743 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 21:07:58.885 +03:00 [DBG] Connection id "0HMREIIETIDUA" stopped.
2023-06-16 21:07:58.903 +03:00 [DBG] Connection id "0HMREIIETIDUA" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 21:07:58.997 +03:00 [DBG] Connection id "0HMREIIETIDUB" accepted.
2023-06-16 21:07:59.079 +03:00 [DBG] Connection id "0HMREIIETIDUB" started.
2023-06-16 21:07:59.746 +03:00 [DBG] Connection 0HMREIIETIDUB established using the following protocol: "Tls12"
2023-06-16 21:08:00.119 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2023-06-16 21:08:00.307 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-16 21:08:00.358 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-06-16 21:08:00.359 +03:00 [DBG] Request did not match any endpoints
2023-06-16 21:08:00.590 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-06-16 21:08:00.961 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-06-16 21:08:00.968 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 856.4175ms
2023-06-16 21:08:00.999 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2023-06-16 21:08:01.000 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2023-06-16 21:08:01.035 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12014 application/javascript;+charset=utf-8 35.0148ms
2023-06-16 21:08:01.222 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 222.6260ms
2023-06-16 21:08:01.355 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-06-16 21:08:01.355 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-06-16 21:08:01.355 +03:00 [DBG] Request did not match any endpoints
2023-06-16 21:08:01.718 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 362.9106ms
2023-06-16 21:08:04.403 +03:00 [DBG] Connection id "0HMREIIETIDUB" received FIN.
2023-06-16 21:08:04.406 +03:00 [DBG] The connection queue processing loop for 0HMREIIETIDUB completed.
2023-06-16 21:08:04.409 +03:00 [DBG] Connection id "0HMREIIETIDUB" is closed. The last processed stream ID was 7.
2023-06-16 21:08:04.410 +03:00 [DBG] Connection id "0HMREIIETIDUB" sending FIN because: "The client closed the connection."
2023-06-16 21:08:04.424 +03:00 [DBG] Connection id "0HMREIIETIDUB" stopped.
2023-06-16 21:08:24.863 +03:00 [DBG] Connection id "0HMREIIETIDUC" accepted.
2023-06-16 21:08:24.864 +03:00 [DBG] Connection id "0HMREIIETIDUC" started.
2023-06-16 21:08:24.867 +03:00 [DBG] Connection 0HMREIIETIDUC established using the following protocol: "Tls12"
2023-06-16 21:08:24.871 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/ReservationAPI application/json-patch+json 188
2023-06-16 21:08:24.891 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ReservationAPI'
2023-06-16 21:08:24.893 +03:00 [DBG] Endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)' with route pattern 'api/ReservationAPI' is valid for the request path '/api/ReservationAPI'
2023-06-16 21:08:24.894 +03:00 [DBG] Request matched endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)'
2023-06-16 21:08:24.897 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-06-16 21:08:24.901 +03:00 [INF] Executing endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)'
2023-06-16 21:08:25.114 +03:00 [INF] Route matched with {action = "CreateReservation", controller = "ReservationAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Booking_ReservationAPI.Models.APIResponse]] CreateReservation(Booking_ReservationAPI.Models.Dto.ReservationCreateDTO) on controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI).
2023-06-16 21:08:25.116 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-16 21:08:25.117 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-16 21:08:25.117 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-16 21:08:25.117 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-16 21:08:25.118 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-16 21:08:25.120 +03:00 [DBG] Executing controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 21:08:25.284 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-16 21:08:26.158 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 21:08:26.254 +03:00 [DBG] Executed controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 21:08:26.311 +03:00 [DBG] Attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO' ...
2023-06-16 21:08:26.315 +03:00 [DBG] Attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO' using the name '' in request data ...
2023-06-16 21:08:26.315 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-06-16 21:08:26.316 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-06-16 21:08:26.365 +03:00 [DBG] Connection id "0HMREIIETIDUC", Request id "0HMREIIETIDUC:00000001": started reading request body.
2023-06-16 21:08:26.366 +03:00 [DBG] Connection id "0HMREIIETIDUC", Request id "0HMREIIETIDUC:00000001": done reading request body.
2023-06-16 21:08:26.545 +03:00 [DBG] Done attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO'.
2023-06-16 21:08:26.545 +03:00 [DBG] Done attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO'.
2023-06-16 21:08:26.545 +03:00 [DBG] Attempting to validate the bound parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO' ...
2023-06-16 21:08:26.644 +03:00 [DBG] Done attempting to validate the bound parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO'.
2023-06-16 21:08:26.881 +03:00 [DBG] Compiling query expression: 
'DbSet<Reservation>()
    .Where(u => u.CustomerName.ToLower() == __ToLower_0)
    .FirstOrDefault()'
2023-06-16 21:08:27.351 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Reservation>(
    asyncEnumerable: new SingleQueryingEnumerable<Reservation>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Reservation.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Reservation.CreationDate (DateTime) Required, 1], [Property: Reservation.CustomerName (string) Required, 2], [Property: Reservation.Notes (string) Required, 3], [Property: Reservation.ReservationDate (DateTime) Required, 4], [Property: Reservation.ReservedBy (string) Required, 5], [Property: Reservation.Trip_Id (int) Required FK Index, 6] }
            SELECT TOP(1) r.Id, r.CreationDate, r.CustomerName, r.Notes, r.ReservationDate, r.ReservedBy, r.Trip_Id
            FROM Reservations AS r
            WHERE LOWER(r.CustomerName) == @__ToLower_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Reservation>, 
        Booking_ReservationAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-06-16 21:08:27.426 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 21:08:27.428 +03:00 [DBG] Creating DbConnection.
2023-06-16 21:08:27.462 +03:00 [DBG] Created DbConnection. (27ms).
2023-06-16 21:08:27.467 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (44ms).
2023-06-16 21:08:27.515 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (93ms).
2023-06-16 21:08:27.522 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:08:29.554 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:08:29.594 +03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
WHERE LOWER([r].[CustomerName]) = @__ToLower_0
2023-06-16 21:08:29.885 +03:00 [INF] Executed DbCommand (318ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
WHERE LOWER([r].[CustomerName]) = @__ToLower_0
2023-06-16 21:08:29.908 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:08:29.919 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 27ms reading results.
2023-06-16 21:08:29.925 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:08:29.934 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (8ms).
2023-06-16 21:08:30.145 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Id.Reservation'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 21:08:30.316 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 21:08:30.320 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-06-16 21:08:30.329 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-06-16 21:08:30.361 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-06-16 21:08:30.718 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:08:30.719 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:08:30.722 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 21:08:30.722 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-16 21:08:30.723 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-06-16 21:08:30.724 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Reservations] ([CreationDate], [CustomerName], [Notes], [ReservationDate], [ReservedBy], [Trip_Id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-06-16 21:08:30.801 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Reservations] ([CreationDate], [CustomerName], [Notes], [ReservationDate], [ReservedBy], [Trip_Id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-06-16 21:08:30.847 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:08:30.848 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 47ms reading results.
2023-06-16 21:08:30.864 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:08:30.864 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 21:08:30.948 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Booking_ReservationAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Reservations_Trips_Trip_Id". The conflict occurred in database "Booking_ReservAPI_DB", table "dbo.Trips", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:13cefb88-5a0d-4d2b-9e39-a7d594207faa
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Reservations_Trips_Trip_Id". The conflict occurred in database "Booking_ReservAPI_DB", table "dbo.Trips", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:13cefb88-5a0d-4d2b-9e39-a7d594207faa
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-06-16 21:08:31.836 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-06-16 21:08:31.842 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-06-16 21:08:31.843 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-06-16 21:08:31.843 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-06-16 21:08:31.843 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-06-16 21:08:31.845 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-16 21:08:31.845 +03:00 [INF] Executing ObjectResult, writing value of type 'Booking_ReservationAPI.Models.APIResponse'.
2023-06-16 21:08:31.902 +03:00 [INF] Executed action Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI) in 6781.3391ms
2023-06-16 21:08:31.903 +03:00 [INF] Executed endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)'
2023-06-16 21:08:31.909 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 21:08:31.915 +03:00 [DBG] Disposing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:08:31.918 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2023-06-16 21:08:31.919 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/ReservationAPI application/json-patch+json 188 - 200 4689 application/json;+charset=utf-8 7048.3572ms
2023-06-16 21:08:34.441 +03:00 [DBG] Connection id "0HMREIIETIDUC" received FIN.
2023-06-16 21:08:34.442 +03:00 [DBG] Connection id "0HMREIIETIDUC" is closed. The last processed stream ID was 1.
2023-06-16 21:08:34.442 +03:00 [DBG] Connection id "0HMREIIETIDUC" sending FIN because: "The client closed the connection."
2023-06-16 21:08:34.442 +03:00 [DBG] The connection queue processing loop for 0HMREIIETIDUC completed.
2023-06-16 21:08:34.442 +03:00 [DBG] Connection id "0HMREIIETIDUC" stopped.
2023-06-16 21:26:21.067 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-16 21:26:21.257 +03:00 [DBG] Hosting starting
2023-06-16 21:26:22.207 +03:00 [INF] Now listening on: https://localhost:7001
2023-06-16 21:26:22.207 +03:00 [INF] Now listening on: http://localhost:5030
2023-06-16 21:26:22.207 +03:00 [DBG] Loaded hosting startup assembly Booking_ReservationAPI
2023-06-16 21:26:22.207 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-16 21:26:22.207 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-16 21:26:22.208 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 21:26:22.208 +03:00 [INF] Hosting environment: Development
2023-06-16 21:26:22.208 +03:00 [INF] Content root path: C:\Users\Mira\source\TestApis\Booking\Booking_ReservationAPI
2023-06-16 21:26:22.208 +03:00 [DBG] Hosting started
2023-06-16 21:26:22.387 +03:00 [DBG] Connection id "0HMREISNSHA9B" accepted.
2023-06-16 21:26:22.389 +03:00 [DBG] Connection id "0HMREISNSHA9B" started.
2023-06-16 21:26:22.394 +03:00 [DBG] Connection id "0HMREISNSHA9B" received FIN.
2023-06-16 21:26:24.386 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 21:26:24.872 +03:00 [DBG] Connection id "0HMREISNSHA9C" accepted.
2023-06-16 21:26:25.079 +03:00 [DBG] Connection id "0HMREISNSHA9C" started.
2023-06-16 21:26:25.090 +03:00 [DBG] Connection id "0HMREISNSHA9B" stopped.
2023-06-16 21:26:25.104 +03:00 [DBG] Connection id "0HMREISNSHA9B" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 21:26:25.399 +03:00 [DBG] Connection 0HMREISNSHA9C established using the following protocol: "Tls12"
2023-06-16 21:26:25.838 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2023-06-16 21:26:25.941 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-16 21:26:26.017 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-06-16 21:26:26.017 +03:00 [DBG] Request did not match any endpoints
2023-06-16 21:26:27.731 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-06-16 21:26:31.579 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2023-06-16 21:26:31.579 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2023-06-16 21:26:31.624 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-06-16 21:26:32.081 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 5801.7533ms
2023-06-16 21:26:32.081 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12014 application/javascript;+charset=utf-8 476.2911ms
2023-06-16 21:26:32.108 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 529.6195ms
2023-06-16 21:26:34.784 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-06-16 21:26:34.784 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-06-16 21:26:34.784 +03:00 [DBG] Request did not match any endpoints
2023-06-16 21:26:37.792 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 3008.2790ms
2023-06-16 21:26:39.078 +03:00 [DBG] Connection id "0HMREISNSHA9C" received FIN.
2023-06-16 21:26:39.162 +03:00 [DBG] The connection queue processing loop for 0HMREISNSHA9C completed.
2023-06-16 21:26:39.166 +03:00 [DBG] Connection id "0HMREISNSHA9C" is closed. The last processed stream ID was 7.
2023-06-16 21:26:39.166 +03:00 [DBG] Connection id "0HMREISNSHA9C" sending FIN because: "The client closed the connection."
2023-06-16 21:26:39.180 +03:00 [DBG] Connection id "0HMREISNSHA9C" stopped.
2023-06-16 21:26:53.623 +03:00 [DBG] Connection id "0HMREISNSHA9D" accepted.
2023-06-16 21:26:53.623 +03:00 [DBG] Connection id "0HMREISNSHA9D" started.
2023-06-16 21:26:53.625 +03:00 [DBG] Connection 0HMREISNSHA9D established using the following protocol: "Tls12"
2023-06-16 21:26:53.627 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/ReservationAPI - -
2023-06-16 21:26:53.630 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ReservationAPI'
2023-06-16 21:26:53.632 +03:00 [DBG] Endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)' with route pattern 'api/ReservationAPI' is valid for the request path '/api/ReservationAPI'
2023-06-16 21:26:53.632 +03:00 [DBG] Request matched endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 21:26:53.653 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-06-16 21:26:53.674 +03:00 [INF] Executing endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 21:26:53.907 +03:00 [INF] Route matched with {action = "GetReservations", controller = "ReservationAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Booking_ReservationAPI.Models.APIResponse]] GetReservations() on controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI).
2023-06-16 21:26:53.910 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-16 21:26:53.910 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-16 21:26:53.911 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-16 21:26:53.911 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-16 21:26:53.911 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-16 21:26:53.914 +03:00 [DBG] Executing controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 21:26:54.614 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-16 21:26:56.300 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 21:26:56.544 +03:00 [DBG] Executed controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 21:26:56.859 +03:00 [DBG] Compiling query expression: 
'DbSet<Reservation>()'
2023-06-16 21:26:57.109 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Reservation>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Reservation.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Reservation.CreationDate (DateTime) Required, 1], [Property: Reservation.CustomerName (string) Required, 2], [Property: Reservation.Notes (string) Required, 3], [Property: Reservation.ReservationDate (DateTime) Required, 4], [Property: Reservation.ReservedBy (string) Required, 5], [Property: Reservation.Trip_Id (int) Required FK Index, 6] }
        SELECT r.Id, r.CreationDate, r.CustomerName, r.Notes, r.ReservationDate, r.ReservedBy, r.Trip_Id
        FROM Reservations AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Reservation>, 
    Booking_ReservationAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-06-16 21:26:57.142 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 21:26:57.143 +03:00 [DBG] Creating DbConnection.
2023-06-16 21:26:57.266 +03:00 [DBG] Created DbConnection. (118ms).
2023-06-16 21:26:57.280 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (139ms).
2023-06-16 21:26:57.282 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (142ms).
2023-06-16 21:26:57.288 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:26:59.495 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:26:59.508 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 21:26:59.656 +03:00 [INF] Executed DbCommand (146ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 21:26:59.683 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:26:59.696 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 31ms reading results.
2023-06-16 21:26:59.700 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:26:59.711 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (10ms).
2023-06-16 21:26:59.780 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-06-16 21:26:59.785 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-06-16 21:26:59.788 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-06-16 21:26:59.789 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-06-16 21:26:59.789 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-06-16 21:26:59.790 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-16 21:26:59.790 +03:00 [INF] Executing OkObjectResult, writing value of type 'Booking_ReservationAPI.Models.APIResponse'.
2023-06-16 21:27:00.366 +03:00 [INF] Executed action Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI) in 6451.2951ms
2023-06-16 21:27:00.367 +03:00 [INF] Executed endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 21:27:00.372 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 21:27:00.377 +03:00 [DBG] Disposing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:27:00.379 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-06-16 21:27:00.379 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/ReservationAPI - - - 200 68 application/json;+charset=utf-8 6752.5106ms
2023-06-16 21:27:09.121 +03:00 [DBG] Connection id "0HMREISNSHA9D" received FIN.
2023-06-16 21:27:09.122 +03:00 [DBG] Connection id "0HMREISNSHA9D" is closed. The last processed stream ID was 1.
2023-06-16 21:27:09.122 +03:00 [DBG] Connection id "0HMREISNSHA9D" sending FIN because: "The client closed the connection."
2023-06-16 21:27:09.124 +03:00 [DBG] The connection queue processing loop for 0HMREISNSHA9D completed.
2023-06-16 21:27:09.124 +03:00 [DBG] Connection id "0HMREISNSHA9D" stopped.
2023-06-16 21:27:21.118 +03:00 [DBG] Connection id "0HMREISNSHA9E" accepted.
2023-06-16 21:27:21.118 +03:00 [DBG] Connection id "0HMREISNSHA9E" started.
2023-06-16 21:27:21.120 +03:00 [DBG] Connection 0HMREISNSHA9E established using the following protocol: "Tls12"
2023-06-16 21:27:21.134 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2023-06-16 21:27:21.136 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-06-16 21:27:21.136 +03:00 [DBG] Request did not match any endpoints
2023-06-16 21:27:21.137 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-06-16 21:27:21.159 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-06-16 21:27:21.159 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 24.9004ms
2023-06-16 21:27:21.171 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2023-06-16 21:27:21.183 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12014 application/javascript;+charset=utf-8 11.4761ms
2023-06-16 21:27:21.183 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2023-06-16 21:27:21.255 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 71.6512ms
2023-06-16 21:27:21.385 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-06-16 21:27:21.386 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-06-16 21:27:21.386 +03:00 [DBG] Request did not match any endpoints
2023-06-16 21:27:21.423 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 38.2156ms
2023-06-16 21:27:29.150 +03:00 [DBG] Connection id "0HMREISNSHA9E" received FIN.
2023-06-16 21:27:29.150 +03:00 [DBG] Connection id "0HMREISNSHA9E" is closed. The last processed stream ID was 7.
2023-06-16 21:27:29.150 +03:00 [DBG] The connection queue processing loop for 0HMREISNSHA9E completed.
2023-06-16 21:27:29.150 +03:00 [DBG] Connection id "0HMREISNSHA9E" sending FIN because: "The client closed the connection."
2023-06-16 21:27:29.151 +03:00 [DBG] Connection id "0HMREISNSHA9E" stopped.
2023-06-16 21:27:35.326 +03:00 [DBG] Connection id "0HMREISNSHA9F" accepted.
2023-06-16 21:27:35.326 +03:00 [DBG] Connection id "0HMREISNSHA9F" started.
2023-06-16 21:27:35.327 +03:00 [DBG] Connection 0HMREISNSHA9F established using the following protocol: "Tls12"
2023-06-16 21:27:35.328 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/ReservationAPI application/json-patch+json 188
2023-06-16 21:27:35.329 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ReservationAPI'
2023-06-16 21:27:35.329 +03:00 [DBG] Endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)' with route pattern 'api/ReservationAPI' is valid for the request path '/api/ReservationAPI'
2023-06-16 21:27:35.329 +03:00 [DBG] Request matched endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)'
2023-06-16 21:27:35.329 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-06-16 21:27:35.330 +03:00 [INF] Executing endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)'
2023-06-16 21:27:35.355 +03:00 [INF] Route matched with {action = "CreateReservation", controller = "ReservationAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Booking_ReservationAPI.Models.APIResponse]] CreateReservation(Booking_ReservationAPI.Models.Dto.ReservationCreateDTO) on controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI).
2023-06-16 21:27:35.355 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-16 21:27:35.355 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-16 21:27:35.356 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-16 21:27:35.356 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-16 21:27:35.356 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-16 21:27:35.356 +03:00 [DBG] Executing controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 21:27:35.432 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 21:27:35.432 +03:00 [DBG] Executed controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 21:27:35.620 +03:00 [DBG] Attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO' ...
2023-06-16 21:27:35.623 +03:00 [DBG] Attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO' using the name '' in request data ...
2023-06-16 21:27:35.624 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-06-16 21:27:35.624 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-06-16 21:27:35.664 +03:00 [DBG] Connection id "0HMREISNSHA9F", Request id "0HMREISNSHA9F:00000001": started reading request body.
2023-06-16 21:27:35.664 +03:00 [DBG] Connection id "0HMREISNSHA9F", Request id "0HMREISNSHA9F:00000001": done reading request body.
2023-06-16 21:27:35.844 +03:00 [DBG] Done attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO'.
2023-06-16 21:27:35.844 +03:00 [DBG] Done attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO'.
2023-06-16 21:27:35.844 +03:00 [DBG] Attempting to validate the bound parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO' ...
2023-06-16 21:27:35.915 +03:00 [DBG] Done attempting to validate the bound parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO'.
2023-06-16 21:27:35.987 +03:00 [DBG] Compiling query expression: 
'DbSet<Reservation>()
    .Where(u => u.CustomerName.ToLower() == __ToLower_0)
    .FirstOrDefault()'
2023-06-16 21:27:36.186 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Reservation>(
    asyncEnumerable: new SingleQueryingEnumerable<Reservation>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Reservation.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Reservation.CreationDate (DateTime) Required, 1], [Property: Reservation.CustomerName (string) Required, 2], [Property: Reservation.Notes (string) Required, 3], [Property: Reservation.ReservationDate (DateTime) Required, 4], [Property: Reservation.ReservedBy (string) Required, 5], [Property: Reservation.Trip_Id (int) Required FK Index, 6] }
            SELECT TOP(1) r.Id, r.CreationDate, r.CustomerName, r.Notes, r.ReservationDate, r.ReservedBy, r.Trip_Id
            FROM Reservations AS r
            WHERE LOWER(r.CustomerName) == @__ToLower_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Reservation>, 
        Booking_ReservationAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-06-16 21:27:36.210 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 21:27:36.210 +03:00 [DBG] Creating DbConnection.
2023-06-16 21:27:36.211 +03:00 [DBG] Created DbConnection. (0ms).
2023-06-16 21:27:36.211 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-06-16 21:27:36.233 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (22ms).
2023-06-16 21:27:36.233 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:27:36.243 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:27:36.254 +03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
WHERE LOWER([r].[CustomerName]) = @__ToLower_0
2023-06-16 21:27:36.296 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
WHERE LOWER([r].[CustomerName]) = @__ToLower_0
2023-06-16 21:27:36.298 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:27:36.300 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 2ms reading results.
2023-06-16 21:27:36.300 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:27:36.301 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 21:27:36.361 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Id.Reservation'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 21:27:36.419 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 21:27:36.430 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-06-16 21:27:36.437 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-06-16 21:27:36.459 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-06-16 21:27:36.625 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:27:36.625 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:27:36.629 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 21:27:36.629 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-16 21:27:36.630 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-06-16 21:27:36.632 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Reservations] ([CreationDate], [CustomerName], [Notes], [ReservationDate], [ReservedBy], [Trip_Id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-06-16 21:27:36.653 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Reservations] ([CreationDate], [CustomerName], [Notes], [ReservationDate], [ReservedBy], [Trip_Id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-06-16 21:27:36.707 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:27:36.708 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 54ms reading results.
2023-06-16 21:27:36.710 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:27:36.710 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 21:27:36.747 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Booking_ReservationAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Reservations_Trips_Trip_Id". The conflict occurred in database "Booking_ReservAPI_DB", table "dbo.Trips", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:54324d05-5d11-4d51-beda-b07d3c106a34
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Reservations_Trips_Trip_Id". The conflict occurred in database "Booking_ReservAPI_DB", table "dbo.Trips", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:54324d05-5d11-4d51-beda-b07d3c106a34
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-06-16 21:27:37.317 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-06-16 21:27:37.317 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-06-16 21:27:37.317 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-06-16 21:27:37.317 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-06-16 21:27:37.317 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-06-16 21:27:37.317 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-16 21:27:37.317 +03:00 [INF] Executing ObjectResult, writing value of type 'Booking_ReservationAPI.Models.APIResponse'.
2023-06-16 21:27:37.323 +03:00 [INF] Executed action Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI) in 1966.9677ms
2023-06-16 21:27:37.323 +03:00 [INF] Executed endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)'
2023-06-16 21:27:37.323 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 21:27:37.323 +03:00 [DBG] Disposing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:27:37.324 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-06-16 21:27:37.324 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/ReservationAPI application/json-patch+json 188 - 200 4689 application/json;+charset=utf-8 1995.3839ms
2023-06-16 21:27:39.162 +03:00 [DBG] Connection id "0HMREISNSHA9F" received FIN.
2023-06-16 21:27:39.163 +03:00 [DBG] Connection id "0HMREISNSHA9F" is closed. The last processed stream ID was 1.
2023-06-16 21:27:39.163 +03:00 [DBG] Connection id "0HMREISNSHA9F" sending FIN because: "The client closed the connection."
2023-06-16 21:27:39.163 +03:00 [DBG] The connection queue processing loop for 0HMREISNSHA9F completed.
2023-06-16 21:27:39.163 +03:00 [DBG] Connection id "0HMREISNSHA9F" stopped.
2023-06-16 21:54:29.715 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-16 21:54:30.351 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 21:54:31.396 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 21:59:46.927 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-16 21:59:47.416 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 21:59:47.463 +03:00 [DBG] Creating DbConnection.
2023-06-16 21:59:47.756 +03:00 [DBG] Created DbConnection. (290ms).
2023-06-16 21:59:47.772 +03:00 [DBG] Migrating using database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:59:47.808 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:59:50.387 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:59:50.394 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-16 21:59:50.401 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (7ms).
2023-06-16 21:59:50.403 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (12ms).
2023-06-16 21:59:50.409 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-16 21:59:50.435 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-16 21:59:50.437 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:59:50.444 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (4ms).
2023-06-16 21:59:50.447 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-06-16 21:59:50.447 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-06-16 21:59:50.447 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-06-16 21:59:50.447 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:59:50.448 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:59:50.448 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-16 21:59:50.492 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-16 21:59:50.493 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:59:50.493 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 21:59:50.494 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:59:50.494 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:59:50.494 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-16 21:59:50.494 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-16 21:59:50.494 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-16 21:59:50.494 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-16 21:59:50.495 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-16 21:59:50.496 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:59:50.496 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 21:59:50.496 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-06-16 21:59:50.496 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-06-16 21:59:50.496 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-06-16 21:59:50.496 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:59:50.496 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:59:50.496 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-16 21:59:50.497 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-16 21:59:50.497 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:59:50.497 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 21:59:50.538 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 21:59:50.538 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-16 21:59:50.538 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-06-16 21:59:50.538 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:59:50.538 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:59:50.538 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-06-16 21:59:50.562 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-06-16 21:59:50.566 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:59:50.567 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 3ms reading results.
2023-06-16 21:59:50.568 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:59:50.568 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 21:59:50.584 +03:00 [INF] Applying migration '20230616185431_deleteforeignkey'.
2023-06-16 21:59:50.711 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:59:50.711 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:59:50.746 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-06-16 21:59:50.774 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-06-16 21:59:50.775 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-16 21:59:50.775 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-16 21:59:50.776 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-16 21:59:50.776 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230616185431_deleteforeignkey', N'7.0.7');
2023-06-16 21:59:50.787 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230616185431_deleteforeignkey', N'7.0.7');
2023-06-16 21:59:50.788 +03:00 [DBG] Committing transaction.
2023-06-16 21:59:50.792 +03:00 [DBG] Committed transaction.
2023-06-16 21:59:50.793 +03:00 [DBG] Disposing transaction.
2023-06-16 21:59:50.793 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:59:50.793 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 21:59:50.794 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 21:59:50.796 +03:00 [DBG] Disposing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 21:59:50.796 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-06-16 22:00:18.744 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-16 22:00:19.085 +03:00 [DBG] Hosting starting
2023-06-16 22:00:20.459 +03:00 [INF] Now listening on: https://localhost:7001
2023-06-16 22:00:20.460 +03:00 [INF] Now listening on: http://localhost:5030
2023-06-16 22:00:20.460 +03:00 [DBG] Loaded hosting startup assembly Booking_ReservationAPI
2023-06-16 22:00:20.460 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-16 22:00:20.460 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-16 22:00:20.461 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 22:00:20.462 +03:00 [INF] Hosting environment: Development
2023-06-16 22:00:20.462 +03:00 [INF] Content root path: C:\Users\Mira\source\TestApis\Booking\Booking_ReservationAPI
2023-06-16 22:00:20.462 +03:00 [DBG] Hosting started
2023-06-16 22:00:20.530 +03:00 [DBG] Connection id "0HMREJFN9PQ59" received FIN.
2023-06-16 22:00:20.535 +03:00 [DBG] Connection id "0HMREJFN9PQ59" accepted.
2023-06-16 22:00:20.536 +03:00 [DBG] Connection id "0HMREJFN9PQ59" started.
2023-06-16 22:00:20.614 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 22:00:23.257 +03:00 [DBG] Connection id "0HMREJFN9PQ59" stopped.
2023-06-16 22:00:23.262 +03:00 [DBG] Connection id "0HMREJFN9PQ59" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 22:00:25.425 +03:00 [DBG] Connection id "0HMREJFN9PQ5A" accepted.
2023-06-16 22:00:25.426 +03:00 [DBG] Connection id "0HMREJFN9PQ5A" started.
2023-06-16 22:00:26.787 +03:00 [DBG] Connection 0HMREJFN9PQ5A established using the following protocol: "Tls12"
2023-06-16 22:00:28.284 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2023-06-16 22:00:28.357 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-16 22:00:28.936 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-06-16 22:00:28.936 +03:00 [DBG] Request did not match any endpoints
2023-06-16 22:00:29.746 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-06-16 22:00:30.864 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2023-06-16 22:00:30.878 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12014 application/javascript;+charset=utf-8 11.1726ms
2023-06-16 22:00:30.899 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-06-16 22:00:30.900 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 2619.2075ms
2023-06-16 22:00:31.034 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2023-06-16 22:00:31.101 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 66.8832ms
2023-06-16 22:00:31.976 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-06-16 22:00:31.977 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-06-16 22:00:31.977 +03:00 [DBG] Request did not match any endpoints
2023-06-16 22:00:32.684 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 708.0591ms
2023-06-16 22:00:37.449 +03:00 [DBG] Connection id "0HMREJFN9PQ5A" received FIN.
2023-06-16 22:00:37.457 +03:00 [DBG] The connection queue processing loop for 0HMREJFN9PQ5A completed.
2023-06-16 22:00:37.468 +03:00 [DBG] Connection id "0HMREJFN9PQ5A" is closed. The last processed stream ID was 7.
2023-06-16 22:00:37.468 +03:00 [DBG] Connection id "0HMREJFN9PQ5A" sending FIN because: "The client closed the connection."
2023-06-16 22:00:37.473 +03:00 [DBG] Connection id "0HMREJFN9PQ5A" stopped.
2023-06-16 22:03:02.471 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-16 22:03:02.572 +03:00 [DBG] Hosting starting
2023-06-16 22:03:02.676 +03:00 [INF] Now listening on: https://localhost:7001
2023-06-16 22:03:02.676 +03:00 [INF] Now listening on: http://localhost:5030
2023-06-16 22:03:02.676 +03:00 [DBG] Loaded hosting startup assembly Booking_ReservationAPI
2023-06-16 22:03:02.676 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-16 22:03:02.676 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-16 22:03:02.677 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 22:03:02.677 +03:00 [INF] Hosting environment: Development
2023-06-16 22:03:02.677 +03:00 [INF] Content root path: C:\Users\Mira\source\TestApis\Booking\Booking_ReservationAPI
2023-06-16 22:03:02.677 +03:00 [DBG] Hosting started
2023-06-16 22:03:02.828 +03:00 [DBG] Connection id "0HMREJH7LIISS" received FIN.
2023-06-16 22:03:02.834 +03:00 [DBG] Connection id "0HMREJH7LIISS" accepted.
2023-06-16 22:03:02.836 +03:00 [DBG] Connection id "0HMREJH7LIISS" started.
2023-06-16 22:03:02.859 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 22:03:03.009 +03:00 [DBG] Connection id "0HMREJH7LIISS" stopped.
2023-06-16 22:03:03.014 +03:00 [DBG] Connection id "0HMREJH7LIISS" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 22:03:03.713 +03:00 [DBG] Connection id "0HMREJH7LIIST" accepted.
2023-06-16 22:03:03.713 +03:00 [DBG] Connection id "0HMREJH7LIIST" started.
2023-06-16 22:03:03.986 +03:00 [DBG] Connection 0HMREJH7LIIST established using the following protocol: "Tls12"
2023-06-16 22:03:04.118 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2023-06-16 22:03:04.134 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-16 22:03:04.169 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-06-16 22:03:04.170 +03:00 [DBG] Request did not match any endpoints
2023-06-16 22:03:04.319 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-06-16 22:03:04.462 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-06-16 22:03:04.464 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 348.1983ms
2023-06-16 22:03:04.872 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2023-06-16 22:03:04.889 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2023-06-16 22:03:04.903 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12014 application/javascript;+charset=utf-8 30.1509ms
2023-06-16 22:03:04.958 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 68.4699ms
2023-06-16 22:03:05.120 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-06-16 22:03:05.120 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-06-16 22:03:05.121 +03:00 [DBG] Request did not match any endpoints
2023-06-16 22:03:05.437 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 316.6477ms
2023-06-16 22:03:06.257 +03:00 [DBG] Connection id "0HMREJH7LIIST" received FIN.
2023-06-16 22:03:06.264 +03:00 [DBG] The connection queue processing loop for 0HMREJH7LIIST completed.
2023-06-16 22:03:06.265 +03:00 [DBG] Connection id "0HMREJH7LIIST" is closed. The last processed stream ID was 7.
2023-06-16 22:03:06.266 +03:00 [DBG] Connection id "0HMREJH7LIIST" sending FIN because: "The client closed the connection."
2023-06-16 22:03:06.278 +03:00 [DBG] Connection id "0HMREJH7LIIST" stopped.
2023-06-16 22:03:27.541 +03:00 [DBG] Connection id "0HMREJH7LIISU" accepted.
2023-06-16 22:03:27.541 +03:00 [DBG] Connection id "0HMREJH7LIISU" started.
2023-06-16 22:03:27.543 +03:00 [DBG] Connection 0HMREJH7LIISU established using the following protocol: "Tls12"
2023-06-16 22:03:27.544 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/ReservationAPI application/json-patch+json 186
2023-06-16 22:03:27.549 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ReservationAPI'
2023-06-16 22:03:27.552 +03:00 [DBG] Endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)' with route pattern 'api/ReservationAPI' is valid for the request path '/api/ReservationAPI'
2023-06-16 22:03:27.553 +03:00 [DBG] Request matched endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)'
2023-06-16 22:03:27.653 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-06-16 22:03:27.658 +03:00 [INF] Executing endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)'
2023-06-16 22:03:27.965 +03:00 [INF] Route matched with {action = "CreateReservation", controller = "ReservationAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Booking_ReservationAPI.Models.APIResponse]] CreateReservation(Booking_ReservationAPI.Models.Dto.ReservationCreateDTO) on controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI).
2023-06-16 22:03:27.967 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-16 22:03:27.968 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-16 22:03:27.968 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-16 22:03:27.968 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-16 22:03:27.968 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-16 22:03:27.970 +03:00 [DBG] Executing controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 22:03:28.092 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-16 22:03:28.584 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 22:03:28.886 +03:00 [DBG] Executed controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 22:03:28.948 +03:00 [DBG] Attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO' ...
2023-06-16 22:03:28.950 +03:00 [DBG] Attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO' using the name '' in request data ...
2023-06-16 22:03:28.951 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-06-16 22:03:28.951 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-06-16 22:03:28.987 +03:00 [DBG] Connection id "0HMREJH7LIISU", Request id "0HMREJH7LIISU:00000001": started reading request body.
2023-06-16 22:03:28.988 +03:00 [DBG] Connection id "0HMREJH7LIISU", Request id "0HMREJH7LIISU:00000001": done reading request body.
2023-06-16 22:03:29.193 +03:00 [DBG] Done attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO'.
2023-06-16 22:03:29.193 +03:00 [DBG] Done attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO'.
2023-06-16 22:03:29.193 +03:00 [DBG] Attempting to validate the bound parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO' ...
2023-06-16 22:03:29.213 +03:00 [DBG] Done attempting to validate the bound parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO'.
2023-06-16 22:03:29.412 +03:00 [DBG] Compiling query expression: 
'DbSet<Reservation>()
    .Where(u => u.CustomerName.ToLower() == __ToLower_0)
    .FirstOrDefault()'
2023-06-16 22:03:29.715 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Reservation>(
    asyncEnumerable: new SingleQueryingEnumerable<Reservation>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Reservation.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Reservation.CreationDate (DateTime) Required, 1], [Property: Reservation.CustomerName (string) Required, 2], [Property: Reservation.Notes (string) Required, 3], [Property: Reservation.ReservationDate (DateTime) Required, 4], [Property: Reservation.ReservedBy (string) Required, 5], [Property: Reservation.Trip_Id (int) Required, 6] }
            SELECT TOP(1) r.Id, r.CreationDate, r.CustomerName, r.Notes, r.ReservationDate, r.ReservedBy, r.Trip_Id
            FROM Reservations AS r
            WHERE LOWER(r.CustomerName) == @__ToLower_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Reservation>, 
        Booking_ReservationAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-06-16 22:03:29.781 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 22:03:29.783 +03:00 [DBG] Creating DbConnection.
2023-06-16 22:03:29.802 +03:00 [DBG] Created DbConnection. (17ms).
2023-06-16 22:03:29.809 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (28ms).
2023-06-16 22:03:29.828 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (48ms).
2023-06-16 22:03:29.832 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:03:30.015 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:03:30.032 +03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
WHERE LOWER([r].[CustomerName]) = @__ToLower_0
2023-06-16 22:03:30.248 +03:00 [INF] Executed DbCommand (220ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
WHERE LOWER([r].[CustomerName]) = @__ToLower_0
2023-06-16 22:03:30.273 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:03:30.283 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 27ms reading results.
2023-06-16 22:03:30.286 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:03:30.292 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (6ms).
2023-06-16 22:03:30.347 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Id.Reservation'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:03:30.407 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:03:30.411 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-06-16 22:03:30.413 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-06-16 22:03:30.424 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-06-16 22:03:30.490 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:03:30.491 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:03:30.493 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 22:03:30.493 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-16 22:03:30.494 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-06-16 22:03:30.494 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Reservations] ([CreationDate], [CustomerName], [Notes], [ReservationDate], [ReservedBy], [Trip_Id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-06-16 22:03:30.551 +03:00 [INF] Executed DbCommand (57ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Reservations] ([CreationDate], [CustomerName], [Notes], [ReservationDate], [ReservedBy], [Trip_Id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-06-16 22:03:30.573 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:03:30.574 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 22ms reading results.
2023-06-16 22:03:30.578 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:03:30.578 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 22:03:30.626 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Booking_ReservationAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Reservations_Trips_Trip_Id". The conflict occurred in database "Booking_ReservAPI_DB", table "dbo.Trips", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:b5d58120-7ec4-4dec-8686-b634cb178441
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Reservations_Trips_Trip_Id". The conflict occurred in database "Booking_ReservAPI_DB", table "dbo.Trips", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:b5d58120-7ec4-4dec-8686-b634cb178441
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-06-16 22:03:30.710 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-06-16 22:03:30.713 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-06-16 22:03:30.714 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-06-16 22:03:30.715 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-06-16 22:03:30.715 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-06-16 22:03:30.716 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-16 22:03:30.716 +03:00 [INF] Executing ObjectResult, writing value of type 'Booking_ReservationAPI.Models.APIResponse'.
2023-06-16 22:03:30.777 +03:00 [INF] Executed action Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI) in 2805.8357ms
2023-06-16 22:03:30.778 +03:00 [INF] Executed endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)'
2023-06-16 22:03:30.781 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 22:03:30.788 +03:00 [DBG] Disposing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:03:30.790 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2023-06-16 22:03:30.791 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/ReservationAPI application/json-patch+json 186 - 200 4689 application/json;+charset=utf-8 3246.8209ms
2023-06-16 22:03:36.300 +03:00 [DBG] Connection id "0HMREJH7LIISU" received FIN.
2023-06-16 22:03:36.301 +03:00 [DBG] Connection id "0HMREJH7LIISU" is closed. The last processed stream ID was 1.
2023-06-16 22:03:36.301 +03:00 [DBG] Connection id "0HMREJH7LIISU" sending FIN because: "The client closed the connection."
2023-06-16 22:03:36.301 +03:00 [DBG] The connection queue processing loop for 0HMREJH7LIISU completed.
2023-06-16 22:03:36.301 +03:00 [DBG] Connection id "0HMREJH7LIISU" stopped.
2023-06-16 22:05:04.691 +03:00 [DBG] Connection id "0HMREJH7LIISV" received FIN.
2023-06-16 22:05:04.691 +03:00 [DBG] Connection id "0HMREJH7LIISV" accepted.
2023-06-16 22:05:04.691 +03:00 [DBG] Connection id "0HMREJH7LIISV" started.
2023-06-16 22:05:04.692 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 22:05:04.692 +03:00 [DBG] Connection id "0HMREJH7LIISV" stopped.
2023-06-16 22:05:04.692 +03:00 [DBG] Connection id "0HMREJH7LIISV" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 22:05:04.793 +03:00 [DBG] Connection id "0HMREJH7LIIT0" accepted.
2023-06-16 22:05:04.794 +03:00 [DBG] Connection id "0HMREJH7LIIT0" started.
2023-06-16 22:05:04.948 +03:00 [DBG] Connection 0HMREJH7LIIT0 established using the following protocol: "Tls12"
2023-06-16 22:05:04.949 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2023-06-16 22:05:04.950 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-06-16 22:05:04.950 +03:00 [DBG] Request did not match any endpoints
2023-06-16 22:05:04.952 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-06-16 22:05:05.046 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-06-16 22:05:05.046 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 97.0768ms
2023-06-16 22:05:05.445 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2023-06-16 22:05:05.447 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12014 application/javascript;+charset=utf-8 1.7920ms
2023-06-16 22:05:05.462 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2023-06-16 22:05:05.498 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 36.3817ms
2023-06-16 22:05:05.628 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-06-16 22:05:05.628 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-06-16 22:05:05.628 +03:00 [DBG] Request did not match any endpoints
2023-06-16 22:05:05.639 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 11.0685ms
2023-06-16 22:05:07.549 +03:00 [DBG] Connection id "0HMREJH7LIIT0" received FIN.
2023-06-16 22:05:07.550 +03:00 [DBG] Connection id "0HMREJH7LIIT0" is closed. The last processed stream ID was 7.
2023-06-16 22:05:07.550 +03:00 [DBG] The connection queue processing loop for 0HMREJH7LIIT0 completed.
2023-06-16 22:05:07.550 +03:00 [DBG] Connection id "0HMREJH7LIIT0" sending FIN because: "The client closed the connection."
2023-06-16 22:05:07.550 +03:00 [DBG] Connection id "0HMREJH7LIIT0" stopped.
2023-06-16 22:05:13.416 +03:00 [DBG] Connection id "0HMREJH7LIIT1" accepted.
2023-06-16 22:05:13.416 +03:00 [DBG] Connection id "0HMREJH7LIIT1" started.
2023-06-16 22:05:13.417 +03:00 [DBG] Connection 0HMREJH7LIIT1 established using the following protocol: "Tls12"
2023-06-16 22:05:13.420 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/ReservationAPI application/json-patch+json 188
2023-06-16 22:05:13.420 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ReservationAPI'
2023-06-16 22:05:13.420 +03:00 [DBG] Endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)' with route pattern 'api/ReservationAPI' is valid for the request path '/api/ReservationAPI'
2023-06-16 22:05:13.421 +03:00 [DBG] Request matched endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)'
2023-06-16 22:05:13.421 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-06-16 22:05:13.421 +03:00 [INF] Executing endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)'
2023-06-16 22:05:13.422 +03:00 [INF] Route matched with {action = "CreateReservation", controller = "ReservationAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Booking_ReservationAPI.Models.APIResponse]] CreateReservation(Booking_ReservationAPI.Models.Dto.ReservationCreateDTO) on controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI).
2023-06-16 22:05:13.422 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-16 22:05:13.422 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-16 22:05:13.422 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-16 22:05:13.423 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-16 22:05:13.423 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-16 22:05:13.423 +03:00 [DBG] Executing controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 22:05:13.497 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 22:05:13.497 +03:00 [DBG] Executed controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 22:05:13.498 +03:00 [DBG] Attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO' ...
2023-06-16 22:05:13.499 +03:00 [DBG] Attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO' using the name '' in request data ...
2023-06-16 22:05:13.499 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-06-16 22:05:13.499 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-06-16 22:05:13.499 +03:00 [DBG] Connection id "0HMREJH7LIIT1", Request id "0HMREJH7LIIT1:00000001": started reading request body.
2023-06-16 22:05:13.500 +03:00 [DBG] Connection id "0HMREJH7LIIT1", Request id "0HMREJH7LIIT1:00000001": done reading request body.
2023-06-16 22:05:13.500 +03:00 [DBG] Done attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO'.
2023-06-16 22:05:13.501 +03:00 [DBG] Done attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO'.
2023-06-16 22:05:13.501 +03:00 [DBG] Attempting to validate the bound parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO' ...
2023-06-16 22:05:13.502 +03:00 [DBG] Done attempting to validate the bound parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO'.
2023-06-16 22:05:13.509 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 22:05:13.509 +03:00 [DBG] Creating DbConnection.
2023-06-16 22:05:13.509 +03:00 [DBG] Created DbConnection. (0ms).
2023-06-16 22:05:13.509 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-16 22:05:13.510 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-06-16 22:05:13.510 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:05:13.510 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:05:13.510 +03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
WHERE LOWER([r].[CustomerName]) = @__ToLower_0
2023-06-16 22:05:13.512 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
WHERE LOWER([r].[CustomerName]) = @__ToLower_0
2023-06-16 22:05:13.512 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:05:13.512 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 0ms reading results.
2023-06-16 22:05:13.512 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:05:13.512 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 22:05:13.514 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Id.Reservation'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:05:13.517 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:05:13.518 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-06-16 22:05:13.518 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-06-16 22:05:13.518 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-06-16 22:05:13.521 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:05:13.521 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:05:13.521 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 22:05:13.521 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-16 22:05:13.521 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-06-16 22:05:13.521 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Reservations] ([CreationDate], [CustomerName], [Notes], [ReservationDate], [ReservedBy], [Trip_Id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-06-16 22:05:13.570 +03:00 [INF] Executed DbCommand (48ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Reservations] ([CreationDate], [CustomerName], [Notes], [ReservationDate], [ReservedBy], [Trip_Id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-06-16 22:05:13.570 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:05:13.571 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 0ms reading results.
2023-06-16 22:05:13.571 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:05:13.571 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 22:05:13.573 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Booking_ReservationAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Reservations_Trips_Trip_Id". The conflict occurred in database "Booking_ReservAPI_DB", table "dbo.Trips", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:b5d58120-7ec4-4dec-8686-b634cb178441
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Reservations_Trips_Trip_Id". The conflict occurred in database "Booking_ReservAPI_DB", table "dbo.Trips", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:b5d58120-7ec4-4dec-8686-b634cb178441
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-06-16 22:05:13.576 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-06-16 22:05:13.576 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-06-16 22:05:13.576 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-06-16 22:05:13.576 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-06-16 22:05:13.576 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-06-16 22:05:13.576 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-16 22:05:13.576 +03:00 [INF] Executing ObjectResult, writing value of type 'Booking_ReservationAPI.Models.APIResponse'.
2023-06-16 22:05:13.578 +03:00 [INF] Executed action Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI) in 154.9352ms
2023-06-16 22:05:13.578 +03:00 [INF] Executed endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)'
2023-06-16 22:05:13.578 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 22:05:13.578 +03:00 [DBG] Disposing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:05:13.578 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-06-16 22:05:13.579 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/ReservationAPI application/json-patch+json 188 - 200 4689 application/json;+charset=utf-8 158.9234ms
2023-06-16 22:05:17.555 +03:00 [DBG] Connection id "0HMREJH7LIIT1" received FIN.
2023-06-16 22:05:17.556 +03:00 [DBG] Connection id "0HMREJH7LIIT1" is closed. The last processed stream ID was 1.
2023-06-16 22:05:17.556 +03:00 [DBG] Connection id "0HMREJH7LIIT1" sending FIN because: "The client closed the connection."
2023-06-16 22:05:17.556 +03:00 [DBG] The connection queue processing loop for 0HMREJH7LIIT1 completed.
2023-06-16 22:05:17.557 +03:00 [DBG] Connection id "0HMREJH7LIIT1" stopped.
2023-06-16 22:05:50.132 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-16 22:05:50.199 +03:00 [DBG] Hosting starting
2023-06-16 22:05:50.309 +03:00 [INF] Now listening on: https://localhost:7001
2023-06-16 22:05:50.309 +03:00 [INF] Now listening on: http://localhost:5030
2023-06-16 22:05:50.310 +03:00 [DBG] Loaded hosting startup assembly Booking_ReservationAPI
2023-06-16 22:05:50.310 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-16 22:05:50.310 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-16 22:05:50.310 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 22:05:50.310 +03:00 [INF] Hosting environment: Development
2023-06-16 22:05:50.310 +03:00 [INF] Content root path: C:\Users\Mira\source\TestApis\Booking\Booking_ReservationAPI
2023-06-16 22:05:50.310 +03:00 [DBG] Hosting started
2023-06-16 22:05:50.811 +03:00 [DBG] Connection id "0HMREJIPNJC3Q" accepted.
2023-06-16 22:05:50.811 +03:00 [DBG] Connection id "0HMREJIPNJC3R" accepted.
2023-06-16 22:05:50.812 +03:00 [DBG] Connection id "0HMREJIPNJC3R" started.
2023-06-16 22:05:50.812 +03:00 [DBG] Connection id "0HMREJIPNJC3Q" started.
2023-06-16 22:05:50.834 +03:00 [DBG] Connection id "0HMREJIPNJC3Q" received FIN.
2023-06-16 22:05:50.834 +03:00 [DBG] Connection id "0HMREJIPNJC3R" received FIN.
2023-06-16 22:05:50.841 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 22:05:50.841 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 22:05:50.862 +03:00 [DBG] Connection id "0HMREJIPNJC3R" stopped.
2023-06-16 22:05:50.862 +03:00 [DBG] Connection id "0HMREJIPNJC3Q" stopped.
2023-06-16 22:05:50.866 +03:00 [DBG] Connection id "0HMREJIPNJC3R" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 22:05:50.866 +03:00 [DBG] Connection id "0HMREJIPNJC3Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 22:05:51.200 +03:00 [DBG] Connection id "0HMREJIPNJC3S" accepted.
2023-06-16 22:05:51.200 +03:00 [DBG] Connection id "0HMREJIPNJC3S" started.
2023-06-16 22:05:51.234 +03:00 [DBG] Connection 0HMREJIPNJC3S established using the following protocol: "Tls12"
2023-06-16 22:05:51.274 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2023-06-16 22:05:51.290 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-16 22:05:51.312 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-06-16 22:05:51.312 +03:00 [DBG] Request did not match any endpoints
2023-06-16 22:05:51.407 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-06-16 22:05:51.486 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-06-16 22:05:51.487 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2023-06-16 22:05:51.487 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2023-06-16 22:05:51.489 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 216.5871ms
2023-06-16 22:05:51.499 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12014 application/javascript;+charset=utf-8 11.1978ms
2023-06-16 22:05:51.516 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.7970ms
2023-06-16 22:05:51.663 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-06-16 22:05:51.663 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-06-16 22:05:51.663 +03:00 [DBG] Request did not match any endpoints
2023-06-16 22:05:51.866 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 203.1801ms
2023-06-16 22:05:57.652 +03:00 [DBG] Connection id "0HMREJIPNJC3S" received FIN.
2023-06-16 22:05:57.659 +03:00 [DBG] The connection queue processing loop for 0HMREJIPNJC3S completed.
2023-06-16 22:05:57.672 +03:00 [DBG] Connection id "0HMREJIPNJC3S" is closed. The last processed stream ID was 7.
2023-06-16 22:05:57.673 +03:00 [DBG] Connection id "0HMREJIPNJC3S" sending FIN because: "The client closed the connection."
2023-06-16 22:05:57.681 +03:00 [DBG] Connection id "0HMREJIPNJC3S" stopped.
2023-06-16 22:06:11.165 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-16 22:06:11.375 +03:00 [DBG] Hosting starting
2023-06-16 22:06:11.776 +03:00 [INF] Now listening on: https://localhost:7001
2023-06-16 22:06:11.777 +03:00 [INF] Now listening on: http://localhost:5030
2023-06-16 22:06:11.777 +03:00 [DBG] Loaded hosting startup assembly Booking_ReservationAPI
2023-06-16 22:06:11.777 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-16 22:06:11.777 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-16 22:06:11.778 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 22:06:11.778 +03:00 [INF] Hosting environment: Development
2023-06-16 22:06:11.779 +03:00 [INF] Content root path: C:\Users\Mira\source\TestApis\Booking\Booking_ReservationAPI
2023-06-16 22:06:11.779 +03:00 [DBG] Hosting started
2023-06-16 22:06:12.214 +03:00 [DBG] Connection id "0HMREJJ03MTFV" accepted.
2023-06-16 22:06:12.216 +03:00 [DBG] Connection id "0HMREJJ03MTFV" started.
2023-06-16 22:06:12.217 +03:00 [DBG] Connection id "0HMREJJ03MTFV" received FIN.
2023-06-16 22:06:12.257 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 22:06:12.959 +03:00 [DBG] Connection id "0HMREJJ03MTFV" stopped.
2023-06-16 22:06:12.981 +03:00 [DBG] Connection id "0HMREJJ03MTFV" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 22:06:13.096 +03:00 [DBG] Connection id "0HMREJJ03MTG0" accepted.
2023-06-16 22:06:13.096 +03:00 [DBG] Connection id "0HMREJJ03MTG0" started.
2023-06-16 22:06:13.326 +03:00 [DBG] Connection 0HMREJJ03MTG0 established using the following protocol: "Tls12"
2023-06-16 22:06:14.686 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2023-06-16 22:06:14.776 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-16 22:06:14.803 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-06-16 22:06:14.804 +03:00 [DBG] Request did not match any endpoints
2023-06-16 22:06:14.953 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-06-16 22:06:15.697 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2023-06-16 22:06:15.697 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2023-06-16 22:06:15.719 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12014 application/javascript;+charset=utf-8 20.1298ms
2023-06-16 22:06:15.765 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-06-16 22:06:15.767 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 1087.4227ms
2023-06-16 22:06:15.843 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 146.1115ms
2023-06-16 22:06:15.980 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-06-16 22:06:15.980 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-06-16 22:06:15.980 +03:00 [DBG] Request did not match any endpoints
2023-06-16 22:06:16.226 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 245.8591ms
2023-06-16 22:06:17.701 +03:00 [DBG] Connection id "0HMREJJ03MTG0" received FIN.
2023-06-16 22:06:17.706 +03:00 [DBG] The connection queue processing loop for 0HMREJJ03MTG0 completed.
2023-06-16 22:06:17.709 +03:00 [DBG] Connection id "0HMREJJ03MTG0" is closed. The last processed stream ID was 7.
2023-06-16 22:06:17.710 +03:00 [DBG] Connection id "0HMREJJ03MTG0" sending FIN because: "The client closed the connection."
2023-06-16 22:06:17.712 +03:00 [DBG] Connection id "0HMREJJ03MTG0" stopped.
2023-06-16 22:06:22.794 +03:00 [DBG] Connection id "0HMREJJ03MTG1" accepted.
2023-06-16 22:06:22.794 +03:00 [DBG] Connection id "0HMREJJ03MTG1" started.
2023-06-16 22:06:22.801 +03:00 [DBG] Connection 0HMREJJ03MTG1 established using the following protocol: "Tls12"
2023-06-16 22:06:22.805 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/ReservationAPI application/json-patch+json 188
2023-06-16 22:06:22.808 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ReservationAPI'
2023-06-16 22:06:22.810 +03:00 [DBG] Endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)' with route pattern 'api/ReservationAPI' is valid for the request path '/api/ReservationAPI'
2023-06-16 22:06:22.811 +03:00 [DBG] Request matched endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)'
2023-06-16 22:06:22.813 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-06-16 22:06:22.815 +03:00 [INF] Executing endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)'
2023-06-16 22:06:22.914 +03:00 [INF] Route matched with {action = "CreateReservation", controller = "ReservationAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Booking_ReservationAPI.Models.APIResponse]] CreateReservation(Booking_ReservationAPI.Models.Dto.ReservationCreateDTO) on controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI).
2023-06-16 22:06:22.916 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-16 22:06:22.916 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-16 22:06:22.916 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-16 22:06:22.916 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-16 22:06:22.916 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-16 22:06:22.918 +03:00 [DBG] Executing controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 22:06:25.599 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-16 22:06:26.749 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 22:06:26.892 +03:00 [DBG] Executed controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 22:06:27.119 +03:00 [DBG] Attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO' ...
2023-06-16 22:06:27.126 +03:00 [DBG] Attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO' using the name '' in request data ...
2023-06-16 22:06:27.127 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-06-16 22:06:27.128 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-06-16 22:06:27.183 +03:00 [DBG] Connection id "0HMREJJ03MTG1", Request id "0HMREJJ03MTG1:00000001": started reading request body.
2023-06-16 22:06:27.183 +03:00 [DBG] Connection id "0HMREJJ03MTG1", Request id "0HMREJJ03MTG1:00000001": done reading request body.
2023-06-16 22:06:28.055 +03:00 [DBG] Done attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO'.
2023-06-16 22:06:28.055 +03:00 [DBG] Done attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO'.
2023-06-16 22:06:28.055 +03:00 [DBG] Attempting to validate the bound parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO' ...
2023-06-16 22:06:28.065 +03:00 [DBG] Done attempting to validate the bound parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO'.
2023-06-16 22:06:28.450 +03:00 [DBG] Compiling query expression: 
'DbSet<Reservation>()
    .Where(u => u.CustomerName.ToLower() == __ToLower_0)
    .FirstOrDefault()'
2023-06-16 22:06:28.740 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Reservation>(
    asyncEnumerable: new SingleQueryingEnumerable<Reservation>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Reservation.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Reservation.CreationDate (DateTime) Required, 1], [Property: Reservation.CustomerName (string) Required, 2], [Property: Reservation.Notes (string) Required, 3], [Property: Reservation.ReservationDate (DateTime) Required, 4], [Property: Reservation.ReservedBy (string) Required, 5], [Property: Reservation.Trip_Id (int) Required, 6] }
            SELECT TOP(1) r.Id, r.CreationDate, r.CustomerName, r.Notes, r.ReservationDate, r.ReservedBy, r.Trip_Id
            FROM Reservations AS r
            WHERE LOWER(r.CustomerName) == @__ToLower_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Reservation>, 
        Booking_ReservationAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-06-16 22:06:28.817 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 22:06:28.820 +03:00 [DBG] Creating DbConnection.
2023-06-16 22:06:28.899 +03:00 [DBG] Created DbConnection. (73ms).
2023-06-16 22:06:28.912 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (111ms).
2023-06-16 22:06:28.932 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (132ms).
2023-06-16 22:06:28.939 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:06:31.068 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:06:31.083 +03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
WHERE LOWER([r].[CustomerName]) = @__ToLower_0
2023-06-16 22:06:31.331 +03:00 [INF] Executed DbCommand (252ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
WHERE LOWER([r].[CustomerName]) = @__ToLower_0
2023-06-16 22:06:31.359 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:06:31.371 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 31ms reading results.
2023-06-16 22:06:31.376 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:06:31.388 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (10ms).
2023-06-16 22:06:31.469 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Id.Reservation'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:06:31.565 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:06:31.575 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-06-16 22:06:31.580 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-06-16 22:06:31.600 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-06-16 22:06:31.709 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:06:31.710 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:06:31.714 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 22:06:31.714 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-16 22:06:31.715 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-06-16 22:06:31.715 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Reservations] ([CreationDate], [CustomerName], [Notes], [ReservationDate], [ReservedBy], [Trip_Id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-06-16 22:06:31.748 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Reservations] ([CreationDate], [CustomerName], [Notes], [ReservationDate], [ReservedBy], [Trip_Id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-06-16 22:06:31.777 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:06:31.778 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 30ms reading results.
2023-06-16 22:06:31.782 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:06:31.782 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 22:06:31.809 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Booking_ReservationAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Reservations_Trips_Trip_Id". The conflict occurred in database "Booking_ReservAPI_DB", table "dbo.Trips", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:24883e99-8e08-4d58-9890-f44ccc881008
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Reservations_Trips_Trip_Id". The conflict occurred in database "Booking_ReservAPI_DB", table "dbo.Trips", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:24883e99-8e08-4d58-9890-f44ccc881008
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-06-16 22:06:32.241 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-06-16 22:06:32.245 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-06-16 22:06:32.246 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-06-16 22:06:32.247 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-06-16 22:06:32.247 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-06-16 22:06:32.248 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-16 22:06:32.248 +03:00 [INF] Executing ObjectResult, writing value of type 'Booking_ReservationAPI.Models.APIResponse'.
2023-06-16 22:06:32.342 +03:00 [INF] Executed action Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI) in 9420.8261ms
2023-06-16 22:06:32.343 +03:00 [INF] Executed endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)'
2023-06-16 22:06:32.347 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 22:06:32.353 +03:00 [DBG] Disposing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:06:32.354 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-06-16 22:06:32.355 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/ReservationAPI application/json-patch+json 188 - 200 4689 application/json;+charset=utf-8 9550.4658ms
2023-06-16 22:06:32.733 +03:00 [DBG] Connection id "0HMREJJ03MTG1" received FIN.
2023-06-16 22:06:32.733 +03:00 [DBG] Connection id "0HMREJJ03MTG1" is closed. The last processed stream ID was 1.
2023-06-16 22:06:32.733 +03:00 [DBG] Connection id "0HMREJJ03MTG1" sending FIN because: "The client closed the connection."
2023-06-16 22:06:32.734 +03:00 [DBG] The connection queue processing loop for 0HMREJJ03MTG1 completed.
2023-06-16 22:06:32.734 +03:00 [DBG] Connection id "0HMREJJ03MTG1" stopped.
2023-06-16 22:07:28.947 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-16 22:07:29.394 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 22:07:29.813 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 22:07:42.396 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-16 22:07:42.849 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 22:07:42.982 +03:00 [DBG] Creating DbConnection.
2023-06-16 22:07:43.037 +03:00 [DBG] Created DbConnection. (54ms).
2023-06-16 22:07:43.039 +03:00 [DBG] Migrating using database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:07:43.455 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:07:44.168 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:07:44.175 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-16 22:07:44.184 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2023-06-16 22:07:44.186 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (13ms).
2023-06-16 22:07:44.194 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-16 22:07:44.214 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-16 22:07:44.216 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:07:44.223 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (4ms).
2023-06-16 22:07:44.226 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-06-16 22:07:44.226 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-06-16 22:07:44.226 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-06-16 22:07:44.226 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:07:44.227 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:07:44.228 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-16 22:07:44.256 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-16 22:07:44.256 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:07:44.257 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 22:07:44.257 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:07:44.258 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:07:44.258 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-16 22:07:44.258 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-16 22:07:44.258 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-16 22:07:44.258 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-16 22:07:44.259 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-16 22:07:44.259 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:07:44.259 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 22:07:44.260 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-06-16 22:07:44.260 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-06-16 22:07:44.260 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-06-16 22:07:44.260 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:07:44.260 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:07:44.260 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-16 22:07:44.261 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-16 22:07:44.261 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:07:44.261 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 22:07:44.284 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 22:07:44.284 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-16 22:07:44.284 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-06-16 22:07:44.284 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:07:44.284 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:07:44.285 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-06-16 22:07:44.318 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-06-16 22:07:44.321 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:07:44.322 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 3ms reading results.
2023-06-16 22:07:44.323 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:07:44.323 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 22:07:44.337 +03:00 [INF] Applying migration '20230616190729_deleteforeignkeymm'.
2023-06-16 22:07:44.385 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:07:44.385 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:07:44.389 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-06-16 22:07:44.396 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-06-16 22:07:44.398 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-16 22:07:44.398 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-16 22:07:44.399 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-06-16 22:07:44.399 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Reservations] DROP CONSTRAINT [FK_Reservations_Trips_Trip_Id];
2023-06-16 22:07:44.739 +03:00 [INF] Executed DbCommand (340ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Reservations] DROP CONSTRAINT [FK_Reservations_Trips_Trip_Id];
2023-06-16 22:07:44.740 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-16 22:07:44.740 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-16 22:07:44.740 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-16 22:07:44.740 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Reservations_Trip_Id] ON [Reservations];
2023-06-16 22:07:44.869 +03:00 [INF] Executed DbCommand (129ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Reservations_Trip_Id] ON [Reservations];
2023-06-16 22:07:44.869 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-16 22:07:44.869 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-16 22:07:44.869 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-16 22:07:44.869 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230616190729_deleteforeignkeymm', N'7.0.7');
2023-06-16 22:07:44.897 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230616190729_deleteforeignkeymm', N'7.0.7');
2023-06-16 22:07:44.899 +03:00 [DBG] Committing transaction.
2023-06-16 22:07:44.902 +03:00 [DBG] Committed transaction.
2023-06-16 22:07:44.903 +03:00 [DBG] Disposing transaction.
2023-06-16 22:07:44.904 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:07:44.904 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 22:07:44.905 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 22:07:44.907 +03:00 [DBG] Disposing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:07:44.908 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-06-16 22:07:53.794 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-16 22:07:53.921 +03:00 [DBG] Hosting starting
2023-06-16 22:07:54.058 +03:00 [INF] Now listening on: https://localhost:7001
2023-06-16 22:07:54.058 +03:00 [INF] Now listening on: http://localhost:5030
2023-06-16 22:07:54.059 +03:00 [DBG] Loaded hosting startup assembly Booking_ReservationAPI
2023-06-16 22:07:54.059 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-16 22:07:54.059 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-16 22:07:54.059 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 22:07:54.059 +03:00 [INF] Hosting environment: Development
2023-06-16 22:07:54.059 +03:00 [INF] Content root path: C:\Users\Mira\source\TestApis\Booking\Booking_ReservationAPI
2023-06-16 22:07:54.060 +03:00 [DBG] Hosting started
2023-06-16 22:07:54.206 +03:00 [DBG] Connection id "0HMREJJUGCOJJ" received FIN.
2023-06-16 22:07:54.206 +03:00 [DBG] Connection id "0HMREJJUGCOJI" received FIN.
2023-06-16 22:07:54.212 +03:00 [DBG] Connection id "0HMREJJUGCOJJ" accepted.
2023-06-16 22:07:54.212 +03:00 [DBG] Connection id "0HMREJJUGCOJI" accepted.
2023-06-16 22:07:54.213 +03:00 [DBG] Connection id "0HMREJJUGCOJJ" started.
2023-06-16 22:07:54.213 +03:00 [DBG] Connection id "0HMREJJUGCOJI" started.
2023-06-16 22:07:54.226 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 22:07:54.226 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 22:07:54.245 +03:00 [DBG] Connection id "0HMREJJUGCOJJ" stopped.
2023-06-16 22:07:54.245 +03:00 [DBG] Connection id "0HMREJJUGCOJI" stopped.
2023-06-16 22:07:54.251 +03:00 [DBG] Connection id "0HMREJJUGCOJJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 22:07:54.251 +03:00 [DBG] Connection id "0HMREJJUGCOJI" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 22:07:54.514 +03:00 [DBG] Connection id "0HMREJJUGCOJK" accepted.
2023-06-16 22:07:54.515 +03:00 [DBG] Connection id "0HMREJJUGCOJK" started.
2023-06-16 22:07:54.703 +03:00 [DBG] Connection 0HMREJJUGCOJK established using the following protocol: "Tls12"
2023-06-16 22:07:54.806 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2023-06-16 22:07:54.843 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-16 22:07:54.906 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-06-16 22:07:54.907 +03:00 [DBG] Request did not match any endpoints
2023-06-16 22:07:55.181 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-06-16 22:07:55.310 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-06-16 22:07:55.313 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 514.1365ms
2023-06-16 22:07:55.327 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2023-06-16 22:07:55.330 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2023-06-16 22:07:55.338 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12014 application/javascript;+charset=utf-8 9.2859ms
2023-06-16 22:07:55.402 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 71.1647ms
2023-06-16 22:07:55.545 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-06-16 22:07:55.545 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-06-16 22:07:55.545 +03:00 [DBG] Request did not match any endpoints
2023-06-16 22:07:55.807 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 262.2672ms
2023-06-16 22:08:04.109 +03:00 [DBG] Connection id "0HMREJJUGCOJK" received FIN.
2023-06-16 22:08:04.114 +03:00 [DBG] The connection queue processing loop for 0HMREJJUGCOJK completed.
2023-06-16 22:08:04.122 +03:00 [DBG] Connection id "0HMREJJUGCOJK" is closed. The last processed stream ID was 7.
2023-06-16 22:08:04.123 +03:00 [DBG] Connection id "0HMREJJUGCOJK" sending FIN because: "The client closed the connection."
2023-06-16 22:08:04.138 +03:00 [DBG] Connection id "0HMREJJUGCOJK" stopped.
2023-06-16 22:08:19.953 +03:00 [DBG] Connection id "0HMREJJUGCOJL" accepted.
2023-06-16 22:08:19.953 +03:00 [DBG] Connection id "0HMREJJUGCOJL" started.
2023-06-16 22:08:19.955 +03:00 [DBG] Connection 0HMREJJUGCOJL established using the following protocol: "Tls12"
2023-06-16 22:08:19.956 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/ReservationAPI application/json-patch+json 189
2023-06-16 22:08:19.961 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ReservationAPI'
2023-06-16 22:08:19.964 +03:00 [DBG] Endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)' with route pattern 'api/ReservationAPI' is valid for the request path '/api/ReservationAPI'
2023-06-16 22:08:19.965 +03:00 [DBG] Request matched endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)'
2023-06-16 22:08:19.969 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-06-16 22:08:19.971 +03:00 [INF] Executing endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)'
2023-06-16 22:08:19.997 +03:00 [INF] Route matched with {action = "CreateReservation", controller = "ReservationAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Booking_ReservationAPI.Models.APIResponse]] CreateReservation(Booking_ReservationAPI.Models.Dto.ReservationCreateDTO) on controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI).
2023-06-16 22:08:20.000 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-16 22:08:20.000 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-16 22:08:20.000 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-16 22:08:20.000 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-16 22:08:20.000 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-16 22:08:20.002 +03:00 [DBG] Executing controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 22:08:20.111 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-16 22:08:20.585 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 22:08:20.675 +03:00 [DBG] Executed controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 22:08:20.681 +03:00 [DBG] Attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO' ...
2023-06-16 22:08:20.684 +03:00 [DBG] Attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO' using the name '' in request data ...
2023-06-16 22:08:20.685 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-06-16 22:08:20.686 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-06-16 22:08:20.693 +03:00 [DBG] Connection id "0HMREJJUGCOJL", Request id "0HMREJJUGCOJL:00000001": started reading request body.
2023-06-16 22:08:20.694 +03:00 [DBG] Connection id "0HMREJJUGCOJL", Request id "0HMREJJUGCOJL:00000001": done reading request body.
2023-06-16 22:08:20.798 +03:00 [DBG] Done attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO'.
2023-06-16 22:08:20.799 +03:00 [DBG] Done attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO'.
2023-06-16 22:08:20.799 +03:00 [DBG] Attempting to validate the bound parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO' ...
2023-06-16 22:08:20.811 +03:00 [DBG] Done attempting to validate the bound parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO'.
2023-06-16 22:08:20.894 +03:00 [DBG] Compiling query expression: 
'DbSet<Reservation>()
    .Where(u => u.CustomerName.ToLower() == __ToLower_0)
    .FirstOrDefault()'
2023-06-16 22:08:21.160 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Reservation>(
    asyncEnumerable: new SingleQueryingEnumerable<Reservation>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Reservation.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Reservation.CreationDate (DateTime) Required, 1], [Property: Reservation.CustomerName (string) Required, 2], [Property: Reservation.Notes (string) Required, 3], [Property: Reservation.ReservationDate (DateTime) Required, 4], [Property: Reservation.ReservedBy (string) Required, 5], [Property: Reservation.Trip_Id (int) Required, 6] }
            SELECT TOP(1) r.Id, r.CreationDate, r.CustomerName, r.Notes, r.ReservationDate, r.ReservedBy, r.Trip_Id
            FROM Reservations AS r
            WHERE LOWER(r.CustomerName) == @__ToLower_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Reservation>, 
        Booking_ReservationAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-06-16 22:08:21.196 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 22:08:21.198 +03:00 [DBG] Creating DbConnection.
2023-06-16 22:08:21.215 +03:00 [DBG] Created DbConnection. (14ms).
2023-06-16 22:08:21.219 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (23ms).
2023-06-16 22:08:21.227 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (31ms).
2023-06-16 22:08:21.230 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:08:22.892 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:08:22.910 +03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
WHERE LOWER([r].[CustomerName]) = @__ToLower_0
2023-06-16 22:08:23.133 +03:00 [INF] Executed DbCommand (230ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
WHERE LOWER([r].[CustomerName]) = @__ToLower_0
2023-06-16 22:08:23.150 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:08:23.161 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 21ms reading results.
2023-06-16 22:08:23.165 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:08:23.172 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (6ms).
2023-06-16 22:08:23.239 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Id.Reservation'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:08:23.310 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:08:23.320 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-06-16 22:08:23.324 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-06-16 22:08:23.341 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-06-16 22:08:23.431 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:08:23.432 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:08:23.435 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 22:08:23.436 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-16 22:08:23.437 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-06-16 22:08:23.438 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Reservations] ([CreationDate], [CustomerName], [Notes], [ReservationDate], [ReservedBy], [Trip_Id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-06-16 22:08:23.444 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Reservations] ([CreationDate], [CustomerName], [Notes], [ReservationDate], [ReservedBy], [Trip_Id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-06-16 22:08:23.465 +03:00 [DBG] The foreign key property 'Reservation.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-06-16 22:08:23.472 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:08:23.472 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 27ms reading results.
2023-06-16 22:08:23.473 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:08:23.473 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 22:08:23.486 +03:00 [DBG] An entity of type 'Reservation' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:08:23.488 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-06-16 22:08:23.675 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-06-16 22:08:23.680 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-06-16 22:08:23.682 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-06-16 22:08:23.682 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-06-16 22:08:23.682 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-06-16 22:08:23.684 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-16 22:08:23.684 +03:00 [INF] Executing CreatedAtRouteResult, writing value of type 'Booking_ReservationAPI.Models.APIResponse'.
2023-06-16 22:08:23.739 +03:00 [DBG] Found the endpoints ["Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservation (Booking_ReservationAPI)"] for address GetReservation(id=[29])
2023-06-16 22:08:23.768 +03:00 [DBG] Successfully processed template api/ReservationAPI/{id:int} for Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservation (Booking_ReservationAPI) resulting in /api/ReservationAPI/29 and 
2023-06-16 22:08:23.789 +03:00 [DBG] Link generation succeeded for endpoints ["Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservation (Booking_ReservationAPI)"] with result /api/ReservationAPI/29
2023-06-16 22:08:23.851 +03:00 [INF] Executed action Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI) in 3845.1001ms
2023-06-16 22:08:23.851 +03:00 [INF] Executed endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)'
2023-06-16 22:08:23.855 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 22:08:23.860 +03:00 [DBG] Disposing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:08:23.862 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-06-16 22:08:23.862 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/ReservationAPI application/json-patch+json 189 - 201 238 application/json;+charset=utf-8 3906.3409ms
2023-06-16 22:08:24.118 +03:00 [DBG] Connection id "0HMREJJUGCOJL" received FIN.
2023-06-16 22:08:24.119 +03:00 [DBG] Connection id "0HMREJJUGCOJL" is closed. The last processed stream ID was 1.
2023-06-16 22:08:24.119 +03:00 [DBG] Connection id "0HMREJJUGCOJL" sending FIN because: "The client closed the connection."
2023-06-16 22:08:24.120 +03:00 [DBG] The connection queue processing loop for 0HMREJJUGCOJL completed.
2023-06-16 22:08:24.120 +03:00 [DBG] Connection id "0HMREJJUGCOJL" stopped.
2023-06-16 22:08:55.864 +03:00 [DBG] Connection id "0HMREJJUGCOJM" accepted.
2023-06-16 22:08:55.864 +03:00 [DBG] Connection id "0HMREJJUGCOJM" started.
2023-06-16 22:08:55.865 +03:00 [DBG] Connection 0HMREJJUGCOJM established using the following protocol: "Tls12"
2023-06-16 22:08:55.866 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/ReservationAPI application/json-patch+json 184
2023-06-16 22:08:55.866 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ReservationAPI'
2023-06-16 22:08:55.867 +03:00 [DBG] Endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)' with route pattern 'api/ReservationAPI' is valid for the request path '/api/ReservationAPI'
2023-06-16 22:08:55.867 +03:00 [DBG] Request matched endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)'
2023-06-16 22:08:55.867 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-06-16 22:08:55.867 +03:00 [INF] Executing endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)'
2023-06-16 22:08:55.867 +03:00 [INF] Route matched with {action = "CreateReservation", controller = "ReservationAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Booking_ReservationAPI.Models.APIResponse]] CreateReservation(Booking_ReservationAPI.Models.Dto.ReservationCreateDTO) on controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI).
2023-06-16 22:08:55.868 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-16 22:08:55.868 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-16 22:08:55.868 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-16 22:08:55.868 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-16 22:08:55.868 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-16 22:08:55.868 +03:00 [DBG] Executing controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 22:08:55.931 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 22:08:55.931 +03:00 [DBG] Executed controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 22:08:55.931 +03:00 [DBG] Attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO' ...
2023-06-16 22:08:55.932 +03:00 [DBG] Attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO' using the name '' in request data ...
2023-06-16 22:08:55.932 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-06-16 22:08:55.932 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-06-16 22:08:55.932 +03:00 [DBG] Connection id "0HMREJJUGCOJM", Request id "0HMREJJUGCOJM:00000001": started reading request body.
2023-06-16 22:08:55.932 +03:00 [DBG] Connection id "0HMREJJUGCOJM", Request id "0HMREJJUGCOJM:00000001": done reading request body.
2023-06-16 22:08:55.932 +03:00 [DBG] Done attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO'.
2023-06-16 22:08:55.932 +03:00 [DBG] Done attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO'.
2023-06-16 22:08:55.932 +03:00 [DBG] Attempting to validate the bound parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO' ...
2023-06-16 22:08:55.933 +03:00 [DBG] Done attempting to validate the bound parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO'.
2023-06-16 22:08:55.936 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 22:08:55.936 +03:00 [DBG] Creating DbConnection.
2023-06-16 22:08:55.937 +03:00 [DBG] Created DbConnection. (0ms).
2023-06-16 22:08:55.937 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-16 22:08:55.937 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-06-16 22:08:55.937 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:08:55.937 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:08:55.937 +03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
WHERE LOWER([r].[CustomerName]) = @__ToLower_0
2023-06-16 22:08:56.824 +03:00 [INF] Executed DbCommand (887ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
WHERE LOWER([r].[CustomerName]) = @__ToLower_0
2023-06-16 22:08:56.824 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:08:56.825 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 0ms reading results.
2023-06-16 22:08:56.825 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:08:56.825 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 22:08:56.827 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Id.Reservation'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:08:56.828 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:08:56.829 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-06-16 22:08:56.829 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-06-16 22:08:56.829 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-06-16 22:08:56.831 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:08:56.831 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:08:56.831 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 22:08:56.831 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-16 22:08:56.831 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-06-16 22:08:56.832 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Reservations] ([CreationDate], [CustomerName], [Notes], [ReservationDate], [ReservedBy], [Trip_Id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-06-16 22:08:56.834 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Reservations] ([CreationDate], [CustomerName], [Notes], [ReservationDate], [ReservedBy], [Trip_Id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-06-16 22:08:56.835 +03:00 [DBG] The foreign key property 'Reservation.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-06-16 22:08:56.835 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:08:56.835 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 0ms reading results.
2023-06-16 22:08:56.835 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:08:56.835 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 22:08:56.835 +03:00 [DBG] An entity of type 'Reservation' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:08:56.836 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-06-16 22:08:56.836 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-06-16 22:08:56.836 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-06-16 22:08:56.836 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-06-16 22:08:56.836 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-06-16 22:08:56.836 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-06-16 22:08:56.836 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-16 22:08:56.836 +03:00 [INF] Executing CreatedAtRouteResult, writing value of type 'Booking_ReservationAPI.Models.APIResponse'.
2023-06-16 22:08:56.837 +03:00 [DBG] Found the endpoints ["Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservation (Booking_ReservationAPI)"] for address GetReservation(id=[30])
2023-06-16 22:08:56.837 +03:00 [DBG] Successfully processed template api/ReservationAPI/{id:int} for Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservation (Booking_ReservationAPI) resulting in /api/ReservationAPI/30 and 
2023-06-16 22:08:56.837 +03:00 [DBG] Link generation succeeded for endpoints ["Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservation (Booking_ReservationAPI)"] with result /api/ReservationAPI/30
2023-06-16 22:08:56.838 +03:00 [INF] Executed action Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI) in 969.5722ms
2023-06-16 22:08:56.838 +03:00 [INF] Executed endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)'
2023-06-16 22:08:56.838 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 22:08:56.838 +03:00 [DBG] Disposing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:08:56.838 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-06-16 22:08:56.838 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/ReservationAPI application/json-patch+json 184 - 201 233 application/json;+charset=utf-8 972.2378ms
2023-06-16 22:09:04.192 +03:00 [DBG] Connection id "0HMREJJUGCOJM" received FIN.
2023-06-16 22:09:04.192 +03:00 [DBG] Connection id "0HMREJJUGCOJM" is closed. The last processed stream ID was 1.
2023-06-16 22:09:04.192 +03:00 [DBG] Connection id "0HMREJJUGCOJM" sending FIN because: "The client closed the connection."
2023-06-16 22:09:04.193 +03:00 [DBG] The connection queue processing loop for 0HMREJJUGCOJM completed.
2023-06-16 22:09:04.193 +03:00 [DBG] Connection id "0HMREJJUGCOJM" stopped.
2023-06-16 22:09:13.969 +03:00 [DBG] Connection id "0HMREJJUGCOJN" accepted.
2023-06-16 22:09:13.969 +03:00 [DBG] Connection id "0HMREJJUGCOJN" started.
2023-06-16 22:09:13.970 +03:00 [DBG] Connection 0HMREJJUGCOJN established using the following protocol: "Tls12"
2023-06-16 22:09:13.971 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/ReservationAPI application/json-patch+json 186
2023-06-16 22:09:13.971 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ReservationAPI'
2023-06-16 22:09:13.971 +03:00 [DBG] Endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)' with route pattern 'api/ReservationAPI' is valid for the request path '/api/ReservationAPI'
2023-06-16 22:09:13.971 +03:00 [DBG] Request matched endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)'
2023-06-16 22:09:13.971 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-06-16 22:09:13.971 +03:00 [INF] Executing endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)'
2023-06-16 22:09:13.971 +03:00 [INF] Route matched with {action = "CreateReservation", controller = "ReservationAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Booking_ReservationAPI.Models.APIResponse]] CreateReservation(Booking_ReservationAPI.Models.Dto.ReservationCreateDTO) on controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI).
2023-06-16 22:09:13.971 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-16 22:09:13.971 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-16 22:09:13.971 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-16 22:09:13.971 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-16 22:09:13.971 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-16 22:09:13.971 +03:00 [DBG] Executing controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 22:09:13.989 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 22:09:13.990 +03:00 [DBG] Executed controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 22:09:13.990 +03:00 [DBG] Attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO' ...
2023-06-16 22:09:13.990 +03:00 [DBG] Attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO' using the name '' in request data ...
2023-06-16 22:09:13.990 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-06-16 22:09:13.990 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-06-16 22:09:13.990 +03:00 [DBG] Connection id "0HMREJJUGCOJN", Request id "0HMREJJUGCOJN:00000001": started reading request body.
2023-06-16 22:09:13.990 +03:00 [DBG] Connection id "0HMREJJUGCOJN", Request id "0HMREJJUGCOJN:00000001": done reading request body.
2023-06-16 22:09:13.990 +03:00 [DBG] Done attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO'.
2023-06-16 22:09:13.990 +03:00 [DBG] Done attempting to bind parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO'.
2023-06-16 22:09:13.990 +03:00 [DBG] Attempting to validate the bound parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO' ...
2023-06-16 22:09:13.990 +03:00 [DBG] Done attempting to validate the bound parameter 'createDTO' of type 'Booking_ReservationAPI.Models.Dto.ReservationCreateDTO'.
2023-06-16 22:09:13.992 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 22:09:13.992 +03:00 [DBG] Creating DbConnection.
2023-06-16 22:09:13.992 +03:00 [DBG] Created DbConnection. (0ms).
2023-06-16 22:09:13.992 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-16 22:09:13.992 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-06-16 22:09:13.992 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:09:13.992 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:09:13.992 +03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
WHERE LOWER([r].[CustomerName]) = @__ToLower_0
2023-06-16 22:09:13.993 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
WHERE LOWER([r].[CustomerName]) = @__ToLower_0
2023-06-16 22:09:13.994 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:09:13.994 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 0ms reading results.
2023-06-16 22:09:13.994 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:09:13.994 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 22:09:13.994 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Id.Reservation'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:09:13.994 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:09:13.994 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-06-16 22:09:13.994 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-06-16 22:09:13.994 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-06-16 22:09:13.994 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:09:13.994 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:09:13.994 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 22:09:13.994 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-16 22:09:13.994 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-06-16 22:09:13.994 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Reservations] ([CreationDate], [CustomerName], [Notes], [ReservationDate], [ReservedBy], [Trip_Id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-06-16 22:09:13.998 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Reservations] ([CreationDate], [CustomerName], [Notes], [ReservationDate], [ReservedBy], [Trip_Id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-06-16 22:09:13.998 +03:00 [DBG] The foreign key property 'Reservation.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-06-16 22:09:13.998 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:09:13.998 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 0ms reading results.
2023-06-16 22:09:13.998 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:09:13.998 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 22:09:13.998 +03:00 [DBG] An entity of type 'Reservation' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:09:13.998 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-06-16 22:09:13.998 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-06-16 22:09:13.998 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-06-16 22:09:13.998 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-06-16 22:09:13.998 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-06-16 22:09:13.998 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-06-16 22:09:13.998 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-16 22:09:13.998 +03:00 [INF] Executing CreatedAtRouteResult, writing value of type 'Booking_ReservationAPI.Models.APIResponse'.
2023-06-16 22:09:13.998 +03:00 [DBG] Found the endpoints ["Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservation (Booking_ReservationAPI)"] for address GetReservation(id=[31])
2023-06-16 22:09:13.998 +03:00 [DBG] Successfully processed template api/ReservationAPI/{id:int} for Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservation (Booking_ReservationAPI) resulting in /api/ReservationAPI/31 and 
2023-06-16 22:09:13.998 +03:00 [DBG] Link generation succeeded for endpoints ["Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservation (Booking_ReservationAPI)"] with result /api/ReservationAPI/31
2023-06-16 22:09:13.999 +03:00 [INF] Executed action Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI) in 27.2789ms
2023-06-16 22:09:13.999 +03:00 [INF] Executed endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.CreateReservation (Booking_ReservationAPI)'
2023-06-16 22:09:13.999 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 22:09:13.999 +03:00 [DBG] Disposing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:09:13.999 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-06-16 22:09:13.999 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/ReservationAPI application/json-patch+json 186 - 201 235 application/json;+charset=utf-8 28.1519ms
2023-06-16 22:09:14.196 +03:00 [DBG] Connection id "0HMREJJUGCOJN" received FIN.
2023-06-16 22:09:14.197 +03:00 [DBG] Connection id "0HMREJJUGCOJN" is closed. The last processed stream ID was 1.
2023-06-16 22:09:14.197 +03:00 [DBG] Connection id "0HMREJJUGCOJN" sending FIN because: "The client closed the connection."
2023-06-16 22:09:14.197 +03:00 [DBG] The connection queue processing loop for 0HMREJJUGCOJN completed.
2023-06-16 22:09:14.197 +03:00 [DBG] Connection id "0HMREJJUGCOJN" stopped.
2023-06-16 22:09:23.785 +03:00 [DBG] Connection id "0HMREJJUGCOJO" accepted.
2023-06-16 22:09:23.785 +03:00 [DBG] Connection id "0HMREJJUGCOJO" started.
2023-06-16 22:09:23.786 +03:00 [DBG] Connection 0HMREJJUGCOJO established using the following protocol: "Tls12"
2023-06-16 22:09:23.787 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/ReservationAPI - -
2023-06-16 22:09:23.787 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ReservationAPI'
2023-06-16 22:09:23.787 +03:00 [DBG] Endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)' with route pattern 'api/ReservationAPI' is valid for the request path '/api/ReservationAPI'
2023-06-16 22:09:23.787 +03:00 [DBG] Request matched endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 22:09:23.787 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-06-16 22:09:23.787 +03:00 [INF] Executing endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 22:09:23.791 +03:00 [INF] Route matched with {action = "GetReservations", controller = "ReservationAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Booking_ReservationAPI.Models.APIResponse]] GetReservations() on controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI).
2023-06-16 22:09:23.791 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-16 22:09:23.791 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-16 22:09:23.791 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-16 22:09:23.791 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-16 22:09:23.791 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-16 22:09:23.791 +03:00 [DBG] Executing controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 22:09:23.792 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 22:09:23.793 +03:00 [DBG] Executed controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 22:09:23.803 +03:00 [DBG] Compiling query expression: 
'DbSet<Reservation>()'
2023-06-16 22:09:23.807 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Reservation>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Reservation.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Reservation.CreationDate (DateTime) Required, 1], [Property: Reservation.CustomerName (string) Required, 2], [Property: Reservation.Notes (string) Required, 3], [Property: Reservation.ReservationDate (DateTime) Required, 4], [Property: Reservation.ReservedBy (string) Required, 5], [Property: Reservation.Trip_Id (int) Required, 6] }
        SELECT r.Id, r.CreationDate, r.CustomerName, r.Notes, r.ReservationDate, r.ReservedBy, r.Trip_Id
        FROM Reservations AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Reservation>, 
    Booking_ReservationAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-06-16 22:09:23.807 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 22:09:23.807 +03:00 [DBG] Creating DbConnection.
2023-06-16 22:09:23.807 +03:00 [DBG] Created DbConnection. (0ms).
2023-06-16 22:09:23.807 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-16 22:09:23.807 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-06-16 22:09:23.807 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:09:23.807 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:09:23.807 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 22:09:24.172 +03:00 [INF] Executed DbCommand (364ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 22:09:24.187 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:09:24.190 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:09:24.190 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:09:24.191 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:09:24.191 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 18ms reading results.
2023-06-16 22:09:24.191 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:09:24.191 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 22:09:24.216 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-06-16 22:09:24.216 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-06-16 22:09:24.216 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-06-16 22:09:24.216 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-06-16 22:09:24.216 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-06-16 22:09:24.216 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-16 22:09:24.216 +03:00 [INF] Executing OkObjectResult, writing value of type 'Booking_ReservationAPI.Models.APIResponse'.
2023-06-16 22:09:24.222 +03:00 [INF] Executed action Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI) in 431.1778ms
2023-06-16 22:09:24.223 +03:00 [INF] Executed endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 22:09:24.223 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 22:09:24.223 +03:00 [DBG] Disposing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:09:24.223 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-06-16 22:09:24.223 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/ReservationAPI - - - 200 572 application/json;+charset=utf-8 436.4619ms
2023-06-16 22:09:30.851 +03:00 [DBG] Connection id "0HMREJJUGCOJO" received FIN.
2023-06-16 22:09:30.852 +03:00 [DBG] Connection id "0HMREJJUGCOJO" is closed. The last processed stream ID was 1.
2023-06-16 22:09:30.852 +03:00 [DBG] Connection id "0HMREJJUGCOJO" sending FIN because: "The client closed the connection."
2023-06-16 22:09:30.852 +03:00 [DBG] The connection queue processing loop for 0HMREJJUGCOJO completed.
2023-06-16 22:09:30.852 +03:00 [DBG] Connection id "0HMREJJUGCOJO" stopped.
2023-06-16 22:09:51.307 +03:00 [DBG] Connection id "0HMREJJUGCOJP" accepted.
2023-06-16 22:09:51.308 +03:00 [DBG] Connection id "0HMREJJUGCOJP" started.
2023-06-16 22:09:51.357 +03:00 [DBG] Connection 0HMREJJUGCOJP established using the following protocol: "Tls12"
2023-06-16 22:09:51.376 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/ReservationAPI - -
2023-06-16 22:09:51.376 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ReservationAPI'
2023-06-16 22:09:51.376 +03:00 [DBG] Endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)' with route pattern 'api/ReservationAPI' is valid for the request path '/api/ReservationAPI'
2023-06-16 22:09:51.376 +03:00 [DBG] Request matched endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 22:09:51.376 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-06-16 22:09:51.376 +03:00 [INF] Executing endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 22:09:51.377 +03:00 [INF] Route matched with {action = "GetReservations", controller = "ReservationAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Booking_ReservationAPI.Models.APIResponse]] GetReservations() on controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI).
2023-06-16 22:09:51.377 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-16 22:09:51.377 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-16 22:09:51.377 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-16 22:09:51.377 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-16 22:09:51.377 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-16 22:09:51.377 +03:00 [DBG] Executing controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 22:09:51.377 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 22:09:51.377 +03:00 [DBG] Executed controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 22:09:51.378 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 22:09:51.378 +03:00 [DBG] Creating DbConnection.
2023-06-16 22:09:51.378 +03:00 [DBG] Created DbConnection. (0ms).
2023-06-16 22:09:51.378 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-16 22:09:51.378 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-06-16 22:09:51.378 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:09:51.378 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:09:51.378 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 22:09:51.380 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 22:09:51.380 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:09:51.380 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:09:51.380 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:09:51.380 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:09:51.380 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 0ms reading results.
2023-06-16 22:09:51.380 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:09:51.380 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (0ms).
2023-06-16 22:09:51.381 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-06-16 22:09:51.381 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-06-16 22:09:51.381 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-16 22:09:51.381 +03:00 [INF] Executing OkObjectResult, writing value of type 'Booking_ReservationAPI.Models.APIResponse'.
2023-06-16 22:09:51.382 +03:00 [INF] Executed action Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI) in 4.8116ms
2023-06-16 22:09:51.382 +03:00 [INF] Executed endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 22:09:51.382 +03:00 [DBG] Connection id "0HMREJJUGCOJP" completed keep alive response.
2023-06-16 22:09:51.382 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 22:09:51.382 +03:00 [DBG] Disposing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:09:51.382 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-06-16 22:09:51.382 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/ReservationAPI - - - 200 572 application/json;+charset=utf-8 5.8199ms
2023-06-16 22:11:06.333 +03:00 [DBG] Connection id "0HMREJJUGCOJP" received FIN.
2023-06-16 22:11:06.333 +03:00 [DBG] Connection id "0HMREJJUGCOJP" disconnecting.
2023-06-16 22:11:06.333 +03:00 [DBG] Connection id "0HMREJJUGCOJP" sending FIN because: "The client closed the connection."
2023-06-16 22:11:06.342 +03:00 [DBG] Connection id "0HMREJJUGCOJP" stopped.
2023-06-16 22:14:06.267 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-16 22:14:06.371 +03:00 [DBG] Hosting starting
2023-06-16 22:14:06.836 +03:00 [INF] Now listening on: https://localhost:7001
2023-06-16 22:14:06.836 +03:00 [INF] Now listening on: http://localhost:5030
2023-06-16 22:14:06.836 +03:00 [DBG] Loaded hosting startup assembly Booking_ReservationAPI
2023-06-16 22:14:06.836 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-16 22:14:06.836 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-16 22:14:06.837 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 22:14:06.837 +03:00 [INF] Hosting environment: Development
2023-06-16 22:14:06.837 +03:00 [INF] Content root path: C:\Users\Mira\source\TestApis\Booking\Booking_ReservationAPI
2023-06-16 22:14:06.837 +03:00 [DBG] Hosting started
2023-06-16 22:14:06.965 +03:00 [DBG] Connection id "0HMREJNDJ9JFK" accepted.
2023-06-16 22:14:06.966 +03:00 [DBG] Connection id "0HMREJNDJ9JFK" started.
2023-06-16 22:14:06.971 +03:00 [DBG] Connection id "0HMREJNDJ9JFL" accepted.
2023-06-16 22:14:06.972 +03:00 [DBG] Connection id "0HMREJNDJ9JFL" started.
2023-06-16 22:14:06.990 +03:00 [DBG] Connection id "0HMREJNDJ9JFL" received FIN.
2023-06-16 22:14:06.990 +03:00 [DBG] Connection id "0HMREJNDJ9JFK" received FIN.
2023-06-16 22:14:06.998 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 22:14:06.998 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 22:14:07.064 +03:00 [DBG] Connection id "0HMREJNDJ9JFL" stopped.
2023-06-16 22:14:07.064 +03:00 [DBG] Connection id "0HMREJNDJ9JFK" stopped.
2023-06-16 22:14:07.071 +03:00 [DBG] Connection id "0HMREJNDJ9JFK" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 22:14:07.073 +03:00 [DBG] Connection id "0HMREJNDJ9JFL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 22:14:07.242 +03:00 [DBG] Connection id "0HMREJNDJ9JFM" accepted.
2023-06-16 22:14:07.243 +03:00 [DBG] Connection id "0HMREJNDJ9JFM" started.
2023-06-16 22:14:07.727 +03:00 [DBG] Connection 0HMREJNDJ9JFM established using the following protocol: "Tls12"
2023-06-16 22:14:07.893 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2023-06-16 22:14:07.927 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-16 22:14:07.971 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-06-16 22:14:07.972 +03:00 [DBG] Request did not match any endpoints
2023-06-16 22:14:08.165 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-06-16 22:14:08.329 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-06-16 22:14:08.332 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 443.5883ms
2023-06-16 22:14:08.519 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2023-06-16 22:14:08.549 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.9837ms
2023-06-16 22:14:08.859 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2023-06-16 22:14:08.864 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12014 application/javascript;+charset=utf-8 5.2144ms
2023-06-16 22:14:09.040 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-06-16 22:14:09.040 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-06-16 22:14:09.040 +03:00 [DBG] Request did not match any endpoints
2023-06-16 22:14:09.235 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 195.5403ms
2023-06-16 22:14:09.245 +03:00 [DBG] Connection id "0HMREJNDJ9JFM" received FIN.
2023-06-16 22:14:09.247 +03:00 [DBG] The connection queue processing loop for 0HMREJNDJ9JFM completed.
2023-06-16 22:14:09.251 +03:00 [DBG] Connection id "0HMREJNDJ9JFM" is closed. The last processed stream ID was 7.
2023-06-16 22:14:09.252 +03:00 [DBG] Connection id "0HMREJNDJ9JFM" sending FIN because: "The client closed the connection."
2023-06-16 22:14:09.260 +03:00 [DBG] Connection id "0HMREJNDJ9JFM" stopped.
2023-06-16 22:14:14.826 +03:00 [DBG] Connection id "0HMREJNDJ9JFN" accepted.
2023-06-16 22:14:14.827 +03:00 [DBG] Connection id "0HMREJNDJ9JFN" started.
2023-06-16 22:14:14.838 +03:00 [DBG] Connection 0HMREJNDJ9JFN established using the following protocol: "Tls12"
2023-06-16 22:14:14.852 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/ReservationAPI - -
2023-06-16 22:14:14.856 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ReservationAPI'
2023-06-16 22:14:14.859 +03:00 [DBG] Endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)' with route pattern 'api/ReservationAPI' is valid for the request path '/api/ReservationAPI'
2023-06-16 22:14:14.860 +03:00 [DBG] Request matched endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 22:14:14.864 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-06-16 22:14:14.867 +03:00 [INF] Executing endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 22:14:14.884 +03:00 [INF] Route matched with {action = "GetReservations", controller = "ReservationAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Booking_ReservationAPI.Models.APIResponse]] GetReservations() on controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI).
2023-06-16 22:14:14.885 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-16 22:14:14.885 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-16 22:14:14.885 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-16 22:14:14.886 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-16 22:14:14.886 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-16 22:14:14.887 +03:00 [DBG] Executing controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 22:14:15.108 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-16 22:14:15.698 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 22:14:15.832 +03:00 [DBG] Executed controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 22:14:16.440 +03:00 [DBG] Compiling query expression: 
'DbSet<Reservation>()'
2023-06-16 22:14:16.625 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Reservation>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Reservation.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Reservation.CreationDate (DateTime) Required, 1], [Property: Reservation.CustomerName (string) Required, 2], [Property: Reservation.Notes (string) Required, 3], [Property: Reservation.ReservationDate (DateTime) Required, 4], [Property: Reservation.ReservedBy (string) Required, 5], [Property: Reservation.Trip_Id (int) Required, 6] }
        SELECT r.Id, r.CreationDate, r.CustomerName, r.Notes, r.ReservationDate, r.ReservedBy, r.Trip_Id
        FROM Reservations AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Reservation>, 
    Booking_ReservationAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-06-16 22:14:16.655 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 22:14:16.657 +03:00 [DBG] Creating DbConnection.
2023-06-16 22:14:16.699 +03:00 [DBG] Created DbConnection. (37ms).
2023-06-16 22:14:16.706 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (51ms).
2023-06-16 22:14:16.709 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (54ms).
2023-06-16 22:14:16.716 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:14:18.510 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:14:18.519 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 22:14:18.780 +03:00 [INF] Executed DbCommand (260ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 22:14:18.825 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:14:18.849 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:14:18.849 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:14:18.853 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:14:18.860 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 74ms reading results.
2023-06-16 22:14:18.862 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:14:18.867 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (4ms).
2023-06-16 22:14:18.884 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-06-16 22:14:18.886 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-06-16 22:14:18.886 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-16 22:14:18.887 +03:00 [INF] Executing OkObjectResult, writing value of type 'Booking_ReservationAPI.Models.APIResponse'.
2023-06-16 22:14:19.025 +03:00 [INF] Executed action Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI) in 4134.7932ms
2023-06-16 22:14:19.026 +03:00 [INF] Executed endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 22:14:19.027 +03:00 [DBG] Connection id "0HMREJNDJ9JFN" completed keep alive response.
2023-06-16 22:14:19.030 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 22:14:19.034 +03:00 [DBG] Disposing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:14:19.035 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-06-16 22:14:19.036 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/ReservationAPI - - - 200 572 application/json;+charset=utf-8 4183.2494ms
2023-06-16 22:15:29.869 +03:00 [DBG] Connection id "0HMREJNDJ9JFN" received FIN.
2023-06-16 22:15:29.869 +03:00 [DBG] Connection id "0HMREJNDJ9JFN" sending FIN because: "The client closed the connection."
2023-06-16 22:15:29.869 +03:00 [DBG] Connection id "0HMREJNDJ9JFN" disconnecting.
2023-06-16 22:15:29.869 +03:00 [DBG] Connection id "0HMREJNDJ9JFN" stopped.
2023-06-16 22:22:03.292 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-16 22:22:03.401 +03:00 [DBG] Hosting starting
2023-06-16 22:22:04.069 +03:00 [INF] Now listening on: https://localhost:7001
2023-06-16 22:22:04.069 +03:00 [INF] Now listening on: http://localhost:5030
2023-06-16 22:22:04.069 +03:00 [DBG] Loaded hosting startup assembly Booking_ReservationAPI
2023-06-16 22:22:04.069 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-16 22:22:04.069 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-16 22:22:04.070 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 22:22:04.070 +03:00 [INF] Hosting environment: Development
2023-06-16 22:22:04.070 +03:00 [INF] Content root path: C:\Users\Mira\source\TestApis\Booking\Booking_ReservationAPI
2023-06-16 22:22:04.070 +03:00 [DBG] Hosting started
2023-06-16 22:22:04.457 +03:00 [DBG] Connection id "0HMREJRRT0G6O" accepted.
2023-06-16 22:22:04.457 +03:00 [DBG] Connection id "0HMREJRRT0G6O" started.
2023-06-16 22:22:04.464 +03:00 [DBG] Connection id "0HMREJRRT0G6P" accepted.
2023-06-16 22:22:04.464 +03:00 [DBG] Connection id "0HMREJRRT0G6P" started.
2023-06-16 22:22:04.496 +03:00 [DBG] Connection id "0HMREJRRT0G6P" received FIN.
2023-06-16 22:22:04.496 +03:00 [DBG] Connection id "0HMREJRRT0G6O" received FIN.
2023-06-16 22:22:04.504 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 22:22:04.504 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 22:22:04.577 +03:00 [DBG] Connection id "0HMREJRRT0G6Q" accepted.
2023-06-16 22:22:04.651 +03:00 [DBG] Connection id "0HMREJRRT0G6Q" started.
2023-06-16 22:22:04.656 +03:00 [DBG] Connection id "0HMREJRRT0G6P" stopped.
2023-06-16 22:22:04.656 +03:00 [DBG] Connection id "0HMREJRRT0G6O" stopped.
2023-06-16 22:22:04.660 +03:00 [DBG] Connection id "0HMREJRRT0G6P" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 22:22:04.660 +03:00 [DBG] Connection id "0HMREJRRT0G6O" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 22:22:04.856 +03:00 [DBG] Connection 0HMREJRRT0G6Q established using the following protocol: "Tls12"
2023-06-16 22:22:05.077 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2023-06-16 22:22:05.108 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-16 22:22:05.138 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-06-16 22:22:05.138 +03:00 [DBG] Request did not match any endpoints
2023-06-16 22:22:05.279 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-06-16 22:22:05.625 +03:00 [DBG] Connection id "0HMREJRRT0G6R" accepted.
2023-06-16 22:22:05.625 +03:00 [DBG] Connection id "0HMREJRRT0G6R" started.
2023-06-16 22:22:05.665 +03:00 [DBG] Connection 0HMREJRRT0G6R established using the following protocol: "Tls12"
2023-06-16 22:22:05.697 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/ReservationAPI - -
2023-06-16 22:22:05.700 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2023-06-16 22:22:05.701 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-06-16 22:22:05.703 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ReservationAPI'
2023-06-16 22:22:05.703 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2023-06-16 22:22:05.704 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 627.8329ms
2023-06-16 22:22:05.706 +03:00 [DBG] Endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)' with route pattern 'api/ReservationAPI' is valid for the request path '/api/ReservationAPI'
2023-06-16 22:22:05.707 +03:00 [DBG] Request matched endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 22:22:05.709 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-06-16 22:22:05.713 +03:00 [INF] Executing endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 22:22:05.715 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12014 application/javascript;+charset=utf-8 10.2567ms
2023-06-16 22:22:05.729 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 29.1981ms
2023-06-16 22:22:05.742 +03:00 [INF] Route matched with {action = "GetReservations", controller = "ReservationAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Booking_ReservationAPI.Models.APIResponse]] GetReservations() on controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI).
2023-06-16 22:22:05.744 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-16 22:22:05.744 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-16 22:22:05.745 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-16 22:22:05.745 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-16 22:22:05.745 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-16 22:22:05.747 +03:00 [DBG] Executing controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 22:22:05.989 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-16 22:22:06.061 +03:00 [DBG] Connection id "0HMREJRRT0G6Q" received FIN.
2023-06-16 22:22:06.063 +03:00 [DBG] The connection queue processing loop for 0HMREJRRT0G6Q completed.
2023-06-16 22:22:06.066 +03:00 [DBG] Connection id "0HMREJRRT0G6Q" is closed. The last processed stream ID was 5.
2023-06-16 22:22:06.066 +03:00 [DBG] Connection id "0HMREJRRT0G6Q" sending FIN because: "The client closed the connection."
2023-06-16 22:22:06.070 +03:00 [DBG] Connection id "0HMREJRRT0G6Q" stopped.
2023-06-16 22:22:06.255 +03:00 [DBG] Connection id "0HMREJRRT0G6S" accepted.
2023-06-16 22:22:06.256 +03:00 [DBG] Connection id "0HMREJRRT0G6S" started.
2023-06-16 22:22:06.257 +03:00 [DBG] Connection 0HMREJRRT0G6S established using the following protocol: "Tls12"
2023-06-16 22:22:06.258 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-06-16 22:22:06.259 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-06-16 22:22:06.259 +03:00 [DBG] Request did not match any endpoints
2023-06-16 22:22:06.506 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 247.1893ms
2023-06-16 22:22:06.707 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 22:22:06.809 +03:00 [DBG] Executed controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 22:22:06.889 +03:00 [DBG] Compiling query expression: 
'DbSet<Reservation>()'
2023-06-16 22:22:07.045 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Reservation>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Reservation.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Reservation.CreationDate (DateTime) Required, 1], [Property: Reservation.CustomerName (string) Required, 2], [Property: Reservation.Notes (string) Required, 3], [Property: Reservation.ReservationDate (DateTime) Required, 4], [Property: Reservation.ReservedBy (string) Required, 5], [Property: Reservation.Trip_Id (int) Required, 6] }
        SELECT r.Id, r.CreationDate, r.CustomerName, r.Notes, r.ReservationDate, r.ReservedBy, r.Trip_Id
        FROM Reservations AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Reservation>, 
    Booking_ReservationAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-06-16 22:22:07.087 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 22:22:07.090 +03:00 [DBG] Creating DbConnection.
2023-06-16 22:22:07.152 +03:00 [DBG] Created DbConnection. (57ms).
2023-06-16 22:22:07.157 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (70ms).
2023-06-16 22:22:07.159 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (73ms).
2023-06-16 22:22:07.163 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:22:09.672 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:22:09.682 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 22:22:09.865 +03:00 [INF] Executed DbCommand (184ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 22:22:09.928 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:22:09.961 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:22:09.961 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:22:09.968 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:22:09.974 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 103ms reading results.
2023-06-16 22:22:09.977 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:22:09.983 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (5ms).
2023-06-16 22:22:10.009 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-06-16 22:22:10.013 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-06-16 22:22:10.014 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-16 22:22:10.015 +03:00 [INF] Executing OkObjectResult, writing value of type 'Booking_ReservationAPI.Models.APIResponse'.
2023-06-16 22:22:10.211 +03:00 [INF] Executed action Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI) in 4462.1886ms
2023-06-16 22:22:10.212 +03:00 [INF] Executed endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 22:22:10.212 +03:00 [DBG] Connection id "0HMREJRRT0G6R" completed keep alive response.
2023-06-16 22:22:10.214 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 22:22:10.219 +03:00 [DBG] Disposing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:22:10.220 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-06-16 22:22:10.220 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/ReservationAPI - - - 200 572 application/json;+charset=utf-8 4523.2156ms
2023-06-16 22:22:18.293 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-16 22:22:18.464 +03:00 [DBG] Hosting starting
2023-06-16 22:22:19.065 +03:00 [INF] Now listening on: https://localhost:7001
2023-06-16 22:22:19.066 +03:00 [INF] Now listening on: http://localhost:5030
2023-06-16 22:22:19.066 +03:00 [DBG] Loaded hosting startup assembly Booking_ReservationAPI
2023-06-16 22:22:19.066 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-16 22:22:19.066 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-16 22:22:19.066 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 22:22:19.067 +03:00 [INF] Hosting environment: Development
2023-06-16 22:22:19.067 +03:00 [INF] Content root path: C:\Users\Mira\source\TestApis\Booking\Booking_ReservationAPI
2023-06-16 22:22:19.067 +03:00 [DBG] Hosting started
2023-06-16 22:22:19.529 +03:00 [DBG] Connection id "0HMREJS0CO40N" accepted.
2023-06-16 22:22:19.531 +03:00 [DBG] Connection id "0HMREJS0CO40N" started.
2023-06-16 22:22:19.555 +03:00 [DBG] Connection id "0HMREJS0CO40N" received FIN.
2023-06-16 22:22:19.578 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 22:22:19.780 +03:00 [DBG] Connection id "0HMREJS0CO40N" stopped.
2023-06-16 22:22:19.800 +03:00 [DBG] Connection id "0HMREJS0CO40N" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 22:22:25.139 +03:00 [DBG] Connection id "0HMREJS0CO40O" accepted.
2023-06-16 22:22:25.143 +03:00 [DBG] Connection id "0HMREJS0CO40O" started.
2023-06-16 22:22:25.337 +03:00 [DBG] Connection 0HMREJS0CO40O established using the following protocol: "Tls12"
2023-06-16 22:22:25.798 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2023-06-16 22:22:25.900 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-16 22:22:25.990 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-06-16 22:22:25.990 +03:00 [DBG] Request did not match any endpoints
2023-06-16 22:22:26.170 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-06-16 22:22:26.672 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-06-16 22:22:26.673 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2023-06-16 22:22:26.753 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2023-06-16 22:22:26.774 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 964.9692ms
2023-06-16 22:22:26.784 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12014 application/javascript;+charset=utf-8 30.2876ms
2023-06-16 22:22:26.983 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 310.9463ms
2023-06-16 22:22:27.272 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-06-16 22:22:27.273 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-06-16 22:22:27.273 +03:00 [DBG] Request did not match any endpoints
2023-06-16 22:22:27.603 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 331.3869ms
2023-06-16 22:22:31.084 +03:00 [DBG] Connection id "0HMREJS0CO40O" received FIN.
2023-06-16 22:22:31.102 +03:00 [DBG] The connection queue processing loop for 0HMREJS0CO40O completed.
2023-06-16 22:22:31.117 +03:00 [DBG] Connection id "0HMREJS0CO40O" is closed. The last processed stream ID was 7.
2023-06-16 22:22:31.118 +03:00 [DBG] Connection id "0HMREJS0CO40O" sending FIN because: "The client closed the connection."
2023-06-16 22:22:31.119 +03:00 [DBG] Connection id "0HMREJS0CO40O" stopped.
2023-06-16 22:22:49.340 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-16 22:22:49.468 +03:00 [DBG] Hosting starting
2023-06-16 22:22:49.702 +03:00 [INF] Now listening on: https://localhost:7001
2023-06-16 22:22:49.702 +03:00 [INF] Now listening on: http://localhost:5030
2023-06-16 22:22:49.703 +03:00 [DBG] Loaded hosting startup assembly Booking_ReservationAPI
2023-06-16 22:22:49.703 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-16 22:22:49.703 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-16 22:22:49.703 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 22:22:49.704 +03:00 [INF] Hosting environment: Development
2023-06-16 22:22:49.704 +03:00 [INF] Content root path: C:\Users\Mira\source\TestApis\Booking\Booking_ReservationAPI
2023-06-16 22:22:49.704 +03:00 [DBG] Hosting started
2023-06-16 22:22:49.854 +03:00 [DBG] Connection id "0HMREJS9DUFPA" accepted.
2023-06-16 22:22:49.854 +03:00 [DBG] Connection id "0HMREJS9DUFPB" accepted.
2023-06-16 22:22:49.855 +03:00 [DBG] Connection id "0HMREJS9DUFPB" started.
2023-06-16 22:22:49.855 +03:00 [DBG] Connection id "0HMREJS9DUFPA" started.
2023-06-16 22:22:50.250 +03:00 [DBG] Connection id "0HMREJS9DUFPA" received FIN.
2023-06-16 22:22:50.251 +03:00 [DBG] Connection id "0HMREJS9DUFPB" received FIN.
2023-06-16 22:22:50.278 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 22:22:50.278 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 22:22:50.450 +03:00 [DBG] Connection id "0HMREJS9DUFPB" stopped.
2023-06-16 22:22:50.457 +03:00 [DBG] Connection id "0HMREJS9DUFPA" stopped.
2023-06-16 22:22:50.464 +03:00 [DBG] Connection id "0HMREJS9DUFPB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 22:22:50.464 +03:00 [DBG] Connection id "0HMREJS9DUFPA" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 22:22:51.138 +03:00 [DBG] Connection id "0HMREJS9DUFPC" accepted.
2023-06-16 22:22:51.139 +03:00 [DBG] Connection id "0HMREJS9DUFPC" started.
2023-06-16 22:22:51.757 +03:00 [DBG] Connection 0HMREJS9DUFPC established using the following protocol: "Tls12"
2023-06-16 22:22:52.100 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2023-06-16 22:22:52.265 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-16 22:22:52.314 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-06-16 22:22:52.315 +03:00 [DBG] Request did not match any endpoints
2023-06-16 22:22:52.595 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-06-16 22:22:54.181 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-06-16 22:22:54.185 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 2089.5168ms
2023-06-16 22:22:55.120 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2023-06-16 22:22:55.140 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12014 application/javascript;+charset=utf-8 19.5748ms
2023-06-16 22:22:55.539 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2023-06-16 22:22:55.629 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 89.3972ms
2023-06-16 22:22:56.199 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-06-16 22:22:56.200 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-06-16 22:22:56.200 +03:00 [DBG] Request did not match any endpoints
2023-06-16 22:22:56.537 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 337.2883ms
2023-06-16 22:22:57.059 +03:00 [DBG] Connection id "0HMREJS9DUFPD" accepted.
2023-06-16 22:22:57.060 +03:00 [DBG] Connection id "0HMREJS9DUFPD" started.
2023-06-16 22:22:57.074 +03:00 [DBG] Connection 0HMREJS9DUFPD established using the following protocol: "Tls12"
2023-06-16 22:22:57.096 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/ReservationAPI - -
2023-06-16 22:22:57.101 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ReservationAPI'
2023-06-16 22:22:57.104 +03:00 [DBG] Endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)' with route pattern 'api/ReservationAPI' is valid for the request path '/api/ReservationAPI'
2023-06-16 22:22:57.105 +03:00 [DBG] Request matched endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 22:22:57.109 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-06-16 22:22:57.112 +03:00 [INF] Executing endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 22:22:57.137 +03:00 [INF] Route matched with {action = "GetReservations", controller = "ReservationAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Booking_ReservationAPI.Models.APIResponse]] GetReservations() on controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI).
2023-06-16 22:22:57.139 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-16 22:22:57.140 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-16 22:22:57.140 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-16 22:22:57.140 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-16 22:22:57.141 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-16 22:22:57.143 +03:00 [DBG] Executing controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 22:22:57.431 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-16 22:22:58.121 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 22:22:58.250 +03:00 [DBG] Executed controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 22:22:59.008 +03:00 [DBG] Compiling query expression: 
'DbSet<Reservation>()'
2023-06-16 22:22:59.195 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Reservation>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Reservation.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Reservation.CreationDate (DateTime) Required, 1], [Property: Reservation.CustomerName (string) Required, 2], [Property: Reservation.Notes (string) Required, 3], [Property: Reservation.ReservationDate (DateTime) Required, 4], [Property: Reservation.ReservedBy (string) Required, 5], [Property: Reservation.Trip_Id (int) Required, 6] }
        SELECT r.Id, r.CreationDate, r.CustomerName, r.Notes, r.ReservationDate, r.ReservedBy, r.Trip_Id
        FROM Reservations AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Reservation>, 
    Booking_ReservationAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-06-16 22:22:59.228 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 22:22:59.231 +03:00 [DBG] Creating DbConnection.
2023-06-16 22:23:00.553 +03:00 [DBG] Created DbConnection. (1320ms).
2023-06-16 22:23:00.670 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1440ms).
2023-06-16 22:23:00.672 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1445ms).
2023-06-16 22:23:00.677 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:23:02.031 +03:00 [DBG] Connection id "0HMREJS9DUFPC" received FIN.
2023-06-16 22:23:02.032 +03:00 [DBG] Connection id "0HMREJS9DUFPC" is closed. The last processed stream ID was 7.
2023-06-16 22:23:02.033 +03:00 [DBG] Connection id "0HMREJS9DUFPC" sending FIN because: "The client closed the connection."
2023-06-16 22:23:02.034 +03:00 [DBG] The connection queue processing loop for 0HMREJS9DUFPC completed.
2023-06-16 22:23:02.036 +03:00 [DBG] Connection id "0HMREJS9DUFPC" stopped.
2023-06-16 22:23:04.969 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:23:04.978 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 22:23:05.372 +03:00 [INF] Executed DbCommand (391ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 22:23:05.448 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:23:05.519 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:23:05.519 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:23:05.533 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:23:05.547 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 163ms reading results.
2023-06-16 22:23:05.553 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:23:05.564 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (10ms).
2023-06-16 22:23:05.600 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-06-16 22:23:05.605 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-06-16 22:23:05.608 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-16 22:23:05.608 +03:00 [INF] Executing OkObjectResult, writing value of type 'Booking_ReservationAPI.Models.APIResponse'.
2023-06-16 22:23:05.901 +03:00 [INF] Executed action Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI) in 8756.8607ms
2023-06-16 22:23:05.903 +03:00 [INF] Executed endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 22:23:05.904 +03:00 [DBG] Connection id "0HMREJS9DUFPD" completed keep alive response.
2023-06-16 22:23:05.907 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 22:23:05.912 +03:00 [DBG] Disposing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:23:05.914 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-06-16 22:23:05.914 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/ReservationAPI - - - 200 572 application/json;+charset=utf-8 8818.3788ms
2023-06-16 22:24:10.568 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-16 22:24:10.689 +03:00 [DBG] Hosting starting
2023-06-16 22:24:10.809 +03:00 [INF] Now listening on: https://localhost:7001
2023-06-16 22:24:10.809 +03:00 [INF] Now listening on: http://localhost:5030
2023-06-16 22:24:10.809 +03:00 [DBG] Loaded hosting startup assembly Booking_ReservationAPI
2023-06-16 22:24:10.809 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-16 22:24:10.809 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-16 22:24:10.809 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 22:24:10.810 +03:00 [INF] Hosting environment: Development
2023-06-16 22:24:10.810 +03:00 [INF] Content root path: C:\Users\Mira\source\TestApis\Booking\Booking_ReservationAPI
2023-06-16 22:24:10.810 +03:00 [DBG] Hosting started
2023-06-16 22:24:10.908 +03:00 [DBG] Connection id "0HMREJT1IU98L" accepted.
2023-06-16 22:24:10.909 +03:00 [DBG] Connection id "0HMREJT1IU98M" accepted.
2023-06-16 22:24:10.909 +03:00 [DBG] Connection id "0HMREJT1IU98M" started.
2023-06-16 22:24:10.909 +03:00 [DBG] Connection id "0HMREJT1IU98L" started.
2023-06-16 22:24:10.948 +03:00 [DBG] Connection id "0HMREJT1IU98M" received FIN.
2023-06-16 22:24:10.949 +03:00 [DBG] Connection id "0HMREJT1IU98L" received FIN.
2023-06-16 22:24:10.956 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 22:24:10.986 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 22:24:10.987 +03:00 [DBG] Connection id "0HMREJT1IU98L" stopped.
2023-06-16 22:24:10.987 +03:00 [DBG] Connection id "0HMREJT1IU98M" stopped.
2023-06-16 22:24:10.995 +03:00 [DBG] Connection id "0HMREJT1IU98M" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 22:24:10.995 +03:00 [DBG] Connection id "0HMREJT1IU98L" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 22:24:11.151 +03:00 [DBG] Connection id "0HMREJT1IU98N" accepted.
2023-06-16 22:24:11.151 +03:00 [DBG] Connection id "0HMREJT1IU98N" started.
2023-06-16 22:24:11.455 +03:00 [DBG] Connection 0HMREJT1IU98N established using the following protocol: "Tls12"
2023-06-16 22:24:11.586 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2023-06-16 22:24:11.612 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-16 22:24:11.645 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-06-16 22:24:11.646 +03:00 [DBG] Request did not match any endpoints
2023-06-16 22:24:11.935 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-06-16 22:24:12.262 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-06-16 22:24:12.265 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 683.0099ms
2023-06-16 22:24:12.557 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2023-06-16 22:24:12.566 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12014 application/javascript;+charset=utf-8 7.9515ms
2023-06-16 22:24:12.630 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2023-06-16 22:24:12.655 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 24.5189ms
2023-06-16 22:24:12.659 +03:00 [DBG] Connection id "0HMREJT1IU98N" received FIN.
2023-06-16 22:24:12.663 +03:00 [DBG] The connection queue processing loop for 0HMREJT1IU98N completed.
2023-06-16 22:24:12.667 +03:00 [DBG] Connection id "0HMREJT1IU98N" is closed. The last processed stream ID was 5.
2023-06-16 22:24:12.667 +03:00 [DBG] Connection id "0HMREJT1IU98N" sending FIN because: "The client closed the connection."
2023-06-16 22:24:12.677 +03:00 [DBG] Connection id "0HMREJT1IU98N" stopped.
2023-06-16 22:24:12.933 +03:00 [DBG] Connection id "0HMREJT1IU98O" accepted.
2023-06-16 22:24:12.933 +03:00 [DBG] Connection id "0HMREJT1IU98O" started.
2023-06-16 22:24:12.935 +03:00 [DBG] Connection 0HMREJT1IU98O established using the following protocol: "Tls12"
2023-06-16 22:24:12.936 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-06-16 22:24:12.936 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-06-16 22:24:12.936 +03:00 [DBG] Request did not match any endpoints
2023-06-16 22:24:13.102 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 165.7140ms
2023-06-16 22:24:15.778 +03:00 [DBG] Connection id "0HMREJT1IU98P" accepted.
2023-06-16 22:24:15.778 +03:00 [DBG] Connection id "0HMREJT1IU98P" started.
2023-06-16 22:24:15.789 +03:00 [DBG] Connection 0HMREJT1IU98P established using the following protocol: "Tls12"
2023-06-16 22:24:15.811 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/ReservationAPI - -
2023-06-16 22:24:15.815 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ReservationAPI'
2023-06-16 22:24:15.818 +03:00 [DBG] Endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)' with route pattern 'api/ReservationAPI' is valid for the request path '/api/ReservationAPI'
2023-06-16 22:24:15.818 +03:00 [DBG] Request matched endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 22:24:15.821 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-06-16 22:24:15.824 +03:00 [INF] Executing endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 22:24:15.845 +03:00 [INF] Route matched with {action = "GetReservations", controller = "ReservationAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Booking_ReservationAPI.Models.APIResponse]] GetReservations() on controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI).
2023-06-16 22:24:15.847 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-16 22:24:15.847 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-16 22:24:15.848 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-16 22:24:15.848 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-16 22:24:15.848 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-16 22:24:15.850 +03:00 [DBG] Executing controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 22:24:15.940 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-16 22:24:16.499 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 22:24:16.569 +03:00 [DBG] Executed controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 22:24:16.604 +03:00 [DBG] Compiling query expression: 
'DbSet<Reservation>()'
2023-06-16 22:24:16.788 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Reservation>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Reservation.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Reservation.CreationDate (DateTime) Required, 1], [Property: Reservation.CustomerName (string) Required, 2], [Property: Reservation.Notes (string) Required, 3], [Property: Reservation.ReservationDate (DateTime) Required, 4], [Property: Reservation.ReservedBy (string) Required, 5], [Property: Reservation.Trip_Id (int) Required, 6] }
        SELECT r.Id, r.CreationDate, r.CustomerName, r.Notes, r.ReservationDate, r.ReservedBy, r.Trip_Id
        FROM Reservations AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Reservation>, 
    Booking_ReservationAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-06-16 22:24:16.863 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 22:24:16.866 +03:00 [DBG] Creating DbConnection.
2023-06-16 22:24:16.900 +03:00 [DBG] Created DbConnection. (29ms).
2023-06-16 22:24:16.907 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (46ms).
2023-06-16 22:24:16.910 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (50ms).
2023-06-16 22:24:16.916 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:24:18.886 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:24:18.896 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 22:24:19.172 +03:00 [INF] Executed DbCommand (275ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 22:24:19.231 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:24:19.268 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:24:19.268 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:24:19.277 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:24:19.286 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 107ms reading results.
2023-06-16 22:24:19.290 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:24:19.299 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (8ms).
2023-06-16 22:24:19.327 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-06-16 22:24:19.329 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-06-16 22:24:19.330 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-16 22:24:19.330 +03:00 [INF] Executing OkObjectResult, writing value of type 'Booking_ReservationAPI.Models.APIResponse'.
2023-06-16 22:24:19.487 +03:00 [INF] Executed action Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI) in 3634.7569ms
2023-06-16 22:24:19.488 +03:00 [INF] Executed endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 22:24:19.489 +03:00 [DBG] Connection id "0HMREJT1IU98P" completed keep alive response.
2023-06-16 22:24:19.492 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 22:24:19.497 +03:00 [DBG] Disposing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:24:19.498 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-06-16 22:24:19.499 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/ReservationAPI - - - 200 572 application/json;+charset=utf-8 3687.8895ms
2023-06-16 22:24:22.067 +03:00 [DBG] Connection id "0HMREJT1IU98O" received FIN.
2023-06-16 22:24:22.067 +03:00 [DBG] Connection id "0HMREJT1IU98O" is closed. The last processed stream ID was 1.
2023-06-16 22:24:22.067 +03:00 [DBG] Connection id "0HMREJT1IU98O" sending FIN because: "The client closed the connection."
2023-06-16 22:24:22.068 +03:00 [DBG] The connection queue processing loop for 0HMREJT1IU98O completed.
2023-06-16 22:24:22.068 +03:00 [DBG] Connection id "0HMREJT1IU98O" stopped.
2023-06-16 22:25:30.856 +03:00 [DBG] Connection id "0HMREJT1IU98P" received FIN.
2023-06-16 22:25:30.857 +03:00 [DBG] Connection id "0HMREJT1IU98P" disconnecting.
2023-06-16 22:25:30.857 +03:00 [DBG] Connection id "0HMREJT1IU98P" stopped.
2023-06-16 22:25:30.857 +03:00 [DBG] Connection id "0HMREJT1IU98P" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 22:26:18.522 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-16 22:26:18.608 +03:00 [DBG] Hosting starting
2023-06-16 22:26:18.712 +03:00 [INF] Now listening on: https://localhost:7001
2023-06-16 22:26:18.712 +03:00 [INF] Now listening on: http://localhost:5030
2023-06-16 22:26:18.713 +03:00 [DBG] Loaded hosting startup assembly Booking_ReservationAPI
2023-06-16 22:26:18.713 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-16 22:26:18.713 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-16 22:26:18.713 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 22:26:18.713 +03:00 [INF] Hosting environment: Development
2023-06-16 22:26:18.713 +03:00 [INF] Content root path: C:\Users\Mira\source\TestApis\Booking\Booking_ReservationAPI
2023-06-16 22:26:18.713 +03:00 [DBG] Hosting started
2023-06-16 22:26:18.735 +03:00 [DBG] Connection id "0HMREJU7M01K0" accepted.
2023-06-16 22:26:18.735 +03:00 [DBG] Connection id "0HMREJU7M01K0" started.
2023-06-16 22:26:18.742 +03:00 [DBG] Connection id "0HMREJU7M01K1" accepted.
2023-06-16 22:26:18.742 +03:00 [DBG] Connection id "0HMREJU7M01K1" started.
2023-06-16 22:26:18.775 +03:00 [DBG] Connection id "0HMREJU7M01K1" received FIN.
2023-06-16 22:26:18.775 +03:00 [DBG] Connection id "0HMREJU7M01K0" received FIN.
2023-06-16 22:26:18.783 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 22:26:18.783 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 22:26:18.808 +03:00 [DBG] Connection id "0HMREJU7M01K0" stopped.
2023-06-16 22:26:18.808 +03:00 [DBG] Connection id "0HMREJU7M01K1" stopped.
2023-06-16 22:26:18.813 +03:00 [DBG] Connection id "0HMREJU7M01K0" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 22:26:18.814 +03:00 [DBG] Connection id "0HMREJU7M01K1" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 22:26:18.887 +03:00 [DBG] Connection id "0HMREJU7M01K2" accepted.
2023-06-16 22:26:18.888 +03:00 [DBG] Connection id "0HMREJU7M01K2" started.
2023-06-16 22:26:19.090 +03:00 [DBG] Connection 0HMREJU7M01K2 established using the following protocol: "Tls12"
2023-06-16 22:26:19.178 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2023-06-16 22:26:19.204 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-16 22:26:19.246 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-06-16 22:26:19.247 +03:00 [DBG] Request did not match any endpoints
2023-06-16 22:26:19.538 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-06-16 22:26:19.806 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-06-16 22:26:19.810 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 633.9136ms
2023-06-16 22:26:21.049 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2023-06-16 22:26:21.057 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12014 application/javascript;+charset=utf-8 7.4133ms
2023-06-16 22:26:21.131 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2023-06-16 22:26:21.161 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 29.7127ms
2023-06-16 22:26:21.807 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-06-16 22:26:21.807 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-06-16 22:26:21.807 +03:00 [DBG] Request did not match any endpoints
2023-06-16 22:26:22.042 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 234.9191ms
2023-06-16 22:26:22.104 +03:00 [DBG] Connection id "0HMREJU7M01K2" received FIN.
2023-06-16 22:26:22.116 +03:00 [DBG] Connection id "0HMREJU7M01K2" is closed. The last processed stream ID was 7.
2023-06-16 22:26:22.117 +03:00 [DBG] Connection id "0HMREJU7M01K2" sending FIN because: "The client closed the connection."
2023-06-16 22:26:22.119 +03:00 [DBG] The connection queue processing loop for 0HMREJU7M01K2 completed.
2023-06-16 22:26:22.121 +03:00 [DBG] Connection id "0HMREJU7M01K2" stopped.
2023-06-16 22:26:25.587 +03:00 [DBG] Connection id "0HMREJU7M01K3" accepted.
2023-06-16 22:26:25.587 +03:00 [DBG] Connection id "0HMREJU7M01K3" started.
2023-06-16 22:26:25.600 +03:00 [DBG] Connection 0HMREJU7M01K3 established using the following protocol: "Tls12"
2023-06-16 22:26:25.625 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/ReservationAPI - -
2023-06-16 22:26:25.629 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ReservationAPI'
2023-06-16 22:26:25.634 +03:00 [DBG] Endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)' with route pattern 'api/ReservationAPI' is valid for the request path '/api/ReservationAPI'
2023-06-16 22:26:25.635 +03:00 [DBG] Request matched endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 22:26:25.639 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-06-16 22:26:25.643 +03:00 [INF] Executing endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 22:26:25.671 +03:00 [INF] Route matched with {action = "GetReservations", controller = "ReservationAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Booking_ReservationAPI.Models.APIResponse]] GetReservations() on controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI).
2023-06-16 22:26:25.673 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-16 22:26:25.673 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-16 22:26:25.674 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-16 22:26:25.674 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-16 22:26:25.674 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-16 22:26:25.676 +03:00 [DBG] Executing controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 22:26:25.843 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-16 22:26:26.670 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 22:26:26.784 +03:00 [DBG] Executed controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 22:26:26.852 +03:00 [DBG] Compiling query expression: 
'DbSet<Reservation>()'
2023-06-16 22:26:27.078 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Reservation>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Reservation.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Reservation.CreationDate (DateTime) Required, 1], [Property: Reservation.CustomerName (string) Required, 2], [Property: Reservation.Notes (string) Required, 3], [Property: Reservation.ReservationDate (DateTime) Required, 4], [Property: Reservation.ReservedBy (string) Required, 5], [Property: Reservation.Trip_Id (int) Required, 6] }
        SELECT r.Id, r.CreationDate, r.CustomerName, r.Notes, r.ReservationDate, r.ReservedBy, r.Trip_Id
        FROM Reservations AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Reservation>, 
    Booking_ReservationAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-06-16 22:26:27.142 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 22:26:27.145 +03:00 [DBG] Creating DbConnection.
2023-06-16 22:26:27.180 +03:00 [DBG] Created DbConnection. (30ms).
2023-06-16 22:26:27.189 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (48ms).
2023-06-16 22:26:27.192 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (52ms).
2023-06-16 22:26:27.198 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:26:29.673 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:26:29.680 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 22:26:29.884 +03:00 [INF] Executed DbCommand (201ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 22:26:29.947 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:26:29.986 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:26:29.987 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:26:29.995 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:26:30.005 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 113ms reading results.
2023-06-16 22:26:30.009 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:26:30.018 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (8ms).
2023-06-16 22:26:30.049 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-06-16 22:26:30.052 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-06-16 22:26:30.054 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-16 22:26:30.054 +03:00 [INF] Executing OkObjectResult, writing value of type 'Booking_ReservationAPI.Models.APIResponse'.
2023-06-16 22:26:30.220 +03:00 [INF] Executed action Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI) in 4541.7687ms
2023-06-16 22:26:30.220 +03:00 [INF] Executed endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 22:26:30.221 +03:00 [DBG] Connection id "0HMREJU7M01K3" completed keep alive response.
2023-06-16 22:26:30.224 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 22:26:30.228 +03:00 [DBG] Disposing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:26:30.229 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-06-16 22:26:30.230 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/ReservationAPI - - - 200 572 application/json;+charset=utf-8 4605.2156ms
2023-06-16 22:27:40.626 +03:00 [DBG] Connection id "0HMREJU7M01K3" received FIN.
2023-06-16 22:27:40.626 +03:00 [DBG] Connection id "0HMREJU7M01K3" disconnecting.
2023-06-16 22:27:40.627 +03:00 [DBG] Connection id "0HMREJU7M01K3" stopped.
2023-06-16 22:27:40.627 +03:00 [DBG] Connection id "0HMREJU7M01K3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 22:45:13.004 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-16 22:45:13.120 +03:00 [DBG] Hosting starting
2023-06-16 22:45:13.260 +03:00 [INF] Now listening on: https://localhost:7001
2023-06-16 22:45:13.260 +03:00 [INF] Now listening on: http://localhost:5030
2023-06-16 22:45:13.260 +03:00 [DBG] Loaded hosting startup assembly Booking_ReservationAPI
2023-06-16 22:45:13.260 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-16 22:45:13.260 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-16 22:45:13.260 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 22:45:13.261 +03:00 [INF] Hosting environment: Development
2023-06-16 22:45:13.261 +03:00 [INF] Content root path: C:\Users\Mira\source\TestApis\Booking\Booking_ReservationAPI
2023-06-16 22:45:13.261 +03:00 [DBG] Hosting started
2023-06-16 22:45:13.321 +03:00 [DBG] Connection id "0HMREK8PQ8CM8" accepted.
2023-06-16 22:45:13.322 +03:00 [DBG] Connection id "0HMREK8PQ8CM8" started.
2023-06-16 22:45:13.330 +03:00 [DBG] Connection id "0HMREK8PQ8CM9" accepted.
2023-06-16 22:45:13.330 +03:00 [DBG] Connection id "0HMREK8PQ8CM9" started.
2023-06-16 22:45:13.334 +03:00 [DBG] Connection id "0HMREK8PQ8CM8" received FIN.
2023-06-16 22:45:13.335 +03:00 [DBG] Connection id "0HMREK8PQ8CM9" received FIN.
2023-06-16 22:45:13.342 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 22:45:13.342 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-16 22:45:13.367 +03:00 [DBG] Connection id "0HMREK8PQ8CM9" stopped.
2023-06-16 22:45:13.367 +03:00 [DBG] Connection id "0HMREK8PQ8CM8" stopped.
2023-06-16 22:45:13.374 +03:00 [DBG] Connection id "0HMREK8PQ8CM8" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 22:45:13.376 +03:00 [DBG] Connection id "0HMREK8PQ8CM9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-16 22:45:13.466 +03:00 [DBG] Connection id "0HMREK8PQ8CMA" accepted.
2023-06-16 22:45:13.467 +03:00 [DBG] Connection id "0HMREK8PQ8CMA" started.
2023-06-16 22:45:13.755 +03:00 [DBG] Connection 0HMREK8PQ8CMA established using the following protocol: "Tls12"
2023-06-16 22:45:13.838 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2023-06-16 22:45:13.863 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-16 22:45:13.901 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-06-16 22:45:13.901 +03:00 [DBG] Request did not match any endpoints
2023-06-16 22:45:14.296 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-06-16 22:45:14.876 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-06-16 22:45:14.879 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 1044.8265ms
2023-06-16 22:45:15.223 +03:00 [DBG] Connection id "0HMREK8PQ8CMA" received FIN.
2023-06-16 22:45:15.231 +03:00 [DBG] Connection id "0HMREK8PQ8CMA" is closed. The last processed stream ID was 1.
2023-06-16 22:45:15.233 +03:00 [DBG] Connection id "0HMREK8PQ8CMA" sending FIN because: "The client closed the connection."
2023-06-16 22:45:15.236 +03:00 [DBG] The connection queue processing loop for 0HMREK8PQ8CMA completed.
2023-06-16 22:45:15.238 +03:00 [DBG] Connection id "0HMREK8PQ8CMA" stopped.
2023-06-16 22:45:15.616 +03:00 [DBG] Connection id "0HMREK8PQ8CMB" accepted.
2023-06-16 22:45:15.616 +03:00 [DBG] Connection id "0HMREK8PQ8CMB" started.
2023-06-16 22:45:15.619 +03:00 [DBG] Connection 0HMREK8PQ8CMB established using the following protocol: "Tls12"
2023-06-16 22:45:15.621 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2023-06-16 22:45:15.629 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12014 application/javascript;+charset=utf-8 6.4249ms
2023-06-16 22:45:15.725 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2023-06-16 22:45:15.752 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.7349ms
2023-06-16 22:45:16.326 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-06-16 22:45:16.326 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-06-16 22:45:16.326 +03:00 [DBG] Request did not match any endpoints
2023-06-16 22:45:16.520 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 194.1583ms
2023-06-16 22:45:18.043 +03:00 [DBG] Connection id "0HMREK8PQ8CMC" accepted.
2023-06-16 22:45:18.043 +03:00 [DBG] Connection id "0HMREK8PQ8CMC" started.
2023-06-16 22:45:18.054 +03:00 [DBG] Connection 0HMREK8PQ8CMC established using the following protocol: "Tls12"
2023-06-16 22:45:18.068 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/ReservationAPI - -
2023-06-16 22:45:18.071 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ReservationAPI'
2023-06-16 22:45:18.072 +03:00 [DBG] Endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)' with route pattern 'api/ReservationAPI' is valid for the request path '/api/ReservationAPI'
2023-06-16 22:45:18.073 +03:00 [DBG] Request matched endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 22:45:18.075 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-06-16 22:45:18.078 +03:00 [INF] Executing endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 22:45:18.096 +03:00 [INF] Route matched with {action = "GetReservations", controller = "ReservationAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Booking_ReservationAPI.Models.APIResponse]] GetReservations() on controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI).
2023-06-16 22:45:18.097 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-16 22:45:18.097 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-16 22:45:18.097 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-16 22:45:18.097 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-16 22:45:18.098 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-16 22:45:18.099 +03:00 [DBG] Executing controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 22:45:18.184 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-16 22:45:18.640 +03:00 [DBG] Entity Framework Core 7.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.7' with options: None
2023-06-16 22:45:18.745 +03:00 [DBG] Executed controller factory for controller Booking_ReservationAPI.Controllers.ReservationAPIController (Booking_ReservationAPI)
2023-06-16 22:45:19.500 +03:00 [DBG] Compiling query expression: 
'DbSet<Reservation>()'
2023-06-16 22:45:19.623 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Reservation>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Reservation.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Reservation.CreationDate (DateTime) Required, 1], [Property: Reservation.CustomerName (string) Required, 2], [Property: Reservation.Notes (string) Required, 3], [Property: Reservation.ReservationDate (DateTime) Required, 4], [Property: Reservation.ReservedBy (string) Required, 5], [Property: Reservation.Trip_Id (int) Required, 6] }
        SELECT r.Id, r.CreationDate, r.CustomerName, r.Notes, r.ReservationDate, r.ReservedBy, r.Trip_Id
        FROM Reservations AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Reservation>, 
    Booking_ReservationAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-06-16 22:45:19.650 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-16 22:45:19.652 +03:00 [DBG] Creating DbConnection.
2023-06-16 22:45:19.670 +03:00 [DBG] Created DbConnection. (15ms).
2023-06-16 22:45:19.674 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (24ms).
2023-06-16 22:45:19.676 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (26ms).
2023-06-16 22:45:19.679 +03:00 [DBG] Opening connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:45:20.316 +03:00 [DBG] Connection id "0HMREK8PQ8CMB" received FIN.
2023-06-16 22:45:20.316 +03:00 [DBG] Connection id "0HMREK8PQ8CMB" is closed. The last processed stream ID was 5.
2023-06-16 22:45:20.316 +03:00 [DBG] Connection id "0HMREK8PQ8CMB" sending FIN because: "The client closed the connection."
2023-06-16 22:45:20.317 +03:00 [DBG] The connection queue processing loop for 0HMREK8PQ8CMB completed.
2023-06-16 22:45:20.317 +03:00 [DBG] Connection id "0HMREK8PQ8CMB" stopped.
2023-06-16 22:45:23.300 +03:00 [DBG] Opened connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:45:23.310 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 22:45:23.678 +03:00 [INF] Executed DbCommand (371ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationDate], [r].[CustomerName], [r].[Notes], [r].[ReservationDate], [r].[ReservedBy], [r].[Trip_Id]
FROM [Reservations] AS [r]
2023-06-16 22:45:23.712 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:45:23.733 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:45:23.734 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-16 22:45:23.738 +03:00 [DBG] Closing data reader to 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:45:23.744 +03:00 [DBG] A data reader for 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' is being disposed after spending 60ms reading results.
2023-06-16 22:45:23.747 +03:00 [DBG] Closing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:45:23.752 +03:00 [DBG] Closed connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS' (4ms).
2023-06-16 22:45:23.774 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-06-16 22:45:23.778 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-06-16 22:45:23.779 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-16 22:45:23.779 +03:00 [INF] Executing OkObjectResult, writing value of type 'Booking_ReservationAPI.Models.APIResponse'.
2023-06-16 22:45:23.901 +03:00 [INF] Executed action Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI) in 5798.3257ms
2023-06-16 22:45:23.902 +03:00 [INF] Executed endpoint 'Booking_ReservationAPI.Controllers.ReservationAPIController.GetReservations (Booking_ReservationAPI)'
2023-06-16 22:45:23.902 +03:00 [DBG] Connection id "0HMREK8PQ8CMC" completed keep alive response.
2023-06-16 22:45:23.905 +03:00 [DBG] 'ApplicationDbContext' disposed.
2023-06-16 22:45:23.909 +03:00 [DBG] Disposing connection to database 'Booking_ReservAPI_DB' on server 'A\SQLEXPRESS'.
2023-06-16 22:45:23.911 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-06-16 22:45:23.911 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/ReservationAPI - - - 200 572 application/json;+charset=utf-8 5843.4347ms
2023-06-16 22:46:33.080 +03:00 [DBG] Connection id "0HMREK8PQ8CMC" received FIN.
2023-06-16 22:46:33.081 +03:00 [DBG] Connection id "0HMREK8PQ8CMC" disconnecting.
2023-06-16 22:46:33.082 +03:00 [DBG] Connection id "0HMREK8PQ8CMC" stopped.
2023-06-16 22:46:33.082 +03:00 [DBG] Connection id "0HMREK8PQ8CMC" sending FIN because: "The Socket transport's send loop completed gracefully."
